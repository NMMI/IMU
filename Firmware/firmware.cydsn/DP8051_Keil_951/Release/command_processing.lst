C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 1   


C51 COMPILER V9.51, COMPILATION OF MODULE COMMAND_PROCESSING
OBJECT MODULE PLACED IN .\DP8051_Keil_951\Release\command_processing.obj
COMPILER INVOKED BY: C:\Program Files (x86)\Cypress\PSoC Creator\4.2\PSoC Creator\import\keil\pk51\9.51\C51\BIN\c51.exe 
                    -command_processing.c NOIV LARGE MODDP2 OMF2 VB(1) NOIP INCDIR(.,Generated_Source\PSoC3) FF(3) DB DF(NDEBUG) WL(2) PR(.\D
                    -P8051_Keil_951\Release/command_processing.lst) CD OT(11,SPEED) OJ(.\DP8051_Keil_951\Release\command_processing.obj)

line level    source

*** MESSAGE C286 IN LINE 0 OF (null): license limits optimization to level 5
   1          // ----------------------------------------------------------------------------
   2          // BSD 3-Clause License
   3          
   4          // Copyright (c) 2016, qbrobotics
   5          // Copyright (c) 2017-2018, Centro "E.Piaggio"
   6          // All rights reserved.
   7          
   8          // Redistribution and use in source and binary forms, with or without
   9          // modification, are permitted provided that the following conditions are met:
  10          
  11          // * Redistributions of source code must retain the above copyright notice, this
  12          //   list of conditions and the following disclaimer.
  13          
  14          // * Redistributions in binary form must reproduce the above copyright notice,
  15          //   this list of conditions and the following disclaimer in the documentation
  16          //   and/or other materials provided with the distribution.
  17          
  18          // * Neither the name of the copyright holder nor the names of its
  19          //   contributors may be used to endorse or promote products derived from
  20          //   this software without specific prior written permission.
  21          
  22          // THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  23          // AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  24          // IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  25          // DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  26          // FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  27          // DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  28          // SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  29          // CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  30          // OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  31          // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  32          // POSSIBILITY OF SUCH DAMAGE.
  33          // ----------------------------------------------------------------------------
  34          
  35          /**
  36          * \file         command_processing.c
  37          *
  38          
  39          * \brief        Command processing functions.
  40          * \date         February 01, 2018
  41          * \author       _Centro "E.Piaggio"_
  42          * \copyright    (C) 2012-2016 qbrobotics. All rights reserved.
  43          * \copyright    (C) 2017-2018 Centro "E.Piaggio". All rights reserved.
  44          */
  45          
  46          //=================================================================     includes
  47          #include "command_processing.h"
  48          #include "interruptions.h"
  49          #include "utils.h"
  50          #include "globals.h"
  51          #include "commands.h"
  52          #include "IMU_functions.h"
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 2   

  53          #include <STDIO.H>
  54          
  55          //================================================================     variables
  56          
  57          reg8 * EEPROM_ADDR = (reg8 *) CYDEV_EE_BASE;
  58          
  59          //==============================================================================
  60          //                                                            RX DATA PROCESSING
  61          //==============================================================================
  62          //  This function checks for the availability of a data packet and process it:
  63          //      - Verify checksum;
  64          //      - Process commands;
  65          //==============================================================================
  66          
  67          void commProcess(){
  68   1      
  69   1          uint8 CYDATA rx_cmd;
  70   1      
  71   1          rx_cmd = g_rx.buffer[0];
  72   1      
  73   1      //==========================================================     verify checksum
  74   1      
  75   1          if (!(LCRChecksum(g_rx.buffer, g_rx.length - 1) == g_rx.buffer[g_rx.length - 1])){
  76   2              // Wrong checksum
  77   2              g_rx.ready = 0;
  78   2              return;
  79   2          }
  80   1      
  81   1      
  82   1          switch(rx_cmd) {
  83   2             
  84   2      //=========================================================     CMD_SET_BAUDRATE
  85   2                  
  86   2              case CMD_SET_BAUDRATE:
  87   2                  cmd_set_baudrate();
  88   2                  break;  
  89   2                  
  90   2      //=============================================================     CMD_GET_INFO
  91   2      
  92   2              case CMD_GET_INFO:
  93   2                  infoGet( *((uint16 *) &g_rx.buffer[1]));
  94   2                  break;
  95   2      
  96   2      //============================================================     CMD_GET_PARAM
  97   2                  
  98   2              case CMD_GET_PARAM_LIST:
  99   2                  get_param_list( *((uint16 *) &g_rx.buffer[1]));
 100   2                  break;
 101   2      
 102   2      //=================================================================     CMD_PING
 103   2                  
 104   2              case CMD_PING:
 105   2                  cmd_ping();
 106   2                  break;
 107   2      
 108   2      //=========================================================     CMD_STORE_PARAMS
 109   2                  
 110   2              case CMD_STORE_PARAMS:
 111   2                  cmd_store_params();
 112   2                  break;
 113   2      
 114   2      //=================================================     CMD_STORE_DEFAULT_PARAMS
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 3   

 115   2      
 116   2              case CMD_STORE_DEFAULT_PARAMS:
 117   2                  if(memStore(DEFAULT_EEPROM_DISPLACEMENT))
 118   2                      sendAcknowledgment(ACK_OK);
 119   2                  else
 120   2                      sendAcknowledgment(ACK_ERROR);
 121   2                  break;
 122   2      
 123   2      //=======================================================     CMD_RESTORE_PARAMS
 124   2      
 125   2              case CMD_RESTORE_PARAMS:
 126   2                  if(memRestore())
 127   2                      sendAcknowledgment(ACK_OK);
 128   2                  else
 129   2                      sendAcknowledgment(ACK_ERROR);
 130   2                  break;
 131   2      
 132   2      //=============================================================     CMD_INIT_MEM
 133   2      
 134   2              case CMD_INIT_MEM:
 135   2                  if(memInit())
 136   2                      sendAcknowledgment(ACK_OK);
 137   2                  else
 138   2                      sendAcknowledgment(ACK_ERROR);
 139   2                  break;
 140   2      
 141   2      //===========================================================     CMD_BOOTLOADER
 142   2      
 143   2              case CMD_BOOTLOADER:
 144   2                  //Not sure if ACK_OK is correct, should check
 145   2                  sendAcknowledgment(ACK_OK);
 146   2                  CyDelay(1000);
 147   2                  FTDI_ENABLE_REG_Write(0x00);
 148   2                  CyDelay(1000);
 149   2                  Bootloadable_Load();
 150   2                  break;
 151   2      
 152   2      //=====================================================     CMD_GET_IMU_READINGS
 153   2      
 154   2              case CMD_GET_IMU_READINGS:
 155   2                  cmd_get_imu_readings();
 156   2                  break;                
 157   2      
 158   2      //============================================================     CMD_GET_PARAM
 159   2                  
 160   2              case CMD_GET_IMU_PARAM:
 161   2                  get_param_list( *((uint16 *) &g_rx.buffer[1]));
 162   2                  break;
 163   2                  
 164   2      //=====================================================     CMD_GET_SENSORS
 165   2      
 166   2              case CMD_GET_ADC_RAW:
 167   2                  cmd_get_sensors();
 168   2                  break;                
 169   2                  
 170   2      //=========================================================== ALL OTHER COMMANDS
 171   2              default:
 172   2                  break;
 173   2                  
 174   2          }
 175   1      }
 176          
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 4   

 177          
 178          //==============================================================================
 179          //                                                                     INFO SEND
 180          //==============================================================================
 181          
 182          void infoSend(){
 183   1          unsigned char packet_string[1100];
 184   1          infoPrepare(packet_string);
 185   1          UART_RS485_PutString(packet_string);
 186   1      }
 187          
 188          
 189          //==============================================================================
 190          //                                                              COMMAND GET INFO
 191          //==============================================================================
 192          
 193          void infoGet(uint16 info_type) {
 194   1          static unsigned char packet_string[1100];
 195   1      
 196   1          //==================================     choose info type and prepare string
 197   1      
 198   1          switch (info_type) {
 199   2              case INFO_ALL:
 200   2                  infoPrepare(packet_string);
 201   2                  UART_RS485_PutString(packet_string);  
 202   2                  break;
 203   2              case INFO_READING:                        
 204   2                  infoReading(packet_string);
 205   2                  UART_RS485_PutString(packet_string);
 206   2                  break;
 207   2              default:
 208   2                  break;
 209   2          }
 210   1      }
 211          
 212          //==============================================================================
 213          //                                                            GET PARAMETER LIST
 214          //==============================================================================
 215          
 216          void get_param_list(uint16 index)
 217          {
 218   1          //Package to be sent variables
 219   1          uint8 packet_data[  PARAM_BYTE_SLOT   +     // Number of connected IMUs
 220   1                              6*PARAM_BYTE_SLOT +     // IMUs ID
 221   1                              9*PARAM_BYTE_SLOT +     // Mag cal parameters
 222   1                              PARAM_BYTE_SLOT   +     // 1 - Device ID
 223   1                              PARAM_BYTE_SLOT*N_IMU_MAX + // IMU configurations
 224   1                              PARAM_BYTE_SLOT   +     // SPI read delay
 225   1                              PARAM_MENU_SLOT   + PARAM_BYTE_SLOT + 1 ] = "";
 226   1          uint16 num_imus_id_params = 6;
 227   1          uint16 num_mag_cal_params = 0;
 228   1          uint16 first_imu_parameter = 2;
 229   1          uint16 packet_length = PARAM_BYTE_SLOT +
 230   1                                 num_imus_id_params*PARAM_BYTE_SLOT +
 231   1                                 num_mag_cal_params*PARAM_BYTE_SLOT +
 232   1                                 PARAM_BYTE_SLOT   + 
 233   1                                 (uint16)(PARAM_BYTE_SLOT*N_IMU_Connected) +
 234   1                                 PARAM_BYTE_SLOT + PARAM_MENU_SLOT + PARAM_BYTE_SLOT + 1;
 235   1      
 236   1          //Auxiliary variables
 237   1          uint16 CYDATA i, j, k, h;
 238   1          uint16 start_byte = 0;
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 5   

 239   1      
 240   1          //Parameters menu string definitions
 241   1          char n_imu_str[26]          = "Number of connected IMUs:";
 242   1          char ids_str[11]            = "";
 243   1          char mag_param_str[20]      = "Mag cal parameters:";
 244   1          char id_str[16]             = "";
 245   1          char imu_table_str[42]      = "";
 246   1          char spi_read_delay_str[26] = "";
 247   1          
 248   1          //Strings lenghts
 249   1          uint8 CYDATA id_str_len = strlen(id_str);
 250   1          uint8 CYDATA n_imu_str_len = strlen(n_imu_str);
 251   1          uint8 CYDATA ids_str_len = strlen(ids_str);
 252   1          uint8 CYDATA mag_param_str_len = strlen(mag_param_str);
 253   1          uint8 CYDATA imu_table_str_len = strlen(imu_table_str);
 254   1          uint8 CYDATA spi_read_delay_str_len = strlen(spi_read_delay_str);
 255   1          
 256   1          char spi_delay_menu[118]    = "";
 257   1          uint8 CYDATA spi_delay_menu_len;
 258   1          
 259   1          sprintf(spi_delay_menu, "0 -> None\n1 -> Low (%u us delay for each 8-bit register read)\n2 -> High (%u
             - us delay for each 8-bit register read)\n", (int)SPI_DELAY_LOW, (int)SPI_DELAY_HIGH);
 260   1          spi_delay_menu_len = strlen(spi_delay_menu);
 261   1      
 262   1          // Compute number of read parameters depending on N_IMU_Connected and
 263   1          // update packet_length
 264   1          num_mag_cal_params = (uint16)(N_IMU_Connected / 2);
 265   1          if ( (N_IMU_Connected - num_mag_cal_params*2) > 0 ) num_mag_cal_params++;
 266   1          
 267   1          packet_length = PARAM_BYTE_SLOT +
 268   1                          num_imus_id_params*PARAM_BYTE_SLOT +
 269   1                          num_mag_cal_params*PARAM_BYTE_SLOT +
 270   1                          PARAM_BYTE_SLOT   + 
 271   1                          (uint16)(PARAM_BYTE_SLOT*N_IMU_Connected) +
 272   1                          PARAM_MENU_SLOT + PARAM_BYTE_SLOT + 1;
 273   1      
 274   1          first_imu_parameter = 1 + num_imus_id_params + num_mag_cal_params + 2;
 275   1          packet_data[0] = CMD_GET_PARAM_LIST;
 276   1          packet_data[1] = 1 + num_imus_id_params + num_mag_cal_params + 1 + (uint8)N_IMU_Connected + 1;        
             -// NUM_PARAMS
 277   1      
 278   1          switch(index) {
 279   2              case 0:         //List of all parameters with relative types
 280   2                  /*-------------N IMU--------------*/
 281   2                  start_byte = 0;
 282   2                  packet_data[2] = TYPE_UINT8;
 283   2                  packet_data[3] = 1;
 284   2                  packet_data[4] = (uint8)N_IMU_Connected;
 285   2                  for(i = n_imu_str_len; i != 0; i--)
 286   2                      packet_data[5 + n_imu_str_len - i] = n_imu_str[n_imu_str_len - i];
 287   2                      
 288   2                  /*-------------IMUS ID--------------*/
 289   2                  start_byte = start_byte + PARAM_BYTE_SLOT;
 290   2                  i = 0;
 291   2                  for (k = 0; k < num_imus_id_params; k++){
 292   3                      sprintf(ids_str, "Port %u ID:", k);
 293   3                      h = 4;
 294   3                      ids_str_len = strlen(ids_str);
 295   3                      packet_data[2+start_byte + PARAM_BYTE_SLOT*k] = TYPE_UINT8;
 296   3                      packet_data[3+start_byte + PARAM_BYTE_SLOT*k] = 3;
 297   3                      
 298   3                      for (j = 3*k; j <= 3*k+2; j++) {  // for each possible imu on port k
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 6   

 299   4                          if (IMU_connected[i] == j) {
 300   5                              packet_data[h+start_byte + PARAM_BYTE_SLOT*k] = (uint8)IMU_connected[i];          
             -     
 301   5                              i++;
 302   5                          } 
 303   4                          else {
 304   5                              packet_data[h+start_byte + PARAM_BYTE_SLOT*k] = 255;
 305   5                          }
 306   4                          h++;
 307   4                      }
 308   3      
 309   3                      //if (IMU_connected[i] >= 3*k && IMU_connected[i] <= 3*k + 2)
 310   3                      for(j = ids_str_len; j != 0; j--)
 311   3                          packet_data[7+start_byte + PARAM_BYTE_SLOT*k + ids_str_len - j] = ids_str[ids_str_len 
             -- j];
 312   3                  }
 313   2                  
 314   2                  /*-------------GET MAG PARAM--------------*/
 315   2                  start_byte = start_byte + PARAM_BYTE_SLOT*num_imus_id_params;
 316   2                  for (k = 0; k < num_mag_cal_params; k++){
 317   3                      packet_data[2+start_byte + PARAM_BYTE_SLOT*k] = TYPE_UINT8;
 318   3                      
 319   3                      packet_data[3+start_byte + PARAM_BYTE_SLOT*k] = 3;
 320   3                      packet_data[4+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k]][0];
 321   3                      packet_data[5+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k]][1];
 322   3                      packet_data[6+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k]][2];
 323   3                      
 324   3                      // check if there is a second value
 325   3                      if ( N_IMU_Connected < 2*(k+1) ) {
 326   4                          // there is only one value
 327   4                          for(j = mag_param_str_len; j != 0; j--)
 328   4                              packet_data[7+start_byte + PARAM_BYTE_SLOT*k + mag_param_str_len - j] = mag_param_
             -str[mag_param_str_len - j];
 329   4                      }
 330   3                      else {
 331   4                          // fill the second value
 332   4                          packet_data[3+start_byte + PARAM_BYTE_SLOT*k] = 6;
 333   4                          packet_data[7+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k+1]][0
             -];
 334   4                          packet_data[8+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k+1]][1
             -];
 335   4                          packet_data[9+start_byte + PARAM_BYTE_SLOT*k] = (uint8) MagCal[IMU_connected[2*k+1]][2
             -];
 336   4                      
 337   4                          for(j = mag_param_str_len; j != 0; j--)
 338   4                              packet_data[10+start_byte + PARAM_BYTE_SLOT*k + mag_param_str_len - j] = mag_param
             -_str[mag_param_str_len - j];
 339   4                      }
 340   3                  }
 341   2                  
 342   2                  /*-----------------ID-----------------*/
 343   2                  
 344   2                  start_byte = start_byte + PARAM_BYTE_SLOT*num_mag_cal_params;
 345   2                  sprintf(id_str, "%u - Device ID:", first_imu_parameter-1);
 346   2                  id_str_len = strlen(id_str);
 347   2                  packet_data[2+start_byte] = TYPE_UINT8;
 348   2                  packet_data[3+start_byte] = 1;
 349   2                  packet_data[4+start_byte] = c_mem.id;
 350   2                  for(i = id_str_len; i != 0; i--)
 351   2                      packet_data[5+start_byte + id_str_len - i] = id_str[id_str_len - i];
 352   2                      
 353   2                  /*-------------GET IMUS MODE-------------*/
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 7   

 354   2                  
 355   2                  start_byte = start_byte + PARAM_BYTE_SLOT;
 356   2                  for (i = 0; i < (uint8)N_IMU_Connected; i++){
 357   3                      sprintf(imu_table_str, "%u - IMU %d configuration:", first_imu_parameter + i, (int) IMU_co
             -nnected[i]);
 358   3                      imu_table_str_len = strlen(imu_table_str);
 359   3                  
 360   3                      packet_data[(uint16)(2 + start_byte + PARAM_BYTE_SLOT*i)] = TYPE_UINT8;
 361   3                      packet_data[(uint16)(3 + start_byte + PARAM_BYTE_SLOT*i)] = 5;
 362   3                      
 363   3                      packet_data[(uint16)(4 + start_byte + PARAM_BYTE_SLOT*i)] = (uint8)(c_mem.IMU_conf[IMU_con
             -nected[i]][0]);
 364   3                      packet_data[(uint16)(5 + start_byte + PARAM_BYTE_SLOT*i)] = (uint8)(c_mem.IMU_conf[IMU_con
             -nected[i]][1]);
 365   3                      packet_data[(uint16)(6 + start_byte + PARAM_BYTE_SLOT*i)] = (uint8)(c_mem.IMU_conf[IMU_con
             -nected[i]][2]);
 366   3                      packet_data[(uint16)(7 + start_byte + PARAM_BYTE_SLOT*i)] = (uint8)(c_mem.IMU_conf[IMU_con
             -nected[i]][3]);
 367   3                      packet_data[(uint16)(8 + start_byte + PARAM_BYTE_SLOT*i)] = (uint8)(c_mem.IMU_conf[IMU_con
             -nected[i]][4]);
 368   3      
 369   3                      for(j = imu_table_str_len; j != 0; j--)
 370   3                          packet_data[(uint16)(9 + start_byte + PARAM_BYTE_SLOT*i + imu_table_str_len - j)] = im
             -u_table_str[imu_table_str_len - j];
 371   3                  }  
 372   2                
 373   2      
 374   2                  /*-----------------SPI DELAY-----------------*/
 375   2                  
 376   2                  start_byte = start_byte + (uint16)(PARAM_BYTE_SLOT*N_IMU_Connected) ;
 377   2                  sprintf(spi_read_delay_str, "%u - SPI read delay:", first_imu_parameter+N_IMU_Connected);
 378   2                  packet_data[2+start_byte] = TYPE_FLAG;
 379   2                  packet_data[3+start_byte] = 1;
 380   2                  packet_data[4+start_byte] = c_mem.SPI_read_delay;
 381   2                  switch(c_mem.SPI_read_delay) {
 382   3                      case 0: 
 383   3                          strcat(spi_read_delay_str, " None"); 
 384   3                          spi_read_delay_str_len = 26;
 385   3                          break;
 386   3                      case 1: 
 387   3                          strcat(spi_read_delay_str, " Low"); 
 388   3                          spi_read_delay_str_len = 25;
 389   3                          break;
 390   3                      case 2: 
 391   3                          strcat(spi_read_delay_str, " High");
 392   3                          spi_read_delay_str_len = 26;
 393   3                          break;
 394   3                      default:
 395   3                          break;
 396   3                  }            
 397   2                  for(i = spi_read_delay_str_len; i != 0; i--)
 398   2                      packet_data[5+start_byte + spi_read_delay_str_len - i] = spi_read_delay_str[spi_read_delay
             -_str_len - i];
 399   2                  //The following byte indicates the number of menus at the end of the packet to send
 400   2                  packet_data[5+start_byte + spi_read_delay_str_len] = 1;
 401   2                        
 402   2                  
 403   2                  /*------------PARAMETERS MENU-----------*/
 404   2                  start_byte = start_byte + PARAM_BYTE_SLOT;
 405   2                  for(i = spi_delay_menu_len; i!= 0; i--)
 406   2                      packet_data[(uint16)(2 + start_byte) + spi_delay_menu_len - i] = spi_delay_menu[spi_delay_
             -menu_len - i];
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 8   

 407   2      
 408   2                  packet_data[packet_length - 1] = LCRChecksum(packet_data,packet_length - 1);
 409   2                  commWrite(packet_data, packet_length);
 410   2                  UART_RS485_ClearTxBuffer();
 411   2              break;
 412   2      
 413   2      //=========================================================     other_params
 414   2              default: 
 415   2                  
 416   2                  if (index < first_imu_parameter-1)
 417   2                      break;
 418   2                  
 419   2                  if (index == first_imu_parameter+N_IMU_Connected) {
 420   3                      g_mem.SPI_read_delay = g_rx.buffer[3];  //SPI read delay - uint8
 421   3                      break;
 422   3                  }
 423   2                  
 424   2                  if (index == first_imu_parameter-1) {
 425   3                      g_mem.id = g_rx.buffer[3];          //ID - uint8
 426   3                  }
 427   2                  else {
 428   3                  
 429   3                      //Set Imu table (index > = first_imu_parameter)
 430   3                      g_mem.IMU_conf[IMU_connected[index-first_imu_parameter]][0] = g_rx.buffer[3];
 431   3                      g_mem.IMU_conf[IMU_connected[index-first_imu_parameter]][1] = g_rx.buffer[4];
 432   3                      g_mem.IMU_conf[IMU_connected[index-first_imu_parameter]][2] = g_rx.buffer[5];
 433   3                      g_mem.IMU_conf[IMU_connected[index-first_imu_parameter]][3] = g_rx.buffer[6];
 434   3                      g_mem.IMU_conf[IMU_connected[index-first_imu_parameter]][4] = g_rx.buffer[7];
 435   3                      
 436   3                      // Recompute IMU packets dimension
 437   3                      imus_data_size = 1; //header    
 438   3                      for (i = 0; i < N_IMU_Connected; i++)
 439   3                      {
 440   4                          single_imu_size[IMU_connected[i]] = 1 + 6*g_mem.IMU_conf[IMU_connected[i]][0] + 6*g_me
             -m.IMU_conf[IMU_connected[i]][1] + 6*g_mem.IMU_conf[IMU_connected[i]][2] + 16*g_mem.IMU_conf[IMU_connected[i]][3] + 2*g_m
             -em.IMU_conf[IMU_connected[i]][4]+ 1;
 441   4                          imus_data_size = imus_data_size + single_imu_size[IMU_connected[i]];
 442   4                      }
 443   3                      imus_data_size = imus_data_size + 1;    //checksum
 444   3                  
 445   3                  }
 446   2                  
 447   2              break;
 448   2          }
 449   1      }
 450          
 451          
 452          //==============================================================================
 453          //                                                           PREPARE DEVICE INFO
 454          //==============================================================================
 455          
 456          void infoPrepare(unsigned char *info_string)
 457          {
 458   1          int i;
 459   1          unsigned char str[100];
 460   1          if(c_mem.id != 250){                //To avoid dummy board ping
 461   2              strcpy(info_string, "");
 462   2              strcat(info_string, "\r\n");
 463   2              strcat(info_string, "Firmware version: ");
 464   2      #ifdef SOMA
                      strcat(info_string, SoMa);
              #else        
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 9   

 467   2              strcat(info_string, VERSION);
 468   2      #endif        
 469   2              strcat(info_string, "\r\n\r\n");
 470   2      
 471   2              strcat(info_string, "DEVICE INFO\r\n");
 472   2              sprintf(str, "ID: %d\r\n", (int) c_mem.id);
 473   2              strcat(info_string, str);
 474   2      
 475   2      #ifdef SOMA
                      strcat(info_string, "Low pass filter frequency for accelerometers: 184 Hz\r\n");
              #else
 478   2              strcat(info_string, "Low pass filter frequency for accelerometers: 10 Hz\r\n");
 479   2      #endif
 480   2      
 481   2              sprintf(str, "IMU Connected: %d\r\n", (int) N_IMU_Connected);
 482   2              strcat(info_string, str);
 483   2              
 484   2              strcat(info_string, "\r\n");
 485   2              
 486   2              strcat(info_string, "IMUs CONFIGURATION\r\n");
 487   2              for (i=0; i<N_IMU_Connected; i++){
 488   3                  sprintf(str, "Imu %d \r\n\tID: %d\r\n", i, (int) IMU_connected[i]);
 489   3                  strcat(info_string, str);
 490   3                  
 491   3                  sprintf(str, "\tAccelerometers: ");
 492   3                  if ((c_mem.IMU_conf[IMU_connected[i]][0]))
 493   3                      strcat(str, "YES\r\n");
 494   3                  else
 495   3                      strcat(str, "NO\r\n"); 
 496   3                  strcat(str, "\tGyroscopes: ");
 497   3                  if ((c_mem.IMU_conf[IMU_connected[i]][1]))
 498   3                      strcat(str, "YES\r\n");
 499   3                  else
 500   3                      strcat(str, "NO\r\n"); 
 501   3                  strcat(str, "\tMagnetometers: ");
 502   3                  if ((c_mem.IMU_conf[IMU_connected[i]][2]))
 503   3                      strcat(str, "YES\r\n");
 504   3                  else
 505   3                      strcat(str, "NO\r\n");
 506   3                  strcat(str, "\tQuaternion: ");                
 507   3                  if ((c_mem.IMU_conf[IMU_connected[i]][3]))
 508   3                      strcat(str, "YES\r\n");
 509   3                  else
 510   3                      strcat(str, "NO\r\n");
 511   3                  strcat(str, "\tTemperature: ");
 512   3                  if ((c_mem.IMU_conf[IMU_connected[i]][4]))
 513   3                      strcat(str, "YES\r\n");
 514   3                  else
 515   3                      strcat(str, "NO\r\n");
 516   3                       
 517   3                  strcat(info_string, str);
 518   3              }       
 519   2              
 520   2              strcat(info_string, "\r\n");
 521   2              
 522   2              sprintf(str, "Time between two reading cycles: %.3f ms", (float)(((uint32)timer_value0 - (uint32)t
             -imer_value)/1000.0));
 523   2              strcat(info_string, str);
 524   2              strcat(info_string, "\r\n");
 525   2              strcat(info_string, "\r\n");
 526   2              
 527   2              sprintf(str, "debug: %ld", (uint32)timer_value0 - (uint32)timer_value); //5000001
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 10  

 528   2              strcat(info_string, str);
 529   2              strcat(info_string, "\r\n");
 530   2              strcat(info_string, "\r\n");
 531   2          }
 532   1      }
 533          
 534          
 535          void infoReading(unsigned char* info_string)
 536          {
 537   1          int i;
 538   1          unsigned char str[100];
 539   1          
 540   1          strcpy(info_string, "");
 541   1          strcat(info_string, "\r\n");           
 542   1          strcat(info_string, "SENSORS INFO\r\n");
 543   1          for (i=0; i<N_IMU_Connected; i++){
 544   2              sprintf(str, "Imu %d \r\n\tID: %d\r\n", i, (int) IMU_connected[i]);
 545   2              strcat(info_string, str);
 546   2              
 547   2              if ((c_mem.IMU_conf[IMU_connected[i]][0])){
 548   3                  sprintf(str, "\tAcc: %d\t%d\t%d\r\n", (int16) g_imu[i].accel_value[0], (int16) g_imu[i].accel_
             -value[1],(int16) g_imu[i].accel_value[2]);
 549   3                  strcat(info_string, str);
 550   3              }
 551   2      
 552   2              if ((c_mem.IMU_conf[IMU_connected[i]][1])){
 553   3                  sprintf(str, "\tGyro: %d\t%d\t%d\r\n", (int16) g_imu[i].gyro_value[0], (int16) g_imu[i].gyro_v
             -alue[1],(int16) g_imu[i].gyro_value[2]);
 554   3                  strcat(info_string, str);
 555   3              }
 556   2      
 557   2              if ((c_mem.IMU_conf[IMU_connected[i]][2])){
 558   3                  sprintf(str, "\tMag: %d\t%d\t%d\r\n", (int16) g_imu[i].mag_value[0], (int16) g_imu[i].mag_valu
             -e[1],(int16) g_imu[i].mag_value[2]);
 559   3                  strcat(info_string, str);
 560   3              }
 561   2              
 562   2              if ((c_mem.IMU_conf[IMU_connected[i]][3])){
 563   3                  sprintf(str, "\tQuat: %.3f\t%.3f\t%.3f\t%.3f\r\n", (float) g_imu[i].quat_value[0], (float) g_i
             -mu[i].quat_value[1],(float) g_imu[i].quat_value[2], (float) g_imu[i].quat_value[3]);
 564   3                  strcat(info_string, str);
 565   3              }
 566   2              
 567   2              if ((c_mem.IMU_conf[IMU_connected[i]][4])){
 568   3                  sprintf(str, "\tTemperature: %d\r\n", (int16) g_imu[i].temp_value);
 569   3                  strcat(info_string, str);
 570   3              }
 571   2          }
 572   1      }
 573          //==============================================================================
 574          //                                                      WRITE FUNCTION FOR RS485
 575          //==============================================================================
 576          
 577          void commWrite(uint8 *packet_data, const uint16 packet_lenght)
 578          {
 579   1          uint16 CYDATA index;
 580   1      
 581   1          // frame - start
 582   1          UART_RS485_PutChar(':');
 583   1          UART_RS485_PutChar(':');
 584   1          
 585   1          // frame - ID
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 11  

 586   1          UART_RS485_PutChar(g_mem.id);
 587   1          
 588   1          // frame - length
 589   1          UART_RS485_PutChar((uint8)packet_lenght);
 590   1          
 591   1          // frame - packet data
 592   1          for(index = 0; index < packet_lenght; ++index)
 593   1              UART_RS485_PutChar(packet_data[index]);
 594   1          
 595   1          index = 0;
 596   1      
 597   1          while(!(UART_RS485_ReadTxStatus() & UART_RS485_TX_STS_COMPLETE) && index++ <= 1000){}
 598   1      
 599   1          RS485_CTS_Write(1);
 600   1          RS485_CTS_Write(0);
 601   1      }
 602          
 603          
 604          //==============================================================================
 605          //                                                             CHECKSUM FUNCTION
 606          //==============================================================================
 607          
 608          // Performs a XOR byte by byte on the entire vector
 609          
 610          uint8 LCRChecksum(uint8 *data_array, uint8 data_length) {
 611   1          
 612   1          uint8 CYDATA i;
 613   1          uint8 CYDATA checksum = 0x00;
 614   1          
 615   1          for(i = 0; i < data_length; ++i)
 616   1             checksum ^= data_array[i];
 617   1        
 618   1          return checksum;
 619   1      }
 620          
 621          //==============================================================================
 622          //                                                       ACKNOWLEDGMENT FUNCTION
 623          //==============================================================================
 624          
 625          void sendAcknowledgment(const uint8 value) {
 626   1          int packet_lenght = 2;
 627   1          uint8 packet_data[2];
 628   1      
 629   1          packet_data[0] = value;
 630   1          packet_data[1] = value;
 631   1      
 632   1          commWrite(packet_data, packet_lenght);
 633   1      }
 634          
 635          //==============================================================================
 636          //                                                                  STORE MEMORY
 637          //==============================================================================
 638          
 639          /**
 640          * This function stores current memory settings on the eeprom with the specified
 641          * displacement
 642          **/
 643          
 644          uint8 memStore(int displacement)
 645          {
 646   1          int i;  // iterator
 647   1          uint8 writeStatus;
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 12  

 648   1          int pages;
 649   1          uint8 ret_val = 1;
 650   1      
 651   1          // Disable Interrupt
 652   1          ISR_RS485_RX_Disable();
 653   1      
 654   1      
 655   1          // Retrieve temperature for better writing performance
 656   1          CySetTemp();
 657   1      
 658   1          memcpy( &c_mem, &g_mem, sizeof(g_mem) );
 659   1      
 660   1          pages = sizeof(g_mem) / 16 + (sizeof(g_mem) % 16 > 0);
 661   1      
 662   1          for(i = 0; i < pages; ++i) {
 663   2              writeStatus = EEPROM_Write(&g_mem.flag + 16 * i, i + displacement);
 664   2              if(writeStatus != CYRET_SUCCESS) {
 665   3                  ret_val = 0;
 666   3                  break;
 667   3              }
 668   2          }
 669   1      
 670   1          memcpy( &g_mem, &c_mem, sizeof(g_mem) );
 671   1      
 672   1          // Re-Enable Interrupt
 673   1          ISR_RS485_RX_Enable();
 674   1      
 675   1          return ret_val;
 676   1      }
 677          
 678          
 679          //==============================================================================
 680          //                                                                 RECALL MEMORY
 681          //==============================================================================
 682          
 683          /**
 684          * This function loads user settings from the eeprom.
 685          **/
 686          
 687          void memRecall()
 688          {
 689   1          uint16 i;
 690   1      
 691   1          for (i = 0; i < sizeof(g_mem); i++) {
 692   2              ((reg8 *) &g_mem.flag)[i] = EEPROM_ADDR[i];
 693   2          }
 694   1      
 695   1          //check for initialization
 696   1          if (g_mem.flag == FALSE) {
 697   2              memRestore();
 698   2          } else {
 699   2              memcpy( &c_mem, &g_mem, sizeof(g_mem) );
 700   2          }
 701   1      }
 702          
 703          
 704          //==============================================================================
 705          //                                                                RESTORE MEMORY
 706          //==============================================================================
 707          
 708          /**
 709          * This function loads default settings from the eeprom.
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 13  

 710          **/
 711          
 712          uint8 memRestore() {
 713   1          uint16 i;
 714   1      
 715   1          for (i = 0; i < sizeof(g_mem); i++) {
 716   2              ((reg8 *) &g_mem.flag)[i] = EEPROM_ADDR[i + (DEFAULT_EEPROM_DISPLACEMENT * 16)];
 717   2          }
 718   1      
 719   1          //check for initialization
 720   1          if (g_mem.flag == FALSE) {
 721   2              return memInit();
 722   2          } else {
 723   2              return memStore(0);
 724   2          }
 725   1      }
 726          
 727          //==============================================================================
 728          //                                                                   MEMORY INIT
 729          //==============================================================================
 730          
 731          /**
 732          * This function initialize memory when eeprom is compromised.
 733          **/
 734          
 735          uint8 memInit()
 736          {
 737   1          uint8 i;
 738   1          //uint8 j;
 739   1          
 740   1          //initialize memory settings
 741   1          g_mem.id            = 1;
 742   1      
 743   1          
 744   1          // set the initialized flag to show EEPROM has been populated
 745   1          g_mem.flag = TRUE;
 746   1          
 747   1          // Default value
 748   1          for (i = 0; i< N_IMU_MAX; i++){
 749   2              g_mem.IMU_conf[i][0] = 1;
 750   2              g_mem.IMU_conf[i][1] = 1;
 751   2              g_mem.IMU_conf[i][2] = 0;
 752   2              g_mem.IMU_conf[i][3] = 0;
 753   2              g_mem.IMU_conf[i][4] = 0;
 754   2              //for (j=0; j< NUM_OF_DATA; j++) {
 755   2              //    g_mem.IMU_conf[i][j] = 0;
 756   2              //}
 757   2          }
 758   1          
 759   1          //write that configuration to EEPROM
 760   1          return ( memStore(0) && memStore(DEFAULT_EEPROM_DISPLACEMENT) );
 761   1      }
 762          
 763          //==============================================================================
 764          //                                                    ROUTINE INTERRUPT FUNCTION
 765          //==============================================================================
 766          /**
 767          * Bunch of functions used on request from UART communication
 768          **/
 769          
 770          void cmd_set_baudrate(){
 771   1          
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 14  

 772   1          // Set BaudRate
 773   1          c_mem.baud_rate = g_rx.buffer[1];
 774   1          
 775   1          switch(g_rx.buffer[1]){
 776   2              case 13:
 777   2                  CLOCK_UART_SetDividerValue(13);
 778   2                  break;
 779   2              default:
 780   2                  CLOCK_UART_SetDividerValue(3);
 781   2          }
 782   1      }
 783          
 784          void cmd_ping(){
 785   1      
 786   1          uint8 packet_data[2];
 787   1      
 788   1          // Header
 789   1          packet_data[0] = CMD_PING;
 790   1          
 791   1          // Load Payload
 792   1          packet_data[1] = CMD_PING;
 793   1      
 794   1          // Send Package to uart
 795   1          commWrite(packet_data, 2);
 796   1      }
 797          
 798          void cmd_store_params(){
 799   1         
 800   1          if(memStore(0))
 801   1              sendAcknowledgment(ACK_OK);
 802   1          else
 803   1              sendAcknowledgment(ACK_ERROR);
 804   1      }
 805          
 806          void cmd_get_imu_readings(){
 807   1          //Retrieve accelerometers, gyroscopes and magnetometers readings
 808   1          
 809   1          uint8 k_imu;
 810   1          uint8 c = 1;
 811   1          uint8 k = 0;
 812   1          uint8 gl_c = 1;
 813   1          
 814   1          // Packet: header + imu id(uint8) + imu flags(uint8) + crc  
 815   1          uint8 packet_data[350];
 816   1          uint8 single_packet[22];
 817   1          
 818   1          //Header package 
 819   1          packet_data[0] = CMD_GET_IMU_READINGS;
 820   1       
 821   1          for (k_imu = 0; k_imu < N_IMU_Connected; k_imu++) 
 822   1          {   
 823   2              
 824   2              single_packet[0] = (uint8) 0x3A; //':';
 825   2              if (c_mem.IMU_conf[IMU_connected[k_imu]][0]){
 826   3                  *((int16 *) &single_packet[c]) = (int16) g_imu[k_imu].accel_value[0];
 827   3                  *((int16 *) &single_packet[c+2]) = (int16) g_imu[k_imu].accel_value[1];
 828   3                  *((int16 *) &single_packet[c+4]) = (int16) g_imu[k_imu].accel_value[2];
 829   3                  c = c + 6;
 830   3              }
 831   2              if (c_mem.IMU_conf[IMU_connected[k_imu]][1]){
 832   3                  *((int16 *) &single_packet[c])   = (int16) g_imu[k_imu].gyro_value[0];
 833   3                  *((int16 *) &single_packet[c+2]) = (int16) g_imu[k_imu].gyro_value[1];
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 15  

 834   3                  *((int16 *) &single_packet[c+4]) = (int16) g_imu[k_imu].gyro_value[2];
 835   3                  c = c + 6;
 836   3              }
 837   2              if (c_mem.IMU_conf[IMU_connected[k_imu]][2]){
 838   3                  *((int16 *) &single_packet[c])   = (int16) g_imu[k_imu].mag_value[0];
 839   3                  *((int16 *) &single_packet[c+2]) = (int16) g_imu[k_imu].mag_value[1];
 840   3                  *((int16 *) &single_packet[c+4]) = (int16) g_imu[k_imu].mag_value[2];
 841   3                  c = c + 6;
 842   3              }
 843   2              if (c_mem.IMU_conf[IMU_connected[k_imu]][3]){
 844   3                  *((float *) &single_packet[c])   = (float) g_imu[k_imu].quat_value[0];
 845   3                  *((float *) &single_packet[c+4]) = (float) g_imu[k_imu].quat_value[1];
 846   3                  *((float *) &single_packet[c+8]) = (float) g_imu[k_imu].quat_value[2];
 847   3                  *((float *) &single_packet[c+12]) = (float) g_imu[k_imu].quat_value[3];
 848   3                  c = c + 16;
 849   3              }
 850   2              if (c_mem.IMU_conf[IMU_connected[k_imu]][4]){
 851   3                  *((int16 *) &single_packet[c])   = (int16) g_imu[k_imu].temp_value;
 852   3                  c = c + 2;
 853   3              }
 854   2              single_packet[single_imu_size[IMU_connected[k_imu]] - 1] = (uint8) 0x3A; //':';
 855   2              c = 1;
 856   2                     
 857   2              for(k=0; k < single_imu_size[IMU_connected[k_imu]]; k++) {
 858   3                  packet_data[gl_c + k] = (uint8) single_packet[k]; 
 859   3              }
 860   2              gl_c = gl_c + single_imu_size[IMU_connected[k_imu]];  
 861   2              
 862   2              memset(&single_packet, 0, sizeof(single_packet));     
 863   2              
 864   2          }
 865   1      
 866   1          // Calculate Checksum and send message to UART 
 867   1          packet_data[imus_data_size-1] = LCRChecksum (packet_data, imus_data_size-1);
 868   1          commWrite(packet_data, imus_data_size);
 869   1      }
 870          
 871          void cmd_get_sensors(){
 872   1          
 873   1          uint8 packet_data[6];
 874   1      
 875   1          // Header        
 876   1          packet_data[0] = CMD_GET_ADC_RAW;
 877   1          
 878   1          *((int16 *) &packet_data[1]) = (int16) sensor_value_1;
 879   1          *((int16 *) &packet_data[3]) = (int16) sensor_value_2;
 880   1      
 881   1          packet_data[5] = LCRChecksum (packet_data, 5);
 882   1      
 883   1          commWrite(packet_data, 6);
 884   1      
 885   1      }
 886          
 887          
 888          /* [] END OF FILE */
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 16  

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION commProcess (BEGIN)
                                           ; SOURCE LINE # 67
                                           ; SOURCE LINE # 71
0000 900000      E     MOV     DPTR,#g_rx
0003 E0                MOVX    A,@DPTR
0004 F500        R     MOV     rx_cmd,A
                                           ; SOURCE LINE # 75
0006 7B01              MOV     R3,#01H
0008 7A00        E     MOV     R2,#HIGH g_rx
000A 7900        E     MOV     R1,#LOW g_rx
000C 900000      E     MOV     DPTR,#g_rx+080H
000F E0                MOVX    A,@DPTR
0010 A3                INC     DPTR
0011 E0                MOVX    A,@DPTR
0012 14                DEC     A
0013 FD                MOV     R5,A
0014 120000      R     LCALL   _LCRChecksum
0017 900000      E     MOV     DPTR,#g_rx+080H
001A E0                MOVX    A,@DPTR
001B FC                MOV     R4,A
001C A3                INC     DPTR
001D E0                MOVX    A,@DPTR
001E 2400        E     ADD     A,#LOW g_rx+0FFFFH
0020 F582              MOV     DPL,A
0022 7400        E     MOV     A,#HIGH g_rx+0FFFFH
0024 3C                ADDC    A,R4
0025 F583              MOV     DPH,A
0027 E0                MOVX    A,@DPTR
0028 B50703            CJNE    A,AR7,?C0002
002B D3                SETB    C
002C 8001              SJMP    ?C0003
002E         ?C0002:
002E C3                CLR     C
002F         ?C0003:
002F 4006              JC      ?C0001
                                           ; SOURCE LINE # 77
0031 E4                CLR     A
0032 900000      E     MOV     DPTR,#g_rx+084H
0035 F0                MOVX    @DPTR,A
0036 22                RET     
                                           ; SOURCE LINE # 79
0037         ?C0001:
                                           ; SOURCE LINE # 82
0037 E500        R     MOV     A,rx_cmd
0039 120000      E     LCALL   ?C?CCASE
003C 0000        R     DW      ?C0009
003E 00                DB      00H
003F 0000        R     DW      ?C0010
0041 03                DB      03H
0042 0000        R     DW      ?C0011
0044 04                DB      04H
0045 0000        R     DW      ?C0014
0047 05                DB      05H
0048 0000        R     DW      ?C0007
004A 06                DB      06H
004B 0000        R     DW      ?C0020
004D 09                DB      09H
004E 0000        R     DW      ?C0017
0050 0A                DB      0AH
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 17  

0051 0000        R     DW      ?C0008
0053 0C                DB      0CH
0054 0000        R     DW      ?C0006
0056 8B                DB      08BH
0057 0000        R     DW      ?C0021
0059 A1                DB      0A1H
005A 0000        R     DW      ?C0022
005C A2                DB      0A2H
005D 0000        R     DW      ?C0023
005F A6                DB      0A6H
0060 0000              DW      00H
0062 0000        R     DW      ?C0004
                                           ; SOURCE LINE # 86
0064         ?C0006:
                                           ; SOURCE LINE # 87
0064 120000      R     LCALL   cmd_set_baudrate
                                           ; SOURCE LINE # 88
0067 22                RET     
                                           ; SOURCE LINE # 92
0068         ?C0007:
                                           ; SOURCE LINE # 93
0068 900000      E     MOV     DPTR,#g_rx+01H
006B E0                MOVX    A,@DPTR
006C FE                MOV     R6,A
006D A3                INC     DPTR
006E E0                MOVX    A,@DPTR
006F FF                MOV     R7,A
0070 120000      R     LCALL   _infoGet
                                           ; SOURCE LINE # 94
0073 22                RET     
                                           ; SOURCE LINE # 98
0074         ?C0008:
                                           ; SOURCE LINE # 99
0074 900000      E     MOV     DPTR,#g_rx+01H
0077 E0                MOVX    A,@DPTR
0078 FE                MOV     R6,A
0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FF                MOV     R7,A
007C 120000      R     LCALL   _get_param_list
                                           ; SOURCE LINE # 100
007F 22                RET     
                                           ; SOURCE LINE # 104
0080         ?C0009:
                                           ; SOURCE LINE # 105
0080 120000      R     LCALL   cmd_ping
                                           ; SOURCE LINE # 106
0083 22                RET     
                                           ; SOURCE LINE # 110
0084         ?C0010:
                                           ; SOURCE LINE # 111
0084 120000      R     LCALL   cmd_store_params
                                           ; SOURCE LINE # 112
0087 22                RET     
                                           ; SOURCE LINE # 116
0088         ?C0011:
                                           ; SOURCE LINE # 117
0088 7F32              MOV     R7,#032H
008A 7E00              MOV     R6,#00H
008C 120000      R     LCALL   _memStore
008F EF                MOV     A,R7
0090 6006              JZ      ?C0012
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 18  

                                           ; SOURCE LINE # 118
0092 7F01              MOV     R7,#01H
0094 120000      R     LCALL   _sendAcknowledgment
0097 22                RET     
0098         ?C0012:
                                           ; SOURCE LINE # 120
0098 E4                CLR     A
0099 FF                MOV     R7,A
009A 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 121
009D 22                RET     
                                           ; SOURCE LINE # 125
009E         ?C0014:
                                           ; SOURCE LINE # 126
009E 120000      R     LCALL   memRestore
00A1 EF                MOV     A,R7
00A2 6006              JZ      ?C0015
                                           ; SOURCE LINE # 127
00A4 7F01              MOV     R7,#01H
00A6 120000      R     LCALL   _sendAcknowledgment
00A9 22                RET     
00AA         ?C0015:
                                           ; SOURCE LINE # 129
00AA E4                CLR     A
00AB FF                MOV     R7,A
00AC 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 130
00AF 22                RET     
                                           ; SOURCE LINE # 134
00B0         ?C0017:
                                           ; SOURCE LINE # 135
00B0 120000      R     LCALL   memInit
00B3 EF                MOV     A,R7
00B4 6006              JZ      ?C0018
                                           ; SOURCE LINE # 136
00B6 7F01              MOV     R7,#01H
00B8 120000      R     LCALL   _sendAcknowledgment
00BB 22                RET     
00BC         ?C0018:
                                           ; SOURCE LINE # 138
00BC E4                CLR     A
00BD FF                MOV     R7,A
00BE 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 139
00C1 22                RET     
                                           ; SOURCE LINE # 143
00C2         ?C0020:
                                           ; SOURCE LINE # 145
00C2 7F01              MOV     R7,#01H
00C4 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 146
00C7 E4                CLR     A
00C8 7FE8              MOV     R7,#0E8H
00CA 7E03              MOV     R6,#03H
00CC FD                MOV     R5,A
00CD FC                MOV     R4,A
00CE 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 147
00D1 E4                CLR     A
00D2 FF                MOV     R7,A
00D3 120000      E     LCALL   _FTDI_ENABLE_REG_Write
                                           ; SOURCE LINE # 148
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 19  

00D6 E4                CLR     A
00D7 7FE8              MOV     R7,#0E8H
00D9 7E03              MOV     R6,#03H
00DB FD                MOV     R5,A
00DC FC                MOV     R4,A
00DD 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 149
00E0 120000      E     LCALL   Bootloadable_Load
                                           ; SOURCE LINE # 150
00E3 22                RET     
                                           ; SOURCE LINE # 154
00E4         ?C0021:
                                           ; SOURCE LINE # 155
00E4 120000      R     LCALL   cmd_get_imu_readings
                                           ; SOURCE LINE # 156
00E7 22                RET     
                                           ; SOURCE LINE # 160
00E8         ?C0022:
                                           ; SOURCE LINE # 161
00E8 900000      E     MOV     DPTR,#g_rx+01H
00EB E0                MOVX    A,@DPTR
00EC FE                MOV     R6,A
00ED A3                INC     DPTR
00EE E0                MOVX    A,@DPTR
00EF FF                MOV     R7,A
00F0 120000      R     LCALL   _get_param_list
                                           ; SOURCE LINE # 162
00F3 22                RET     
                                           ; SOURCE LINE # 166
00F4         ?C0023:
                                           ; SOURCE LINE # 167
00F4 120000      R     LCALL   cmd_get_sensors
                                           ; SOURCE LINE # 168
                                           ; SOURCE LINE # 171
                                           ; SOURCE LINE # 172
                                           ; SOURCE LINE # 174
                                           ; SOURCE LINE # 175
00F7         ?C0004:
00F7 22                RET     
             ; FUNCTION commProcess (END)

             ; FUNCTION infoSend (BEGIN)
                                           ; SOURCE LINE # 182
                                           ; SOURCE LINE # 184
0000 7B01              MOV     R3,#01H
0002 7A00        R     MOV     R2,#HIGH packet_string
0004 7900        R     MOV     R1,#LOW packet_string
0006 120000      R     LCALL   _infoPrepare
                                           ; SOURCE LINE # 185
0009 7B01              MOV     R3,#01H
000B 7A00        R     MOV     R2,#HIGH packet_string
000D 7900        R     MOV     R1,#LOW packet_string
000F 120000      E     LCALL   _UART_RS485_PutString
                                           ; SOURCE LINE # 186
0012 22                RET     
             ; FUNCTION infoSend (END)

             ; FUNCTION _infoGet (BEGIN)
                                           ; SOURCE LINE # 193
;---- Variable 'info_type' assigned to Register 'R6/R7' ----
                                           ; SOURCE LINE # 198
0000 EE                MOV     A,R6
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 20  

0001 702C              JNZ     ?C0030
0003 EF                MOV     A,R7
0004 14                DEC     A
0005 6016              JZ      ?C0028
0007 04                INC     A
0008 7025              JNZ     ?C0030
                                           ; SOURCE LINE # 199
000A         ?C0027:
                                           ; SOURCE LINE # 200
000A 7B01              MOV     R3,#01H
000C 7A00        R     MOV     R2,#HIGH packet_string
000E 7900        R     MOV     R1,#LOW packet_string
0010 120000      R     LCALL   _infoPrepare
                                           ; SOURCE LINE # 201
0013 7B01              MOV     R3,#01H
0015 7A00        R     MOV     R2,#HIGH packet_string
0017 7900        R     MOV     R1,#LOW packet_string
0019 120000      E     LCALL   _UART_RS485_PutString
                                           ; SOURCE LINE # 202
001C 22                RET     
                                           ; SOURCE LINE # 203
001D         ?C0028:
                                           ; SOURCE LINE # 204
001D 7B01              MOV     R3,#01H
001F 7A00        R     MOV     R2,#HIGH packet_string
0021 7900        R     MOV     R1,#LOW packet_string
0023 120000      R     LCALL   _infoReading
                                           ; SOURCE LINE # 205
0026 7B01              MOV     R3,#01H
0028 7A00        R     MOV     R2,#HIGH packet_string
002A 7900        R     MOV     R1,#LOW packet_string
002C 120000      E     LCALL   _UART_RS485_PutString
                                           ; SOURCE LINE # 206
                                           ; SOURCE LINE # 207
                                           ; SOURCE LINE # 208
                                           ; SOURCE LINE # 209
                                           ; SOURCE LINE # 210
002F         ?C0030:
002F 22                RET     
             ; FUNCTION _infoGet (END)

             ; FUNCTION _get_param_list (BEGIN)
                                           ; SOURCE LINE # 216
0000 900000      R     MOV     DPTR,#index
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 217
                                           ; SOURCE LINE # 225
0008 7800        R     MOV     R0,#LOW packet_data
000A 7C00        R     MOV     R4,#HIGH packet_data
000C 7D01              MOV     R5,#01H
000E 7BFF              MOV     R3,#0FFH
0010 7A00        R     MOV     R2,#HIGH _?ix1000
0012 7900        R     MOV     R1,#LOW _?ix1000
0014 7E07              MOV     R6,#07H
0016 7F9F              MOV     R7,#09FH
0018 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 226
001B 900000      R     MOV     DPTR,#num_imus_id_params
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 21  

001E E4                CLR     A
001F F0                MOVX    @DPTR,A
0020 A3                INC     DPTR
0021 7406              MOV     A,#06H
0023 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 227
0024 E4                CLR     A
0025 A3                INC     DPTR
0026 F0                MOVX    @DPTR,A
0027 A3                INC     DPTR
0028 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 228
0029 A3                INC     DPTR
002A F0                MOVX    @DPTR,A
002B A3                INC     DPTR
002C 7402              MOV     A,#02H
002E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 229
002F 7C00              MOV     R4,#00H
0031 7D32              MOV     R5,#032H
0033 7F00              MOV     R7,#00H
0035 7E00              MOV     R6,#00H
0037 120000      E     LCALL   ?C?IMUL
003A AA06              MOV     R2,AR6
003C AB07              MOV     R3,AR7
003E 7F06              MOV     R7,#06H
0040 7E00              MOV     R6,#00H
0042 120000      E     LCALL   ?C?IMUL
0045 EF                MOV     A,R7
0046 2B                ADD     A,R3
0047 FD                MOV     R5,A
0048 EE                MOV     A,R6
0049 3A                ADDC    A,R2
004A FC                MOV     R4,A
004B 900000      E     MOV     DPTR,#N_IMU_Connected
004E E0                MOVX    A,@DPTR
004F 75F032            MOV     B,#032H
0052 A4                MUL     AB
0053 FF                MOV     R7,A
0054 2D                ADD     A,R5
0055 FF                MOV     R7,A
0056 EC                MOV     A,R4
0057 35F0              ADDC    A,B
0059 CF                XCH     A,R7
005A 245F              ADD     A,#05FH
005C CF                XCH     A,R7
005D 3401              ADDC    A,#01H
005F 900000      R     MOV     DPTR,#packet_length
0062 F0                MOVX    @DPTR,A
0063 A3                INC     DPTR
0064 EF                MOV     A,R7
0065 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 238
0066 E4                CLR     A
0067 A3                INC     DPTR
0068 F0                MOVX    @DPTR,A
0069 A3                INC     DPTR
006A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 241
006B 7800        R     MOV     R0,#LOW n_imu_str
006D 7C00        R     MOV     R4,#HIGH n_imu_str
006F 7D01              MOV     R5,#01H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 22  

0071 7BFF              MOV     R3,#0FFH
0073 7A00        R     MOV     R2,#HIGH _?ix1001
0075 7900        R     MOV     R1,#LOW _?ix1001
0077 FE                MOV     R6,A
0078 7F1A              MOV     R7,#01AH
007A 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 242
007D 7800        R     MOV     R0,#LOW ids_str
007F 7C00        R     MOV     R4,#HIGH ids_str
0081 7D01              MOV     R5,#01H
0083 7BFF              MOV     R3,#0FFH
0085 7A00        R     MOV     R2,#HIGH _?ix1002
0087 7900        R     MOV     R1,#LOW _?ix1002
0089 7E00              MOV     R6,#00H
008B 7F0B              MOV     R7,#0BH
008D 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 243
0090 7800        R     MOV     R0,#LOW mag_param_str
0092 7C00        R     MOV     R4,#HIGH mag_param_str
0094 7D01              MOV     R5,#01H
0096 7BFF              MOV     R3,#0FFH
0098 7A00        R     MOV     R2,#HIGH _?ix1003
009A 7900        R     MOV     R1,#LOW _?ix1003
009C 7E00              MOV     R6,#00H
009E 7F14              MOV     R7,#014H
00A0 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 244
00A3 7800        R     MOV     R0,#LOW id_str
00A5 7C00        R     MOV     R4,#HIGH id_str
00A7 7D01              MOV     R5,#01H
00A9 7BFF              MOV     R3,#0FFH
00AB 7A00        R     MOV     R2,#HIGH _?ix1004
00AD 7900        R     MOV     R1,#LOW _?ix1004
00AF 7E00              MOV     R6,#00H
00B1 7F10              MOV     R7,#010H
00B3 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 245
00B6 7800        R     MOV     R0,#LOW imu_table_str
00B8 7C00        R     MOV     R4,#HIGH imu_table_str
00BA 7D01              MOV     R5,#01H
00BC 7BFF              MOV     R3,#0FFH
00BE 7A00        R     MOV     R2,#HIGH _?ix1005
00C0 7900        R     MOV     R1,#LOW _?ix1005
00C2 7E00              MOV     R6,#00H
00C4 7F2A              MOV     R7,#02AH
00C6 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 246
00C9 7800        R     MOV     R0,#LOW spi_read_delay_str
00CB 7C00        R     MOV     R4,#HIGH spi_read_delay_str
00CD 7D01              MOV     R5,#01H
00CF 7BFF              MOV     R3,#0FFH
00D1 7A00        R     MOV     R2,#HIGH _?ix1006
00D3 7900        R     MOV     R1,#LOW _?ix1006
00D5 7E00              MOV     R6,#00H
00D7 7F1A              MOV     R7,#01AH
00D9 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 249
00DC 7B01              MOV     R3,#01H
00DE 7A00        R     MOV     R2,#HIGH id_str
00E0 7900        R     MOV     R1,#LOW id_str
00E2 120000      E     LCALL   _strlen
00E5 8F00        R     MOV     id_str_len,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 23  

                                           ; SOURCE LINE # 250
00E7 7B01              MOV     R3,#01H
00E9 7A00        R     MOV     R2,#HIGH n_imu_str
00EB 7900        R     MOV     R1,#LOW n_imu_str
00ED 120000      E     LCALL   _strlen
00F0 8F00        R     MOV     n_imu_str_len,R7
                                           ; SOURCE LINE # 251
00F2 7B01              MOV     R3,#01H
00F4 7A00        R     MOV     R2,#HIGH ids_str
00F6 7900        R     MOV     R1,#LOW ids_str
00F8 120000      E     LCALL   _strlen
00FB 8F00        R     MOV     ids_str_len,R7
                                           ; SOURCE LINE # 252
00FD 7B01              MOV     R3,#01H
00FF 7A00        R     MOV     R2,#HIGH mag_param_str
0101 7900        R     MOV     R1,#LOW mag_param_str
0103 120000      E     LCALL   _strlen
0106 8F00        R     MOV     mag_param_str_len,R7
                                           ; SOURCE LINE # 253
0108 7B01              MOV     R3,#01H
010A 7A00        R     MOV     R2,#HIGH imu_table_str
010C 7900        R     MOV     R1,#LOW imu_table_str
010E 120000      E     LCALL   _strlen
0111 8F00        R     MOV     imu_table_str_len,R7
                                           ; SOURCE LINE # 254
0113 7B01              MOV     R3,#01H
0115 7A00        R     MOV     R2,#HIGH spi_read_delay_str
0117 7900        R     MOV     R1,#LOW spi_read_delay_str
0119 120000      E     LCALL   _strlen
011C 8F00        R     MOV     spi_read_delay_str_len,R7
                                           ; SOURCE LINE # 256
011E 7800        R     MOV     R0,#LOW spi_delay_menu
0120 7C00        R     MOV     R4,#HIGH spi_delay_menu
0122 7D01              MOV     R5,#01H
0124 7BFF              MOV     R3,#0FFH
0126 7A00        R     MOV     R2,#HIGH _?ix1007
0128 7900        R     MOV     R1,#LOW _?ix1007
012A 7E00              MOV     R6,#00H
012C 7F76              MOV     R7,#076H
012E 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 259
0131 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0134 74FF              MOV     A,#0FFH
0136 F0                MOVX    @DPTR,A
0137 A3                INC     DPTR
0138 7400        R     MOV     A,#HIGH ?SC_0
013A F0                MOVX    @DPTR,A
013B A3                INC     DPTR
013C 7400        R     MOV     A,#LOW ?SC_0
013E F0                MOVX    @DPTR,A
013F A3                INC     DPTR
0140 E4                CLR     A
0141 F0                MOVX    @DPTR,A
0142 A3                INC     DPTR
0143 740A              MOV     A,#0AH
0145 F0                MOVX    @DPTR,A
0146 A3                INC     DPTR
0147 E4                CLR     A
0148 F0                MOVX    @DPTR,A
0149 A3                INC     DPTR
014A 7464              MOV     A,#064H
014C F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 24  

014D 7B01              MOV     R3,#01H
014F 7A00        R     MOV     R2,#HIGH spi_delay_menu
0151 7900        R     MOV     R1,#LOW spi_delay_menu
0153 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 260
0156 7B01              MOV     R3,#01H
0158 7A00        R     MOV     R2,#HIGH spi_delay_menu
015A 7900        R     MOV     R1,#LOW spi_delay_menu
015C 120000      E     LCALL   _strlen
015F 8F00        R     MOV     spi_delay_menu_len,R7
                                           ; SOURCE LINE # 264
0161 900000      E     MOV     DPTR,#N_IMU_Connected
0164 E0                MOVX    A,@DPTR
0165 FD                MOV     R5,A
0166 C3                CLR     C
0167 13                RRC     A
0168 FF                MOV     R7,A
0169 900000      R     MOV     DPTR,#num_mag_cal_params
016C E4                CLR     A
016D F0                MOVX    @DPTR,A
016E A3                INC     DPTR
016F EF                MOV     A,R7
0170 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 265
0171 900000      R     MOV     DPTR,#num_mag_cal_params
0174 E0                MOVX    A,@DPTR
0175 FE                MOV     R6,A
0176 A3                INC     DPTR
0177 E0                MOVX    A,@DPTR
0178 25E0              ADD     A,ACC
017A FF                MOV     R7,A
017B EE                MOV     A,R6
017C 33                RLC     A
017D FE                MOV     R6,A
017E C3                CLR     C
017F ED                MOV     A,R5
0180 9F                SUBB    A,R7
0181 FF                MOV     R7,A
0182 E4                CLR     A
0183 9E                SUBB    A,R6
0184 FE                MOV     R6,A
0185 D3                SETB    C
0186 EF                MOV     A,R7
0187 9400              SUBB    A,#00H
0189 EE                MOV     A,R6
018A 9400              SUBB    A,#00H
018C 400B              JC      ?C0031
018E E0                MOVX    A,@DPTR
018F 04                INC     A
0190 F0                MOVX    @DPTR,A
0191 7006              JNZ     ?C0167
0193 900000      R     MOV     DPTR,#num_mag_cal_params
0196 E0                MOVX    A,@DPTR
0197 04                INC     A
0198 F0                MOVX    @DPTR,A
0199         ?C0167:
0199         ?C0031:
                                           ; SOURCE LINE # 271
0199 900000      R     MOV     DPTR,#num_mag_cal_params
019C E0                MOVX    A,@DPTR
019D FE                MOV     R6,A
019E A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 25  

019F E0                MOVX    A,@DPTR
01A0 FF                MOV     R7,A
01A1 7C00              MOV     R4,#00H
01A3 7D32              MOV     R5,#032H
01A5 120000      E     LCALL   ?C?IMUL
01A8 AA06              MOV     R2,AR6
01AA AB07              MOV     R3,AR7
01AC 900000      R     MOV     DPTR,#num_imus_id_params
01AF E0                MOVX    A,@DPTR
01B0 FE                MOV     R6,A
01B1 A3                INC     DPTR
01B2 E0                MOVX    A,@DPTR
01B3 FF                MOV     R7,A
01B4 120000      E     LCALL   ?C?IMUL
01B7 EF                MOV     A,R7
01B8 2B                ADD     A,R3
01B9 FD                MOV     R5,A
01BA EE                MOV     A,R6
01BB 3A                ADDC    A,R2
01BC FC                MOV     R4,A
01BD 900000      E     MOV     DPTR,#N_IMU_Connected
01C0 E0                MOVX    A,@DPTR
01C1 F9                MOV     R1,A
01C2 75F032            MOV     B,#032H
01C5 A4                MUL     AB
01C6 FF                MOV     R7,A
01C7 2D                ADD     A,R5
01C8 FF                MOV     R7,A
01C9 EC                MOV     A,R4
01CA 35F0              ADDC    A,B
01CC CF                XCH     A,R7
01CD 242D              ADD     A,#02DH
01CF CF                XCH     A,R7
01D0 3401              ADDC    A,#01H
01D2 900000      R     MOV     DPTR,#packet_length
01D5 F0                MOVX    @DPTR,A
01D6 A3                INC     DPTR
01D7 EF                MOV     A,R7
01D8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 274
01D9 900000      R     MOV     DPTR,#num_mag_cal_params
01DC E0                MOVX    A,@DPTR
01DD FA                MOV     R2,A
01DE A3                INC     DPTR
01DF E0                MOVX    A,@DPTR
01E0 FB                MOV     R3,A
01E1 900000      R     MOV     DPTR,#num_imus_id_params
01E4 E0                MOVX    A,@DPTR
01E5 FC                MOV     R4,A
01E6 A3                INC     DPTR
01E7 E0                MOVX    A,@DPTR
01E8 FD                MOV     R5,A
01E9 EB                MOV     A,R3
01EA 2D                ADD     A,R5
01EB FF                MOV     R7,A
01EC EA                MOV     A,R2
01ED 3C                ADDC    A,R4
01EE CF                XCH     A,R7
01EF 2403              ADD     A,#03H
01F1 CF                XCH     A,R7
01F2 3400              ADDC    A,#00H
01F4 900000      R     MOV     DPTR,#first_imu_parameter
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 26  

01F7 F0                MOVX    @DPTR,A
01F8 A3                INC     DPTR
01F9 EF                MOV     A,R7
01FA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 275
01FB 900000      R     MOV     DPTR,#packet_data
01FE 740C              MOV     A,#0CH
0200 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 276
0201 ED                MOV     A,R5
0202 2B                ADD     A,R3
0203 FF                MOV     R7,A
0204 E9                MOV     A,R1
0205 2F                ADD     A,R7
0206 2403              ADD     A,#03H
0208 A3                INC     DPTR
0209 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 278
020A 900000      R     MOV     DPTR,#index
020D E0                MOVX    A,@DPTR
020E FE                MOV     R6,A
020F A3                INC     DPTR
0210 E0                MOVX    A,@DPTR
0211 FF                MOV     R7,A
0212 6003              JZ      $ + 5H
0214 020000      R     LJMP    ?C0079
0217 EE                MOV     A,R6
0218 6003              JZ      $ + 5H
021A 020000      R     LJMP    ?C0079
                                           ; SOURCE LINE # 279
021D         ?C0033:
                                           ; SOURCE LINE # 281
021D E4                CLR     A
021E 900000      R     MOV     DPTR,#start_byte
0221 F0                MOVX    @DPTR,A
0222 A3                INC     DPTR
0223 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 282
0224 900000      R     MOV     DPTR,#packet_data+02H
0227 7402              MOV     A,#02H
0229 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 283
022A A3                INC     DPTR
022B 14                DEC     A
022C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 284
022D 900000      E     MOV     DPTR,#N_IMU_Connected
0230 E0                MOVX    A,@DPTR
0231 900000      R     MOV     DPTR,#packet_data+04H
0234 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 285
0235 750000      R     MOV     i,#00H
0238 850000      R     MOV     i+01H,n_imu_str_len
023B         ?C0034:
023B E500        R     MOV     A,i+01H
023D 4500        R     ORL     A,i
023F 602C              JZ      ?C0035
                                           ; SOURCE LINE # 286
0241 C3                CLR     C
0242 E500        R     MOV     A,n_imu_str_len
0244 9500        R     SUBB    A,i+01H
0246 FF                MOV     R7,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 27  

0247 E4                CLR     A
0248 9500        R     SUBB    A,i
024A FE                MOV     R6,A
024B 7400        R     MOV     A,#LOW n_imu_str
024D 2F                ADD     A,R7
024E F582              MOV     DPL,A
0250 7400        R     MOV     A,#HIGH n_imu_str
0252 3E                ADDC    A,R6
0253 F583              MOV     DPH,A
0255 E0                MOVX    A,@DPTR
0256 FD                MOV     R5,A
0257 7400        R     MOV     A,#LOW packet_data+05H
0259 2F                ADD     A,R7
025A F582              MOV     DPL,A
025C 7400        R     MOV     A,#HIGH packet_data+05H
025E 3E                ADDC    A,R6
025F F583              MOV     DPH,A
0261 ED                MOV     A,R5
0262 F0                MOVX    @DPTR,A
0263 E500        R     MOV     A,i+01H
0265 1500        R     DEC     i+01H
0267 7002              JNZ     ?C0168
0269 1500        R     DEC     i
026B         ?C0168:
026B 80CE              SJMP    ?C0034
026D         ?C0035:
                                           ; SOURCE LINE # 289
026D 900000      R     MOV     DPTR,#start_byte+01H
0270 E0                MOVX    A,@DPTR
0271 2432              ADD     A,#032H
0273 F0                MOVX    @DPTR,A
0274 900000      R     MOV     DPTR,#start_byte
0277 E0                MOVX    A,@DPTR
0278 3400              ADDC    A,#00H
027A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 290
027B E4                CLR     A
027C F500        R     MOV     i,A
027E F500        R     MOV     i+01H,A
                                           ; SOURCE LINE # 291
0280 F500        R     MOV     k,A
0282 F500        R     MOV     k+01H,A
0284         ?C0037:
0284 900000      R     MOV     DPTR,#num_imus_id_params
0287 E0                MOVX    A,@DPTR
0288 FE                MOV     R6,A
0289 A3                INC     DPTR
028A E0                MOVX    A,@DPTR
028B D3                SETB    C
028C 9500        R     SUBB    A,k+01H
028E EE                MOV     A,R6
028F 9500        R     SUBB    A,k
0291 5003              JNC     $ + 5H
0293 020000      R     LJMP    ?C0038
                                           ; SOURCE LINE # 292
0296 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0299 74FF              MOV     A,#0FFH
029B F0                MOVX    @DPTR,A
029C A3                INC     DPTR
029D 7400        R     MOV     A,#HIGH ?SC_116
029F F0                MOVX    @DPTR,A
02A0 A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 28  

02A1 7400        R     MOV     A,#LOW ?SC_116
02A3 F0                MOVX    @DPTR,A
02A4 A3                INC     DPTR
02A5 E500        R     MOV     A,k
02A7 F0                MOVX    @DPTR,A
02A8 A3                INC     DPTR
02A9 E500        R     MOV     A,k+01H
02AB F0                MOVX    @DPTR,A
02AC 7B01              MOV     R3,#01H
02AE 7A00        R     MOV     R2,#HIGH ids_str
02B0 7900        R     MOV     R1,#LOW ids_str
02B2 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 293
02B5 750000      R     MOV     h,#00H
02B8 750004      R     MOV     h+01H,#04H
                                           ; SOURCE LINE # 294
02BB 7B01              MOV     R3,#01H
02BD 7A00        R     MOV     R2,#HIGH ids_str
02BF 7900        R     MOV     R1,#LOW ids_str
02C1 120000      E     LCALL   _strlen
02C4 8F00        R     MOV     ids_str_len,R7
                                           ; SOURCE LINE # 295
02C6 900000      R     MOV     DPTR,#start_byte
02C9 E0                MOVX    A,@DPTR
02CA FE                MOV     R6,A
02CB A3                INC     DPTR
02CC E0                MOVX    A,@DPTR
02CD FF                MOV     R7,A
02CE 850082      R     MOV     DPL,k+01H
02D1 850083      R     MOV     DPH,k
02D4 7432              MOV     A,#032H
02D6 120000      E     LCALL   ?C?OFFX256
02D9 E582              MOV     A,DPL
02DB 2F                ADD     A,R7
02DC F582              MOV     DPL,A
02DE E583              MOV     A,DPH
02E0 3E                ADDC    A,R6
02E1 F583              MOV     DPH,A
02E3 E582              MOV     A,DPL
02E5 2400        R     ADD     A,#LOW packet_data+02H
02E7 F582              MOV     DPL,A
02E9 E583              MOV     A,DPH
02EB 3400        R     ADDC    A,#HIGH packet_data+02H
02ED F583              MOV     DPH,A
02EF 7402              MOV     A,#02H
02F1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 296
02F2 850082      R     MOV     DPL,k+01H
02F5 850083      R     MOV     DPH,k
02F8 7432              MOV     A,#032H
02FA 120000      E     LCALL   ?C?OFFX256
02FD E582              MOV     A,DPL
02FF 2F                ADD     A,R7
0300 F582              MOV     DPL,A
0302 E583              MOV     A,DPH
0304 3E                ADDC    A,R6
0305 F583              MOV     DPH,A
0307 E582              MOV     A,DPL
0309 2400        R     ADD     A,#LOW packet_data+03H
030B F582              MOV     DPL,A
030D E583              MOV     A,DPH
030F 3400        R     ADDC    A,#HIGH packet_data+03H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 29  

0311 F583              MOV     DPH,A
0313 7403              MOV     A,#03H
0315 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 298
0316 AE00        R     MOV     R6,k
0318 AF00        R     MOV     R7,k+01H
031A 7C00              MOV     R4,#00H
031C FD                MOV     R5,A
031D 120000      E     LCALL   ?C?IMUL
0320 8E00        R     MOV     j,R6
0322 8F00        R     MOV     j+01H,R7
0324         ?C0040:
0324 AE00        R     MOV     R6,k
0326 AF00        R     MOV     R7,k+01H
0328 7C00              MOV     R4,#00H
032A 7D03              MOV     R5,#03H
032C 120000      E     LCALL   ?C?IMUL
032F EF                MOV     A,R7
0330 2402              ADD     A,#02H
0332 FF                MOV     R7,A
0333 E4                CLR     A
0334 3E                ADDC    A,R6
0335 FE                MOV     R6,A
0336 D3                SETB    C
0337 E500        R     MOV     A,j+01H
0339 9F                SUBB    A,R7
033A E500        R     MOV     A,j
033C 9E                SUBB    A,R6
033D 4003              JC      $ + 5H
033F 020000      R     LJMP    ?C0041
                                           ; SOURCE LINE # 299
0342 7400        E     MOV     A,#LOW IMU_connected
0344 2500        R     ADD     A,i+01H
0346 F582              MOV     DPL,A
0348 7400        E     MOV     A,#HIGH IMU_connected
034A 3500        R     ADDC    A,i
034C F583              MOV     DPH,A
034E E0                MOVX    A,@DPTR
034F F9                MOV     R1,A
0350 B5003F            CJNE    A,j+01H,?C0043
0353 E4                CLR     A
0354 B5003B            CJNE    A,j,?C0043
                                           ; SOURCE LINE # 300
0357 900000      R     MOV     DPTR,#start_byte
035A E0                MOVX    A,@DPTR
035B FE                MOV     R6,A
035C A3                INC     DPTR
035D E0                MOVX    A,@DPTR
035E 2500        R     ADD     A,h+01H
0360 FF                MOV     R7,A
0361 E500        R     MOV     A,h
0363 3E                ADDC    A,R6
0364 FE                MOV     R6,A
0365 850082      R     MOV     DPL,k+01H
0368 850083      R     MOV     DPH,k
036B 7432              MOV     A,#032H
036D 120000      E     LCALL   ?C?OFFX256
0370 E582              MOV     A,DPL
0372 2F                ADD     A,R7
0373 F582              MOV     DPL,A
0375 E583              MOV     A,DPH
0377 3E                ADDC    A,R6
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 30  

0378 F583              MOV     DPH,A
037A E582              MOV     A,DPL
037C 2400        R     ADD     A,#LOW packet_data
037E F582              MOV     DPL,A
0380 E583              MOV     A,DPH
0382 3400        R     ADDC    A,#HIGH packet_data
0384 F583              MOV     DPH,A
0386 E9                MOV     A,R1
0387 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 301
0388 0500        R     INC     i+01H
038A E500        R     MOV     A,i+01H
038C 7002              JNZ     ?C0170
038E 0500        R     INC     i
0390         ?C0170:
                                           ; SOURCE LINE # 302
0390 8032              SJMP    ?C0044
0392         ?C0043:
                                           ; SOURCE LINE # 303
                                           ; SOURCE LINE # 304
0392 900000      R     MOV     DPTR,#start_byte
0395 E0                MOVX    A,@DPTR
0396 FE                MOV     R6,A
0397 A3                INC     DPTR
0398 E0                MOVX    A,@DPTR
0399 2500        R     ADD     A,h+01H
039B FF                MOV     R7,A
039C E500        R     MOV     A,h
039E 3E                ADDC    A,R6
039F FE                MOV     R6,A
03A0 850082      R     MOV     DPL,k+01H
03A3 850083      R     MOV     DPH,k
03A6 7432              MOV     A,#032H
03A8 120000      E     LCALL   ?C?OFFX256
03AB E582              MOV     A,DPL
03AD 2F                ADD     A,R7
03AE F582              MOV     DPL,A
03B0 E583              MOV     A,DPH
03B2 3E                ADDC    A,R6
03B3 F583              MOV     DPH,A
03B5 E582              MOV     A,DPL
03B7 2400        R     ADD     A,#LOW packet_data
03B9 F582              MOV     DPL,A
03BB E583              MOV     A,DPH
03BD 3400        R     ADDC    A,#HIGH packet_data
03BF F583              MOV     DPH,A
03C1 74FF              MOV     A,#0FFH
03C3 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 305
03C4         ?C0044:
                                           ; SOURCE LINE # 306
03C4 0500        R     INC     h+01H
03C6 E500        R     MOV     A,h+01H
03C8 7002              JNZ     ?C0171
03CA 0500        R     INC     h
03CC         ?C0171:
                                           ; SOURCE LINE # 307
03CC 0500        R     INC     j+01H
03CE E500        R     MOV     A,j+01H
03D0 7002              JNZ     ?C0172
03D2 0500        R     INC     j
03D4         ?C0172:
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 31  

03D4 020000      R     LJMP    ?C0040
03D7         ?C0041:
                                           ; SOURCE LINE # 310
03D7 750000      R     MOV     j,#00H
03DA 850000      R     MOV     j+01H,ids_str_len
03DD         ?C0045:
03DD E500        R     MOV     A,j+01H
03DF 4500        R     ORL     A,j
03E1 6055              JZ      ?C0039
                                           ; SOURCE LINE # 311
03E3 C3                CLR     C
03E4 E500        R     MOV     A,ids_str_len
03E6 9500        R     SUBB    A,j+01H
03E8 FF                MOV     R7,A
03E9 E4                CLR     A
03EA 9500        R     SUBB    A,j
03EC FE                MOV     R6,A
03ED 7400        R     MOV     A,#LOW ids_str
03EF 2F                ADD     A,R7
03F0 F582              MOV     DPL,A
03F2 7400        R     MOV     A,#HIGH ids_str
03F4 3E                ADDC    A,R6
03F5 F583              MOV     DPH,A
03F7 E0                MOVX    A,@DPTR
03F8 FB                MOV     R3,A
03F9 AE00        R     MOV     R6,k
03FB AF00        R     MOV     R7,k+01H
03FD 7C00              MOV     R4,#00H
03FF 7D32              MOV     R5,#032H
0401 120000      E     LCALL   ?C?IMUL
0404 900000      R     MOV     DPTR,#start_byte
0407 E0                MOVX    A,@DPTR
0408 FC                MOV     R4,A
0409 A3                INC     DPTR
040A E0                MOVX    A,@DPTR
040B 2F                ADD     A,R7
040C FF                MOV     R7,A
040D EC                MOV     A,R4
040E 3E                ADDC    A,R6
040F FE                MOV     R6,A
0410 7C00              MOV     R4,#00H
0412 EF                MOV     A,R7
0413 2500        R     ADD     A,ids_str_len
0415 FF                MOV     R7,A
0416 EC                MOV     A,R4
0417 3E                ADDC    A,R6
0418 FE                MOV     R6,A
0419 C3                CLR     C
041A EF                MOV     A,R7
041B 9500        R     SUBB    A,j+01H
041D FF                MOV     R7,A
041E EE                MOV     A,R6
041F 9500        R     SUBB    A,j
0421 FE                MOV     R6,A
0422 7400        R     MOV     A,#LOW packet_data+07H
0424 2F                ADD     A,R7
0425 F582              MOV     DPL,A
0427 7400        R     MOV     A,#HIGH packet_data+07H
0429 3E                ADDC    A,R6
042A F583              MOV     DPH,A
042C EB                MOV     A,R3
042D F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 32  

042E E500        R     MOV     A,j+01H
0430 1500        R     DEC     j+01H
0432 7002              JNZ     ?C0173
0434 1500        R     DEC     j
0436         ?C0173:
0436 80A5              SJMP    ?C0045
                                           ; SOURCE LINE # 312
0438         ?C0039:
0438 0500        R     INC     k+01H
043A E500        R     MOV     A,k+01H
043C 7002              JNZ     ?C0174
043E 0500        R     INC     k
0440         ?C0174:
0440 020000      R     LJMP    ?C0037
0443         ?C0038:
                                           ; SOURCE LINE # 315
0443 900000      R     MOV     DPTR,#num_imus_id_params
0446 E0                MOVX    A,@DPTR
0447 FE                MOV     R6,A
0448 A3                INC     DPTR
0449 E0                MOVX    A,@DPTR
044A FF                MOV     R7,A
044B 7C00              MOV     R4,#00H
044D 7D32              MOV     R5,#032H
044F 120000      E     LCALL   ?C?IMUL
0452 900000      R     MOV     DPTR,#start_byte+01H
0455 E0                MOVX    A,@DPTR
0456 2F                ADD     A,R7
0457 F0                MOVX    @DPTR,A
0458 900000      R     MOV     DPTR,#start_byte
045B E0                MOVX    A,@DPTR
045C 3E                ADDC    A,R6
045D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 316
045E E4                CLR     A
045F F500        R     MOV     k,A
0461 F500        R     MOV     k+01H,A
0463         ?C0048:
0463 900000      R     MOV     DPTR,#num_mag_cal_params
0466 E0                MOVX    A,@DPTR
0467 FE                MOV     R6,A
0468 A3                INC     DPTR
0469 E0                MOVX    A,@DPTR
046A D3                SETB    C
046B 9500        R     SUBB    A,k+01H
046D EE                MOV     A,R6
046E 9500        R     SUBB    A,k
0470 5003              JNC     $ + 5H
0472 020000      R     LJMP    ?C0049
                                           ; SOURCE LINE # 317
0475 900000      R     MOV     DPTR,#start_byte
0478 E0                MOVX    A,@DPTR
0479 FE                MOV     R6,A
047A A3                INC     DPTR
047B E0                MOVX    A,@DPTR
047C FF                MOV     R7,A
047D 850082      R     MOV     DPL,k+01H
0480 850083      R     MOV     DPH,k
0483 7432              MOV     A,#032H
0485 120000      E     LCALL   ?C?OFFX256
0488 E582              MOV     A,DPL
048A 2F                ADD     A,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 33  

048B F582              MOV     DPL,A
048D E583              MOV     A,DPH
048F 3E                ADDC    A,R6
0490 F583              MOV     DPH,A
0492 E582              MOV     A,DPL
0494 2400        R     ADD     A,#LOW packet_data+02H
0496 F582              MOV     DPL,A
0498 E583              MOV     A,DPH
049A 3400        R     ADDC    A,#HIGH packet_data+02H
049C F583              MOV     DPH,A
049E 7402              MOV     A,#02H
04A0 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 319
04A1 850082      R     MOV     DPL,k+01H
04A4 850083      R     MOV     DPH,k
04A7 7432              MOV     A,#032H
04A9 120000      E     LCALL   ?C?OFFX256
04AC E582              MOV     A,DPL
04AE 2F                ADD     A,R7
04AF F582              MOV     DPL,A
04B1 E583              MOV     A,DPH
04B3 3E                ADDC    A,R6
04B4 F583              MOV     DPH,A
04B6 E582              MOV     A,DPL
04B8 2400        R     ADD     A,#LOW packet_data+03H
04BA F582              MOV     DPL,A
04BC E583              MOV     A,DPH
04BE 3400        R     ADDC    A,#HIGH packet_data+03H
04C0 F583              MOV     DPH,A
04C2 7403              MOV     A,#03H
04C4 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 320
04C5 E500        R     MOV     A,k+01H
04C7 25E0              ADD     A,ACC
04C9 FF                MOV     R7,A
04CA E500        R     MOV     A,k
04CC 33                RLC     A
04CD FE                MOV     R6,A
04CE 7400        E     MOV     A,#LOW IMU_connected
04D0 2F                ADD     A,R7
04D1 F582              MOV     DPL,A
04D3 7400        E     MOV     A,#HIGH IMU_connected
04D5 3E                ADDC    A,R6
04D6 F583              MOV     DPH,A
04D8 E0                MOVX    A,@DPTR
04D9 75F003            MOV     B,#03H
04DC A4                MUL     AB
04DD 2400        E     ADD     A,#LOW MagCal
04DF F582              MOV     DPL,A
04E1 E4                CLR     A
04E2 3400        E     ADDC    A,#HIGH MagCal
04E4 F583              MOV     DPH,A
04E6 E0                MOVX    A,@DPTR
04E7 FF                MOV     R7,A
04E8 900000      R     MOV     DPTR,#start_byte
04EB E0                MOVX    A,@DPTR
04EC FC                MOV     R4,A
04ED A3                INC     DPTR
04EE E0                MOVX    A,@DPTR
04EF FD                MOV     R5,A
04F0 850082      R     MOV     DPL,k+01H
04F3 850083      R     MOV     DPH,k
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 34  

04F6 7432              MOV     A,#032H
04F8 120000      E     LCALL   ?C?OFFX256
04FB E582              MOV     A,DPL
04FD 2D                ADD     A,R5
04FE F582              MOV     DPL,A
0500 E583              MOV     A,DPH
0502 3C                ADDC    A,R4
0503 F583              MOV     DPH,A
0505 E582              MOV     A,DPL
0507 2400        R     ADD     A,#LOW packet_data+04H
0509 F582              MOV     DPL,A
050B E583              MOV     A,DPH
050D 3400        R     ADDC    A,#HIGH packet_data+04H
050F F583              MOV     DPH,A
0511 EF                MOV     A,R7
0512 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 321
0513 E500        R     MOV     A,k+01H
0515 25E0              ADD     A,ACC
0517 FF                MOV     R7,A
0518 E500        R     MOV     A,k
051A 33                RLC     A
051B FE                MOV     R6,A
051C 7400        E     MOV     A,#LOW IMU_connected
051E 2F                ADD     A,R7
051F F582              MOV     DPL,A
0521 7400        E     MOV     A,#HIGH IMU_connected
0523 3E                ADDC    A,R6
0524 F583              MOV     DPH,A
0526 E0                MOVX    A,@DPTR
0527 75F003            MOV     B,#03H
052A A4                MUL     AB
052B 2400        E     ADD     A,#LOW MagCal+01H
052D F582              MOV     DPL,A
052F E4                CLR     A
0530 3400        E     ADDC    A,#HIGH MagCal+01H
0532 F583              MOV     DPH,A
0534 E0                MOVX    A,@DPTR
0535 FF                MOV     R7,A
0536 850082      R     MOV     DPL,k+01H
0539 850083      R     MOV     DPH,k
053C 7432              MOV     A,#032H
053E 120000      E     LCALL   ?C?OFFX256
0541 E582              MOV     A,DPL
0543 2D                ADD     A,R5
0544 F582              MOV     DPL,A
0546 E583              MOV     A,DPH
0548 3C                ADDC    A,R4
0549 F583              MOV     DPH,A
054B E582              MOV     A,DPL
054D 2400        R     ADD     A,#LOW packet_data+05H
054F F582              MOV     DPL,A
0551 E583              MOV     A,DPH
0553 3400        R     ADDC    A,#HIGH packet_data+05H
0555 F583              MOV     DPH,A
0557 EF                MOV     A,R7
0558 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 322
0559 E500        R     MOV     A,k+01H
055B 25E0              ADD     A,ACC
055D FF                MOV     R7,A
055E E500        R     MOV     A,k
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 35  

0560 33                RLC     A
0561 FE                MOV     R6,A
0562 7400        E     MOV     A,#LOW IMU_connected
0564 2F                ADD     A,R7
0565 F582              MOV     DPL,A
0567 7400        E     MOV     A,#HIGH IMU_connected
0569 3E                ADDC    A,R6
056A F583              MOV     DPH,A
056C E0                MOVX    A,@DPTR
056D 75F003            MOV     B,#03H
0570 A4                MUL     AB
0571 2400        E     ADD     A,#LOW MagCal+02H
0573 F582              MOV     DPL,A
0575 E4                CLR     A
0576 3400        E     ADDC    A,#HIGH MagCal+02H
0578 F583              MOV     DPH,A
057A E0                MOVX    A,@DPTR
057B FF                MOV     R7,A
057C 850082      R     MOV     DPL,k+01H
057F 850083      R     MOV     DPH,k
0582 7432              MOV     A,#032H
0584 120000      E     LCALL   ?C?OFFX256
0587 E582              MOV     A,DPL
0589 2D                ADD     A,R5
058A F582              MOV     DPL,A
058C E583              MOV     A,DPH
058E 3C                ADDC    A,R4
058F F583              MOV     DPH,A
0591 E582              MOV     A,DPL
0593 2400        R     ADD     A,#LOW packet_data+06H
0595 F582              MOV     DPL,A
0597 E583              MOV     A,DPH
0599 3400        R     ADDC    A,#HIGH packet_data+06H
059B F583              MOV     DPH,A
059D EF                MOV     A,R7
059E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 325
059F E500        R     MOV     A,k+01H
05A1 2401              ADD     A,#01H
05A3 FF                MOV     R7,A
05A4 E4                CLR     A
05A5 3500        R     ADDC    A,k
05A7 FE                MOV     R6,A
05A8 EF                MOV     A,R7
05A9 25E0              ADD     A,ACC
05AB FF                MOV     R7,A
05AC EE                MOV     A,R6
05AD 33                RLC     A
05AE FE                MOV     R6,A
05AF 900000      E     MOV     DPTR,#N_IMU_Connected
05B2 E0                MOVX    A,@DPTR
05B3 C3                CLR     C
05B4 9F                SUBB    A,R7
05B5 E4                CLR     A
05B6 9E                SUBB    A,R6
05B7 5064              JNC     ?C0051
                                           ; SOURCE LINE # 327
05B9 750000      R     MOV     j,#00H
05BC 850000      R     MOV     j+01H,mag_param_str_len
05BF         ?C0052:
05BF E500        R     MOV     A,j+01H
05C1 4500        R     ORL     A,j
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 36  

05C3 7003              JNZ     $ + 5H
05C5 020000      R     LJMP    ?C0050
                                           ; SOURCE LINE # 328
05C8 C3                CLR     C
05C9 E500        R     MOV     A,mag_param_str_len
05CB 9500        R     SUBB    A,j+01H
05CD FF                MOV     R7,A
05CE E4                CLR     A
05CF 9500        R     SUBB    A,j
05D1 FE                MOV     R6,A
05D2 7400        R     MOV     A,#LOW mag_param_str
05D4 2F                ADD     A,R7
05D5 F582              MOV     DPL,A
05D7 7400        R     MOV     A,#HIGH mag_param_str
05D9 3E                ADDC    A,R6
05DA F583              MOV     DPH,A
05DC E0                MOVX    A,@DPTR
05DD FB                MOV     R3,A
05DE AE00        R     MOV     R6,k
05E0 AF00        R     MOV     R7,k+01H
05E2 7C00              MOV     R4,#00H
05E4 7D32              MOV     R5,#032H
05E6 120000      E     LCALL   ?C?IMUL
05E9 900000      R     MOV     DPTR,#start_byte
05EC E0                MOVX    A,@DPTR
05ED FC                MOV     R4,A
05EE A3                INC     DPTR
05EF E0                MOVX    A,@DPTR
05F0 2F                ADD     A,R7
05F1 FF                MOV     R7,A
05F2 EC                MOV     A,R4
05F3 3E                ADDC    A,R6
05F4 FE                MOV     R6,A
05F5 7C00              MOV     R4,#00H
05F7 EF                MOV     A,R7
05F8 2500        R     ADD     A,mag_param_str_len
05FA FF                MOV     R7,A
05FB EC                MOV     A,R4
05FC 3E                ADDC    A,R6
05FD FE                MOV     R6,A
05FE C3                CLR     C
05FF EF                MOV     A,R7
0600 9500        R     SUBB    A,j+01H
0602 FF                MOV     R7,A
0603 EE                MOV     A,R6
0604 9500        R     SUBB    A,j
0606 FE                MOV     R6,A
0607 7400        R     MOV     A,#LOW packet_data+07H
0609 2F                ADD     A,R7
060A F582              MOV     DPL,A
060C 7400        R     MOV     A,#HIGH packet_data+07H
060E 3E                ADDC    A,R6
060F F583              MOV     DPH,A
0611 EB                MOV     A,R3
0612 F0                MOVX    @DPTR,A
0613 E500        R     MOV     A,j+01H
0615 1500        R     DEC     j+01H
0617 7002              JNZ     ?C0175
0619 1500        R     DEC     j
061B         ?C0175:
061B 80A2              SJMP    ?C0052
                                           ; SOURCE LINE # 329
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 37  

061D         ?C0051:
                                           ; SOURCE LINE # 330
                                           ; SOURCE LINE # 332
061D 900000      R     MOV     DPTR,#start_byte
0620 E0                MOVX    A,@DPTR
0621 FE                MOV     R6,A
0622 A3                INC     DPTR
0623 E0                MOVX    A,@DPTR
0624 FF                MOV     R7,A
0625 850082      R     MOV     DPL,k+01H
0628 850083      R     MOV     DPH,k
062B 7432              MOV     A,#032H
062D 120000      E     LCALL   ?C?OFFX256
0630 E582              MOV     A,DPL
0632 2F                ADD     A,R7
0633 F582              MOV     DPL,A
0635 E583              MOV     A,DPH
0637 3E                ADDC    A,R6
0638 F583              MOV     DPH,A
063A E582              MOV     A,DPL
063C 2400        R     ADD     A,#LOW packet_data+03H
063E F582              MOV     DPL,A
0640 E583              MOV     A,DPH
0642 3400        R     ADDC    A,#HIGH packet_data+03H
0644 F583              MOV     DPH,A
0646 7406              MOV     A,#06H
0648 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 333
0649 E500        R     MOV     A,k+01H
064B 25E0              ADD     A,ACC
064D FF                MOV     R7,A
064E E500        R     MOV     A,k
0650 33                RLC     A
0651 FE                MOV     R6,A
0652 7400        E     MOV     A,#LOW IMU_connected+01H
0654 2F                ADD     A,R7
0655 F582              MOV     DPL,A
0657 7400        E     MOV     A,#HIGH IMU_connected+01H
0659 3E                ADDC    A,R6
065A F583              MOV     DPH,A
065C E0                MOVX    A,@DPTR
065D 75F003            MOV     B,#03H
0660 A4                MUL     AB
0661 2400        E     ADD     A,#LOW MagCal
0663 F582              MOV     DPL,A
0665 E4                CLR     A
0666 3400        E     ADDC    A,#HIGH MagCal
0668 F583              MOV     DPH,A
066A E0                MOVX    A,@DPTR
066B FF                MOV     R7,A
066C 900000      R     MOV     DPTR,#start_byte
066F E0                MOVX    A,@DPTR
0670 FC                MOV     R4,A
0671 A3                INC     DPTR
0672 E0                MOVX    A,@DPTR
0673 FD                MOV     R5,A
0674 850082      R     MOV     DPL,k+01H
0677 850083      R     MOV     DPH,k
067A 7432              MOV     A,#032H
067C 120000      E     LCALL   ?C?OFFX256
067F E582              MOV     A,DPL
0681 2D                ADD     A,R5
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 38  

0682 F582              MOV     DPL,A
0684 E583              MOV     A,DPH
0686 3C                ADDC    A,R4
0687 F583              MOV     DPH,A
0689 E582              MOV     A,DPL
068B 2400        R     ADD     A,#LOW packet_data+07H
068D F582              MOV     DPL,A
068F E583              MOV     A,DPH
0691 3400        R     ADDC    A,#HIGH packet_data+07H
0693 F583              MOV     DPH,A
0695 EF                MOV     A,R7
0696 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 334
0697 E500        R     MOV     A,k+01H
0699 25E0              ADD     A,ACC
069B FF                MOV     R7,A
069C E500        R     MOV     A,k
069E 33                RLC     A
069F FE                MOV     R6,A
06A0 7400        E     MOV     A,#LOW IMU_connected+01H
06A2 2F                ADD     A,R7
06A3 F582              MOV     DPL,A
06A5 7400        E     MOV     A,#HIGH IMU_connected+01H
06A7 3E                ADDC    A,R6
06A8 F583              MOV     DPH,A
06AA E0                MOVX    A,@DPTR
06AB 75F003            MOV     B,#03H
06AE A4                MUL     AB
06AF 2400        E     ADD     A,#LOW MagCal+01H
06B1 F582              MOV     DPL,A
06B3 E4                CLR     A
06B4 3400        E     ADDC    A,#HIGH MagCal+01H
06B6 F583              MOV     DPH,A
06B8 E0                MOVX    A,@DPTR
06B9 FF                MOV     R7,A
06BA 850082      R     MOV     DPL,k+01H
06BD 850083      R     MOV     DPH,k
06C0 7432              MOV     A,#032H
06C2 120000      E     LCALL   ?C?OFFX256
06C5 E582              MOV     A,DPL
06C7 2D                ADD     A,R5
06C8 F582              MOV     DPL,A
06CA E583              MOV     A,DPH
06CC 3C                ADDC    A,R4
06CD F583              MOV     DPH,A
06CF E582              MOV     A,DPL
06D1 2400        R     ADD     A,#LOW packet_data+08H
06D3 F582              MOV     DPL,A
06D5 E583              MOV     A,DPH
06D7 3400        R     ADDC    A,#HIGH packet_data+08H
06D9 F583              MOV     DPH,A
06DB EF                MOV     A,R7
06DC F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 335
06DD E500        R     MOV     A,k+01H
06DF 25E0              ADD     A,ACC
06E1 FF                MOV     R7,A
06E2 E500        R     MOV     A,k
06E4 33                RLC     A
06E5 FE                MOV     R6,A
06E6 7400        E     MOV     A,#LOW IMU_connected+01H
06E8 2F                ADD     A,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 39  

06E9 F582              MOV     DPL,A
06EB 7400        E     MOV     A,#HIGH IMU_connected+01H
06ED 3E                ADDC    A,R6
06EE F583              MOV     DPH,A
06F0 E0                MOVX    A,@DPTR
06F1 75F003            MOV     B,#03H
06F4 A4                MUL     AB
06F5 2400        E     ADD     A,#LOW MagCal+02H
06F7 F582              MOV     DPL,A
06F9 E4                CLR     A
06FA 3400        E     ADDC    A,#HIGH MagCal+02H
06FC F583              MOV     DPH,A
06FE E0                MOVX    A,@DPTR
06FF FF                MOV     R7,A
0700 850082      R     MOV     DPL,k+01H
0703 850083      R     MOV     DPH,k
0706 7432              MOV     A,#032H
0708 120000      E     LCALL   ?C?OFFX256
070B E582              MOV     A,DPL
070D 2D                ADD     A,R5
070E F582              MOV     DPL,A
0710 E583              MOV     A,DPH
0712 3C                ADDC    A,R4
0713 F583              MOV     DPH,A
0715 E582              MOV     A,DPL
0717 2400        R     ADD     A,#LOW packet_data+09H
0719 F582              MOV     DPL,A
071B E583              MOV     A,DPH
071D 3400        R     ADDC    A,#HIGH packet_data+09H
071F F583              MOV     DPH,A
0721 EF                MOV     A,R7
0722 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 337
0723 750000      R     MOV     j,#00H
0726 850000      R     MOV     j+01H,mag_param_str_len
0729         ?C0056:
0729 E500        R     MOV     A,j+01H
072B 4500        R     ORL     A,j
072D 6055              JZ      ?C0050
                                           ; SOURCE LINE # 338
072F C3                CLR     C
0730 E500        R     MOV     A,mag_param_str_len
0732 9500        R     SUBB    A,j+01H
0734 FF                MOV     R7,A
0735 E4                CLR     A
0736 9500        R     SUBB    A,j
0738 FE                MOV     R6,A
0739 7400        R     MOV     A,#LOW mag_param_str
073B 2F                ADD     A,R7
073C F582              MOV     DPL,A
073E 7400        R     MOV     A,#HIGH mag_param_str
0740 3E                ADDC    A,R6
0741 F583              MOV     DPH,A
0743 E0                MOVX    A,@DPTR
0744 FB                MOV     R3,A
0745 AE00        R     MOV     R6,k
0747 AF00        R     MOV     R7,k+01H
0749 7C00              MOV     R4,#00H
074B 7D32              MOV     R5,#032H
074D 120000      E     LCALL   ?C?IMUL
0750 900000      R     MOV     DPTR,#start_byte
0753 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 40  

0754 FC                MOV     R4,A
0755 A3                INC     DPTR
0756 E0                MOVX    A,@DPTR
0757 2F                ADD     A,R7
0758 FF                MOV     R7,A
0759 EC                MOV     A,R4
075A 3E                ADDC    A,R6
075B FE                MOV     R6,A
075C 7C00              MOV     R4,#00H
075E EF                MOV     A,R7
075F 2500        R     ADD     A,mag_param_str_len
0761 FF                MOV     R7,A
0762 EC                MOV     A,R4
0763 3E                ADDC    A,R6
0764 FE                MOV     R6,A
0765 C3                CLR     C
0766 EF                MOV     A,R7
0767 9500        R     SUBB    A,j+01H
0769 FF                MOV     R7,A
076A EE                MOV     A,R6
076B 9500        R     SUBB    A,j
076D FE                MOV     R6,A
076E 7400        R     MOV     A,#LOW packet_data+0AH
0770 2F                ADD     A,R7
0771 F582              MOV     DPL,A
0773 7400        R     MOV     A,#HIGH packet_data+0AH
0775 3E                ADDC    A,R6
0776 F583              MOV     DPH,A
0778 EB                MOV     A,R3
0779 F0                MOVX    @DPTR,A
077A E500        R     MOV     A,j+01H
077C 1500        R     DEC     j+01H
077E 7002              JNZ     ?C0176
0780 1500        R     DEC     j
0782         ?C0176:
0782 80A5              SJMP    ?C0056
                                           ; SOURCE LINE # 339
                                           ; SOURCE LINE # 340
0784         ?C0050:
0784 0500        R     INC     k+01H
0786 E500        R     MOV     A,k+01H
0788 7002              JNZ     ?C0177
078A 0500        R     INC     k
078C         ?C0177:
078C 020000      R     LJMP    ?C0048
078F         ?C0049:
                                           ; SOURCE LINE # 344
078F 900000      R     MOV     DPTR,#num_mag_cal_params
0792 E0                MOVX    A,@DPTR
0793 FE                MOV     R6,A
0794 A3                INC     DPTR
0795 E0                MOVX    A,@DPTR
0796 FF                MOV     R7,A
0797 7C00              MOV     R4,#00H
0799 7D32              MOV     R5,#032H
079B 120000      E     LCALL   ?C?IMUL
079E 900000      R     MOV     DPTR,#start_byte+01H
07A1 E0                MOVX    A,@DPTR
07A2 2F                ADD     A,R7
07A3 F0                MOVX    @DPTR,A
07A4 900000      R     MOV     DPTR,#start_byte
07A7 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 41  

07A8 3E                ADDC    A,R6
07A9 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 345
07AA 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
07AD 74FF              MOV     A,#0FFH
07AF F0                MOVX    @DPTR,A
07B0 A3                INC     DPTR
07B1 7400        R     MOV     A,#HIGH ?SC_128
07B3 F0                MOVX    @DPTR,A
07B4 A3                INC     DPTR
07B5 7400        R     MOV     A,#LOW ?SC_128
07B7 F0                MOVX    @DPTR,A
07B8 900000      R     MOV     DPTR,#first_imu_parameter
07BB E0                MOVX    A,@DPTR
07BC FE                MOV     R6,A
07BD A3                INC     DPTR
07BE E0                MOVX    A,@DPTR
07BF 24FF              ADD     A,#0FFH
07C1 FF                MOV     R7,A
07C2 EE                MOV     A,R6
07C3 34FF              ADDC    A,#0FFH
07C5 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
07C8 F0                MOVX    @DPTR,A
07C9 A3                INC     DPTR
07CA EF                MOV     A,R7
07CB F0                MOVX    @DPTR,A
07CC 7B01              MOV     R3,#01H
07CE 7A00        R     MOV     R2,#HIGH id_str
07D0 7900        R     MOV     R1,#LOW id_str
07D2 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 346
07D5 7B01              MOV     R3,#01H
07D7 7A00        R     MOV     R2,#HIGH id_str
07D9 7900        R     MOV     R1,#LOW id_str
07DB 120000      E     LCALL   _strlen
07DE 8F00        R     MOV     id_str_len,R7
                                           ; SOURCE LINE # 347
07E0 900000      R     MOV     DPTR,#start_byte
07E3 E0                MOVX    A,@DPTR
07E4 FE                MOV     R6,A
07E5 A3                INC     DPTR
07E6 E0                MOVX    A,@DPTR
07E7 FF                MOV     R7,A
07E8 2400        R     ADD     A,#LOW packet_data+02H
07EA F582              MOV     DPL,A
07EC 7400        R     MOV     A,#HIGH packet_data+02H
07EE 3E                ADDC    A,R6
07EF F583              MOV     DPH,A
07F1 7402              MOV     A,#02H
07F3 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 348
07F4 7400        R     MOV     A,#LOW packet_data+03H
07F6 2F                ADD     A,R7
07F7 F582              MOV     DPL,A
07F9 7400        R     MOV     A,#HIGH packet_data+03H
07FB 3E                ADDC    A,R6
07FC F583              MOV     DPH,A
07FE 7401              MOV     A,#01H
0800 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 349
0801 900000      E     MOV     DPTR,#c_mem+01H
0804 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 42  

0805 FF                MOV     R7,A
0806 900000      R     MOV     DPTR,#start_byte
0809 E0                MOVX    A,@DPTR
080A FC                MOV     R4,A
080B A3                INC     DPTR
080C E0                MOVX    A,@DPTR
080D 2400        R     ADD     A,#LOW packet_data+04H
080F F582              MOV     DPL,A
0811 7400        R     MOV     A,#HIGH packet_data+04H
0813 3C                ADDC    A,R4
0814 F583              MOV     DPH,A
0816 EF                MOV     A,R7
0817 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 350
0818 750000      R     MOV     i,#00H
081B 850000      R     MOV     i+01H,id_str_len
081E         ?C0059:
081E E500        R     MOV     A,i+01H
0820 4500        R     ORL     A,i
0822 6046              JZ      ?C0060
                                           ; SOURCE LINE # 351
0824 C3                CLR     C
0825 E500        R     MOV     A,id_str_len
0827 9500        R     SUBB    A,i+01H
0829 FF                MOV     R7,A
082A E4                CLR     A
082B 9500        R     SUBB    A,i
082D FE                MOV     R6,A
082E 7400        R     MOV     A,#LOW id_str
0830 2F                ADD     A,R7
0831 F582              MOV     DPL,A
0833 7400        R     MOV     A,#HIGH id_str
0835 3E                ADDC    A,R6
0836 F583              MOV     DPH,A
0838 E0                MOVX    A,@DPTR
0839 FF                MOV     R7,A
083A E500        R     MOV     A,id_str_len
083C FD                MOV     R5,A
083D 7C00              MOV     R4,#00H
083F 900000      R     MOV     DPTR,#start_byte
0842 E0                MOVX    A,@DPTR
0843 FA                MOV     R2,A
0844 A3                INC     DPTR
0845 E0                MOVX    A,@DPTR
0846 2D                ADD     A,R5
0847 FD                MOV     R5,A
0848 EC                MOV     A,R4
0849 3A                ADDC    A,R2
084A FC                MOV     R4,A
084B C3                CLR     C
084C ED                MOV     A,R5
084D 9500        R     SUBB    A,i+01H
084F FD                MOV     R5,A
0850 EC                MOV     A,R4
0851 9500        R     SUBB    A,i
0853 FC                MOV     R4,A
0854 7400        R     MOV     A,#LOW packet_data+05H
0856 2D                ADD     A,R5
0857 F582              MOV     DPL,A
0859 7400        R     MOV     A,#HIGH packet_data+05H
085B 3C                ADDC    A,R4
085C F583              MOV     DPH,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 43  

085E EF                MOV     A,R7
085F F0                MOVX    @DPTR,A
0860 E500        R     MOV     A,i+01H
0862 1500        R     DEC     i+01H
0864 7002              JNZ     ?C0178
0866 1500        R     DEC     i
0868         ?C0178:
0868 80B4              SJMP    ?C0059
086A         ?C0060:
                                           ; SOURCE LINE # 355
086A 900000      R     MOV     DPTR,#start_byte+01H
086D E0                MOVX    A,@DPTR
086E 2432              ADD     A,#032H
0870 F0                MOVX    @DPTR,A
0871 900000      R     MOV     DPTR,#start_byte
0874 E0                MOVX    A,@DPTR
0875 3400              ADDC    A,#00H
0877 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 356
0878 E4                CLR     A
0879 F500        R     MOV     i,A
087B F500        R     MOV     i+01H,A
087D         ?C0062:
087D 900000      E     MOV     DPTR,#N_IMU_Connected
0880 E0                MOVX    A,@DPTR
0881 FF                MOV     R7,A
0882 C3                CLR     C
0883 E500        R     MOV     A,i+01H
0885 9F                SUBB    A,R7
0886 E500        R     MOV     A,i
0888 9400              SUBB    A,#00H
088A 4003              JC      $ + 5H
088C 020000      R     LJMP    ?C0063
                                           ; SOURCE LINE # 357
088F 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0892 74FF              MOV     A,#0FFH
0894 F0                MOVX    @DPTR,A
0895 A3                INC     DPTR
0896 7400        R     MOV     A,#HIGH ?SC_144
0898 F0                MOVX    @DPTR,A
0899 A3                INC     DPTR
089A 7400        R     MOV     A,#LOW ?SC_144
089C F0                MOVX    @DPTR,A
089D 900000      R     MOV     DPTR,#first_imu_parameter
08A0 E0                MOVX    A,@DPTR
08A1 FE                MOV     R6,A
08A2 A3                INC     DPTR
08A3 E0                MOVX    A,@DPTR
08A4 2500        R     ADD     A,i+01H
08A6 FF                MOV     R7,A
08A7 E500        R     MOV     A,i
08A9 3E                ADDC    A,R6
08AA 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
08AD F0                MOVX    @DPTR,A
08AE A3                INC     DPTR
08AF EF                MOV     A,R7
08B0 F0                MOVX    @DPTR,A
08B1 7400        E     MOV     A,#LOW IMU_connected
08B3 2500        R     ADD     A,i+01H
08B5 F582              MOV     DPL,A
08B7 7400        E     MOV     A,#HIGH IMU_connected
08B9 3500        R     ADDC    A,i
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 44  

08BB F583              MOV     DPH,A
08BD E0                MOVX    A,@DPTR
08BE FF                MOV     R7,A
08BF 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
08C2 E4                CLR     A
08C3 F0                MOVX    @DPTR,A
08C4 A3                INC     DPTR
08C5 EF                MOV     A,R7
08C6 F0                MOVX    @DPTR,A
08C7 7B01              MOV     R3,#01H
08C9 7A00        R     MOV     R2,#HIGH imu_table_str
08CB 7900        R     MOV     R1,#LOW imu_table_str
08CD 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 358
08D0 7B01              MOV     R3,#01H
08D2 7A00        R     MOV     R2,#HIGH imu_table_str
08D4 7900        R     MOV     R1,#LOW imu_table_str
08D6 120000      E     LCALL   _strlen
08D9 8F00        R     MOV     imu_table_str_len,R7
                                           ; SOURCE LINE # 360
08DB 900000      R     MOV     DPTR,#start_byte
08DE E0                MOVX    A,@DPTR
08DF FE                MOV     R6,A
08E0 A3                INC     DPTR
08E1 E0                MOVX    A,@DPTR
08E2 FF                MOV     R7,A
08E3 850082      R     MOV     DPL,i+01H
08E6 850083      R     MOV     DPH,i
08E9 7432              MOV     A,#032H
08EB 120000      E     LCALL   ?C?OFFX256
08EE E582              MOV     A,DPL
08F0 2F                ADD     A,R7
08F1 F582              MOV     DPL,A
08F3 E583              MOV     A,DPH
08F5 3E                ADDC    A,R6
08F6 F583              MOV     DPH,A
08F8 E582              MOV     A,DPL
08FA 2400        R     ADD     A,#LOW packet_data+02H
08FC F582              MOV     DPL,A
08FE E583              MOV     A,DPH
0900 3400        R     ADDC    A,#HIGH packet_data+02H
0902 F583              MOV     DPH,A
0904 7402              MOV     A,#02H
0906 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 361
0907 850082      R     MOV     DPL,i+01H
090A 850083      R     MOV     DPH,i
090D 7432              MOV     A,#032H
090F 120000      E     LCALL   ?C?OFFX256
0912 E582              MOV     A,DPL
0914 2F                ADD     A,R7
0915 F582              MOV     DPL,A
0917 E583              MOV     A,DPH
0919 3E                ADDC    A,R6
091A F583              MOV     DPH,A
091C E582              MOV     A,DPL
091E 2400        R     ADD     A,#LOW packet_data+03H
0920 F582              MOV     DPL,A
0922 E583              MOV     A,DPH
0924 3400        R     ADDC    A,#HIGH packet_data+03H
0926 F583              MOV     DPH,A
0928 7405              MOV     A,#05H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 45  

092A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 363
092B 7400        E     MOV     A,#LOW IMU_connected
092D 2500        R     ADD     A,i+01H
092F F582              MOV     DPL,A
0931 7400        E     MOV     A,#HIGH IMU_connected
0933 3500        R     ADDC    A,i
0935 F583              MOV     DPH,A
0937 E0                MOVX    A,@DPTR
0938 75F005            MOV     B,#05H
093B A4                MUL     AB
093C 2400        E     ADD     A,#LOW c_mem+04H
093E F582              MOV     DPL,A
0940 E4                CLR     A
0941 3400        E     ADDC    A,#HIGH c_mem+04H
0943 F583              MOV     DPH,A
0945 E0                MOVX    A,@DPTR
0946 FF                MOV     R7,A
0947 900000      R     MOV     DPTR,#start_byte
094A E0                MOVX    A,@DPTR
094B FC                MOV     R4,A
094C A3                INC     DPTR
094D E0                MOVX    A,@DPTR
094E FD                MOV     R5,A
094F 850082      R     MOV     DPL,i+01H
0952 850083      R     MOV     DPH,i
0955 7432              MOV     A,#032H
0957 120000      E     LCALL   ?C?OFFX256
095A E582              MOV     A,DPL
095C 2D                ADD     A,R5
095D F582              MOV     DPL,A
095F E583              MOV     A,DPH
0961 3C                ADDC    A,R4
0962 F583              MOV     DPH,A
0964 E582              MOV     A,DPL
0966 2400        R     ADD     A,#LOW packet_data+04H
0968 F582              MOV     DPL,A
096A E583              MOV     A,DPH
096C 3400        R     ADDC    A,#HIGH packet_data+04H
096E F583              MOV     DPH,A
0970 EF                MOV     A,R7
0971 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 364
0972 7400        E     MOV     A,#LOW IMU_connected
0974 2500        R     ADD     A,i+01H
0976 F582              MOV     DPL,A
0978 7400        E     MOV     A,#HIGH IMU_connected
097A 3500        R     ADDC    A,i
097C F583              MOV     DPH,A
097E E0                MOVX    A,@DPTR
097F 75F005            MOV     B,#05H
0982 A4                MUL     AB
0983 2400        E     ADD     A,#LOW c_mem+05H
0985 F582              MOV     DPL,A
0987 E4                CLR     A
0988 3400        E     ADDC    A,#HIGH c_mem+05H
098A F583              MOV     DPH,A
098C E0                MOVX    A,@DPTR
098D FF                MOV     R7,A
098E 850082      R     MOV     DPL,i+01H
0991 850083      R     MOV     DPH,i
0994 7432              MOV     A,#032H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 46  

0996 120000      E     LCALL   ?C?OFFX256
0999 E582              MOV     A,DPL
099B 2D                ADD     A,R5
099C F582              MOV     DPL,A
099E E583              MOV     A,DPH
09A0 3C                ADDC    A,R4
09A1 F583              MOV     DPH,A
09A3 E582              MOV     A,DPL
09A5 2400        R     ADD     A,#LOW packet_data+05H
09A7 F582              MOV     DPL,A
09A9 E583              MOV     A,DPH
09AB 3400        R     ADDC    A,#HIGH packet_data+05H
09AD F583              MOV     DPH,A
09AF EF                MOV     A,R7
09B0 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 365
09B1 7400        E     MOV     A,#LOW IMU_connected
09B3 2500        R     ADD     A,i+01H
09B5 F582              MOV     DPL,A
09B7 7400        E     MOV     A,#HIGH IMU_connected
09B9 3500        R     ADDC    A,i
09BB F583              MOV     DPH,A
09BD E0                MOVX    A,@DPTR
09BE 75F005            MOV     B,#05H
09C1 A4                MUL     AB
09C2 2400        E     ADD     A,#LOW c_mem+06H
09C4 F582              MOV     DPL,A
09C6 E4                CLR     A
09C7 3400        E     ADDC    A,#HIGH c_mem+06H
09C9 F583              MOV     DPH,A
09CB E0                MOVX    A,@DPTR
09CC FF                MOV     R7,A
09CD 850082      R     MOV     DPL,i+01H
09D0 850083      R     MOV     DPH,i
09D3 7432              MOV     A,#032H
09D5 120000      E     LCALL   ?C?OFFX256
09D8 E582              MOV     A,DPL
09DA 2D                ADD     A,R5
09DB F582              MOV     DPL,A
09DD E583              MOV     A,DPH
09DF 3C                ADDC    A,R4
09E0 F583              MOV     DPH,A
09E2 E582              MOV     A,DPL
09E4 2400        R     ADD     A,#LOW packet_data+06H
09E6 F582              MOV     DPL,A
09E8 E583              MOV     A,DPH
09EA 3400        R     ADDC    A,#HIGH packet_data+06H
09EC F583              MOV     DPH,A
09EE EF                MOV     A,R7
09EF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 366
09F0 7400        E     MOV     A,#LOW IMU_connected
09F2 2500        R     ADD     A,i+01H
09F4 F582              MOV     DPL,A
09F6 7400        E     MOV     A,#HIGH IMU_connected
09F8 3500        R     ADDC    A,i
09FA F583              MOV     DPH,A
09FC E0                MOVX    A,@DPTR
09FD 75F005            MOV     B,#05H
0A00 A4                MUL     AB
0A01 2400        E     ADD     A,#LOW c_mem+07H
0A03 F582              MOV     DPL,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 47  

0A05 E4                CLR     A
0A06 3400        E     ADDC    A,#HIGH c_mem+07H
0A08 F583              MOV     DPH,A
0A0A E0                MOVX    A,@DPTR
0A0B FF                MOV     R7,A
0A0C 850082      R     MOV     DPL,i+01H
0A0F 850083      R     MOV     DPH,i
0A12 7432              MOV     A,#032H
0A14 120000      E     LCALL   ?C?OFFX256
0A17 E582              MOV     A,DPL
0A19 2D                ADD     A,R5
0A1A F582              MOV     DPL,A
0A1C E583              MOV     A,DPH
0A1E 3C                ADDC    A,R4
0A1F F583              MOV     DPH,A
0A21 E582              MOV     A,DPL
0A23 2400        R     ADD     A,#LOW packet_data+07H
0A25 F582              MOV     DPL,A
0A27 E583              MOV     A,DPH
0A29 3400        R     ADDC    A,#HIGH packet_data+07H
0A2B F583              MOV     DPH,A
0A2D EF                MOV     A,R7
0A2E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 367
0A2F 7400        E     MOV     A,#LOW IMU_connected
0A31 2500        R     ADD     A,i+01H
0A33 F582              MOV     DPL,A
0A35 7400        E     MOV     A,#HIGH IMU_connected
0A37 3500        R     ADDC    A,i
0A39 F583              MOV     DPH,A
0A3B E0                MOVX    A,@DPTR
0A3C 75F005            MOV     B,#05H
0A3F A4                MUL     AB
0A40 2400        E     ADD     A,#LOW c_mem+08H
0A42 F582              MOV     DPL,A
0A44 E4                CLR     A
0A45 3400        E     ADDC    A,#HIGH c_mem+08H
0A47 F583              MOV     DPH,A
0A49 E0                MOVX    A,@DPTR
0A4A FF                MOV     R7,A
0A4B 850082      R     MOV     DPL,i+01H
0A4E 850083      R     MOV     DPH,i
0A51 7432              MOV     A,#032H
0A53 120000      E     LCALL   ?C?OFFX256
0A56 E582              MOV     A,DPL
0A58 2D                ADD     A,R5
0A59 F582              MOV     DPL,A
0A5B E583              MOV     A,DPH
0A5D 3C                ADDC    A,R4
0A5E F583              MOV     DPH,A
0A60 E582              MOV     A,DPL
0A62 2400        R     ADD     A,#LOW packet_data+08H
0A64 F582              MOV     DPL,A
0A66 E583              MOV     A,DPH
0A68 3400        R     ADDC    A,#HIGH packet_data+08H
0A6A F583              MOV     DPH,A
0A6C EF                MOV     A,R7
0A6D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 369
0A6E 750000      R     MOV     j,#00H
0A71 850000      R     MOV     j+01H,imu_table_str_len
0A74         ?C0065:
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 48  

0A74 E500        R     MOV     A,j+01H
0A76 4500        R     ORL     A,j
0A78 6055              JZ      ?C0064
                                           ; SOURCE LINE # 370
0A7A C3                CLR     C
0A7B E500        R     MOV     A,imu_table_str_len
0A7D 9500        R     SUBB    A,j+01H
0A7F FF                MOV     R7,A
0A80 E4                CLR     A
0A81 9500        R     SUBB    A,j
0A83 FE                MOV     R6,A
0A84 7400        R     MOV     A,#LOW imu_table_str
0A86 2F                ADD     A,R7
0A87 F582              MOV     DPL,A
0A89 7400        R     MOV     A,#HIGH imu_table_str
0A8B 3E                ADDC    A,R6
0A8C F583              MOV     DPH,A
0A8E E0                MOVX    A,@DPTR
0A8F FB                MOV     R3,A
0A90 AE00        R     MOV     R6,i
0A92 AF00        R     MOV     R7,i+01H
0A94 7C00              MOV     R4,#00H
0A96 7D32              MOV     R5,#032H
0A98 120000      E     LCALL   ?C?IMUL
0A9B 900000      R     MOV     DPTR,#start_byte
0A9E E0                MOVX    A,@DPTR
0A9F FC                MOV     R4,A
0AA0 A3                INC     DPTR
0AA1 E0                MOVX    A,@DPTR
0AA2 2F                ADD     A,R7
0AA3 FF                MOV     R7,A
0AA4 EC                MOV     A,R4
0AA5 3E                ADDC    A,R6
0AA6 FE                MOV     R6,A
0AA7 7C00              MOV     R4,#00H
0AA9 EF                MOV     A,R7
0AAA 2500        R     ADD     A,imu_table_str_len
0AAC FF                MOV     R7,A
0AAD EC                MOV     A,R4
0AAE 3E                ADDC    A,R6
0AAF FE                MOV     R6,A
0AB0 C3                CLR     C
0AB1 EF                MOV     A,R7
0AB2 9500        R     SUBB    A,j+01H
0AB4 FF                MOV     R7,A
0AB5 EE                MOV     A,R6
0AB6 9500        R     SUBB    A,j
0AB8 FE                MOV     R6,A
0AB9 7400        R     MOV     A,#LOW packet_data+09H
0ABB 2F                ADD     A,R7
0ABC F582              MOV     DPL,A
0ABE 7400        R     MOV     A,#HIGH packet_data+09H
0AC0 3E                ADDC    A,R6
0AC1 F583              MOV     DPH,A
0AC3 EB                MOV     A,R3
0AC4 F0                MOVX    @DPTR,A
0AC5 E500        R     MOV     A,j+01H
0AC7 1500        R     DEC     j+01H
0AC9 7002              JNZ     ?C0179
0ACB 1500        R     DEC     j
0ACD         ?C0179:
0ACD 80A5              SJMP    ?C0065
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 49  

                                           ; SOURCE LINE # 371
0ACF         ?C0064:
0ACF 0500        R     INC     i+01H
0AD1 E500        R     MOV     A,i+01H
0AD3 7002              JNZ     ?C0180
0AD5 0500        R     INC     i
0AD7         ?C0180:
0AD7 020000      R     LJMP    ?C0062
0ADA         ?C0063:
                                           ; SOURCE LINE # 376
0ADA 900000      E     MOV     DPTR,#N_IMU_Connected
0ADD E0                MOVX    A,@DPTR
0ADE 75F032            MOV     B,#032H
0AE1 A4                MUL     AB
0AE2 FF                MOV     R7,A
0AE3 AEF0              MOV     R6,B
0AE5 900000      R     MOV     DPTR,#start_byte+01H
0AE8 E0                MOVX    A,@DPTR
0AE9 2F                ADD     A,R7
0AEA F0                MOVX    @DPTR,A
0AEB 900000      R     MOV     DPTR,#start_byte
0AEE E0                MOVX    A,@DPTR
0AEF 3E                ADDC    A,R6
0AF0 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 377
0AF1 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0AF4 74FF              MOV     A,#0FFH
0AF6 F0                MOVX    @DPTR,A
0AF7 A3                INC     DPTR
0AF8 7400        R     MOV     A,#HIGH ?SC_171
0AFA F0                MOVX    @DPTR,A
0AFB A3                INC     DPTR
0AFC 7400        R     MOV     A,#LOW ?SC_171
0AFE F0                MOVX    @DPTR,A
0AFF 900000      E     MOV     DPTR,#N_IMU_Connected
0B02 E0                MOVX    A,@DPTR
0B03 FF                MOV     R7,A
0B04 7E00              MOV     R6,#00H
0B06 900000      R     MOV     DPTR,#first_imu_parameter
0B09 E0                MOVX    A,@DPTR
0B0A FC                MOV     R4,A
0B0B A3                INC     DPTR
0B0C E0                MOVX    A,@DPTR
0B0D 2F                ADD     A,R7
0B0E FF                MOV     R7,A
0B0F EE                MOV     A,R6
0B10 3C                ADDC    A,R4
0B11 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0B14 F0                MOVX    @DPTR,A
0B15 A3                INC     DPTR
0B16 EF                MOV     A,R7
0B17 F0                MOVX    @DPTR,A
0B18 7B01              MOV     R3,#01H
0B1A 7A00        R     MOV     R2,#HIGH spi_read_delay_str
0B1C 7900        R     MOV     R1,#LOW spi_read_delay_str
0B1E 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 378
0B21 900000      R     MOV     DPTR,#start_byte
0B24 E0                MOVX    A,@DPTR
0B25 FE                MOV     R6,A
0B26 A3                INC     DPTR
0B27 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 50  

0B28 FF                MOV     R7,A
0B29 2400        R     ADD     A,#LOW packet_data+02H
0B2B F582              MOV     DPL,A
0B2D 7400        R     MOV     A,#HIGH packet_data+02H
0B2F 3E                ADDC    A,R6
0B30 F583              MOV     DPH,A
0B32 E4                CLR     A
0B33 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 379
0B34 7400        R     MOV     A,#LOW packet_data+03H
0B36 2F                ADD     A,R7
0B37 F582              MOV     DPL,A
0B39 7400        R     MOV     A,#HIGH packet_data+03H
0B3B 3E                ADDC    A,R6
0B3C F583              MOV     DPH,A
0B3E 7401              MOV     A,#01H
0B40 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 380
0B41 900000      E     MOV     DPTR,#c_mem+03H
0B44 E0                MOVX    A,@DPTR
0B45 FF                MOV     R7,A
0B46 900000      R     MOV     DPTR,#start_byte
0B49 E0                MOVX    A,@DPTR
0B4A FC                MOV     R4,A
0B4B A3                INC     DPTR
0B4C E0                MOVX    A,@DPTR
0B4D 2400        R     ADD     A,#LOW packet_data+04H
0B4F F582              MOV     DPL,A
0B51 7400        R     MOV     A,#HIGH packet_data+04H
0B53 3C                ADDC    A,R4
0B54 F583              MOV     DPH,A
0B56 EF                MOV     A,R7
0B57 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 381
0B58 EF                MOV     A,R7
0B59 14                DEC     A
0B5A 6023              JZ      ?C0070
0B5C 14                DEC     A
0B5D 603C              JZ      ?C0071
0B5F 2402              ADD     A,#02H
0B61 7052              JNZ     ?C0068
                                           ; SOURCE LINE # 382
0B63         ?C0069:
                                           ; SOURCE LINE # 383
0B63 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0B66 74FF              MOV     A,#0FFH
0B68 F0                MOVX    @DPTR,A
0B69 A3                INC     DPTR
0B6A 7400        R     MOV     A,#HIGH ?SC_192
0B6C F0                MOVX    @DPTR,A
0B6D A3                INC     DPTR
0B6E 7400        R     MOV     A,#LOW ?SC_192
0B70 F0                MOVX    @DPTR,A
0B71 7B01              MOV     R3,#01H
0B73 7A00        R     MOV     R2,#HIGH spi_read_delay_str
0B75 7900        R     MOV     R1,#LOW spi_read_delay_str
0B77 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 384
0B7A 75001A      R     MOV     spi_read_delay_str_len,#01AH
                                           ; SOURCE LINE # 385
0B7D 8036              SJMP    ?C0068
                                           ; SOURCE LINE # 386
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 51  

0B7F         ?C0070:
                                           ; SOURCE LINE # 387
0B7F 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0B82 74FF              MOV     A,#0FFH
0B84 F0                MOVX    @DPTR,A
0B85 A3                INC     DPTR
0B86 7400        R     MOV     A,#HIGH ?SC_198
0B88 F0                MOVX    @DPTR,A
0B89 A3                INC     DPTR
0B8A 7400        R     MOV     A,#LOW ?SC_198
0B8C F0                MOVX    @DPTR,A
0B8D 7B01              MOV     R3,#01H
0B8F 7A00        R     MOV     R2,#HIGH spi_read_delay_str
0B91 7900        R     MOV     R1,#LOW spi_read_delay_str
0B93 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 388
0B96 750019      R     MOV     spi_read_delay_str_len,#019H
                                           ; SOURCE LINE # 389
0B99 801A              SJMP    ?C0068
                                           ; SOURCE LINE # 390
0B9B         ?C0071:
                                           ; SOURCE LINE # 391
0B9B 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0B9E 74FF              MOV     A,#0FFH
0BA0 F0                MOVX    @DPTR,A
0BA1 A3                INC     DPTR
0BA2 7400        R     MOV     A,#HIGH ?SC_203
0BA4 F0                MOVX    @DPTR,A
0BA5 A3                INC     DPTR
0BA6 7400        R     MOV     A,#LOW ?SC_203
0BA8 F0                MOVX    @DPTR,A
0BA9 7B01              MOV     R3,#01H
0BAB 7A00        R     MOV     R2,#HIGH spi_read_delay_str
0BAD 7900        R     MOV     R1,#LOW spi_read_delay_str
0BAF 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 392
0BB2 75001A      R     MOV     spi_read_delay_str_len,#01AH
                                           ; SOURCE LINE # 393
                                           ; SOURCE LINE # 394
                                           ; SOURCE LINE # 395
                                           ; SOURCE LINE # 396
0BB5         ?C0068:
                                           ; SOURCE LINE # 397
0BB5 750000      R     MOV     i,#00H
0BB8 850000      R     MOV     i+01H,spi_read_delay_str_len
0BBB         ?C0073:
0BBB E500        R     MOV     A,i+01H
0BBD 4500        R     ORL     A,i
0BBF 6046              JZ      ?C0074
                                           ; SOURCE LINE # 398
0BC1 C3                CLR     C
0BC2 E500        R     MOV     A,spi_read_delay_str_len
0BC4 9500        R     SUBB    A,i+01H
0BC6 FF                MOV     R7,A
0BC7 E4                CLR     A
0BC8 9500        R     SUBB    A,i
0BCA FE                MOV     R6,A
0BCB 7400        R     MOV     A,#LOW spi_read_delay_str
0BCD 2F                ADD     A,R7
0BCE F582              MOV     DPL,A
0BD0 7400        R     MOV     A,#HIGH spi_read_delay_str
0BD2 3E                ADDC    A,R6
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 52  

0BD3 F583              MOV     DPH,A
0BD5 E0                MOVX    A,@DPTR
0BD6 FF                MOV     R7,A
0BD7 E500        R     MOV     A,spi_read_delay_str_len
0BD9 FD                MOV     R5,A
0BDA 7C00              MOV     R4,#00H
0BDC 900000      R     MOV     DPTR,#start_byte
0BDF E0                MOVX    A,@DPTR
0BE0 FA                MOV     R2,A
0BE1 A3                INC     DPTR
0BE2 E0                MOVX    A,@DPTR
0BE3 2D                ADD     A,R5
0BE4 FD                MOV     R5,A
0BE5 EC                MOV     A,R4
0BE6 3A                ADDC    A,R2
0BE7 FC                MOV     R4,A
0BE8 C3                CLR     C
0BE9 ED                MOV     A,R5
0BEA 9500        R     SUBB    A,i+01H
0BEC FD                MOV     R5,A
0BED EC                MOV     A,R4
0BEE 9500        R     SUBB    A,i
0BF0 FC                MOV     R4,A
0BF1 7400        R     MOV     A,#LOW packet_data+05H
0BF3 2D                ADD     A,R5
0BF4 F582              MOV     DPL,A
0BF6 7400        R     MOV     A,#HIGH packet_data+05H
0BF8 3C                ADDC    A,R4
0BF9 F583              MOV     DPH,A
0BFB EF                MOV     A,R7
0BFC F0                MOVX    @DPTR,A
0BFD E500        R     MOV     A,i+01H
0BFF 1500        R     DEC     i+01H
0C01 7002              JNZ     ?C0181
0C03 1500        R     DEC     i
0C05         ?C0181:
0C05 80B4              SJMP    ?C0073
0C07         ?C0074:
                                           ; SOURCE LINE # 400
0C07 7E00              MOV     R6,#00H
0C09 900000      R     MOV     DPTR,#start_byte
0C0C E0                MOVX    A,@DPTR
0C0D FC                MOV     R4,A
0C0E A3                INC     DPTR
0C0F E0                MOVX    A,@DPTR
0C10 2500        R     ADD     A,spi_read_delay_str_len
0C12 FF                MOV     R7,A
0C13 EE                MOV     A,R6
0C14 3C                ADDC    A,R4
0C15 FE                MOV     R6,A
0C16 7400        R     MOV     A,#LOW packet_data+05H
0C18 2F                ADD     A,R7
0C19 F582              MOV     DPL,A
0C1B 7400        R     MOV     A,#HIGH packet_data+05H
0C1D 3E                ADDC    A,R6
0C1E F583              MOV     DPH,A
0C20 7401              MOV     A,#01H
0C22 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 404
0C23 900000      R     MOV     DPTR,#start_byte+01H
0C26 E0                MOVX    A,@DPTR
0C27 2432              ADD     A,#032H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 53  

0C29 F0                MOVX    @DPTR,A
0C2A 900000      R     MOV     DPTR,#start_byte
0C2D E0                MOVX    A,@DPTR
0C2E 3400              ADDC    A,#00H
0C30 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 405
0C31 750000      R     MOV     i,#00H
0C34 850000      R     MOV     i+01H,spi_delay_menu_len
0C37         ?C0076:
0C37 E500        R     MOV     A,i+01H
0C39 4500        R     ORL     A,i
0C3B 6046              JZ      ?C0077
                                           ; SOURCE LINE # 406
0C3D C3                CLR     C
0C3E E500        R     MOV     A,spi_delay_menu_len
0C40 9500        R     SUBB    A,i+01H
0C42 FF                MOV     R7,A
0C43 E4                CLR     A
0C44 9500        R     SUBB    A,i
0C46 FE                MOV     R6,A
0C47 7400        R     MOV     A,#LOW spi_delay_menu
0C49 2F                ADD     A,R7
0C4A F582              MOV     DPL,A
0C4C 7400        R     MOV     A,#HIGH spi_delay_menu
0C4E 3E                ADDC    A,R6
0C4F F583              MOV     DPH,A
0C51 E0                MOVX    A,@DPTR
0C52 FF                MOV     R7,A
0C53 E500        R     MOV     A,spi_delay_menu_len
0C55 FD                MOV     R5,A
0C56 7C00              MOV     R4,#00H
0C58 900000      R     MOV     DPTR,#start_byte
0C5B E0                MOVX    A,@DPTR
0C5C FA                MOV     R2,A
0C5D A3                INC     DPTR
0C5E E0                MOVX    A,@DPTR
0C5F 2D                ADD     A,R5
0C60 FD                MOV     R5,A
0C61 EC                MOV     A,R4
0C62 3A                ADDC    A,R2
0C63 FC                MOV     R4,A
0C64 C3                CLR     C
0C65 ED                MOV     A,R5
0C66 9500        R     SUBB    A,i+01H
0C68 FD                MOV     R5,A
0C69 EC                MOV     A,R4
0C6A 9500        R     SUBB    A,i
0C6C FC                MOV     R4,A
0C6D 7400        R     MOV     A,#LOW packet_data+02H
0C6F 2D                ADD     A,R5
0C70 F582              MOV     DPL,A
0C72 7400        R     MOV     A,#HIGH packet_data+02H
0C74 3C                ADDC    A,R4
0C75 F583              MOV     DPH,A
0C77 EF                MOV     A,R7
0C78 F0                MOVX    @DPTR,A
0C79 E500        R     MOV     A,i+01H
0C7B 1500        R     DEC     i+01H
0C7D 7002              JNZ     ?C0182
0C7F 1500        R     DEC     i
0C81         ?C0182:
0C81 80B4              SJMP    ?C0076
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 54  

0C83         ?C0077:
                                           ; SOURCE LINE # 408
0C83 7B01              MOV     R3,#01H
0C85 7A00        R     MOV     R2,#HIGH packet_data
0C87 7900        R     MOV     R1,#LOW packet_data
0C89 900000      R     MOV     DPTR,#packet_length
0C8C E0                MOVX    A,@DPTR
0C8D A3                INC     DPTR
0C8E E0                MOVX    A,@DPTR
0C8F 14                DEC     A
0C90 FD                MOV     R5,A
0C91 120000      R     LCALL   _LCRChecksum
0C94 900000      R     MOV     DPTR,#packet_length
0C97 E0                MOVX    A,@DPTR
0C98 FC                MOV     R4,A
0C99 A3                INC     DPTR
0C9A E0                MOVX    A,@DPTR
0C9B FD                MOV     R5,A
0C9C 2400        R     ADD     A,#LOW packet_data+0FFFFH
0C9E F582              MOV     DPL,A
0CA0 7400        R     MOV     A,#HIGH packet_data+0FFFFH
0CA2 3C                ADDC    A,R4
0CA3 F583              MOV     DPH,A
0CA5 EF                MOV     A,R7
0CA6 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 409
0CA7 7B01              MOV     R3,#01H
0CA9 7A00        R     MOV     R2,#HIGH packet_data
0CAB 7900        R     MOV     R1,#LOW packet_data
0CAD 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 410
0CB0 120000      E     LCALL   UART_RS485_ClearTxBuffer
                                           ; SOURCE LINE # 411
0CB3 22                RET     
                                           ; SOURCE LINE # 414
0CB4         ?C0079:
                                           ; SOURCE LINE # 416
0CB4 900000      R     MOV     DPTR,#first_imu_parameter
0CB7 E0                MOVX    A,@DPTR
0CB8 FE                MOV     R6,A
0CB9 A3                INC     DPTR
0CBA E0                MOVX    A,@DPTR
0CBB 24FF              ADD     A,#0FFH
0CBD FF                MOV     R7,A
0CBE EE                MOV     A,R6
0CBF 34FF              ADDC    A,#0FFH
0CC1 FE                MOV     R6,A
0CC2 900000      R     MOV     DPTR,#index
0CC5 E0                MOVX    A,@DPTR
0CC6 FC                MOV     R4,A
0CC7 A3                INC     DPTR
0CC8 E0                MOVX    A,@DPTR
0CC9 FD                MOV     R5,A
0CCA C3                CLR     C
0CCB 9F                SUBB    A,R7
0CCC EC                MOV     A,R4
0CCD 9E                SUBB    A,R6
0CCE 5003              JNC     $ + 5H
0CD0 020000      R     LJMP    ?C0087
                                           ; SOURCE LINE # 417
0CD3         ?C0080:
                                           ; SOURCE LINE # 419
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 55  

0CD3 900000      E     MOV     DPTR,#N_IMU_Connected
0CD6 E0                MOVX    A,@DPTR
0CD7 FF                MOV     R7,A
0CD8 7E00              MOV     R6,#00H
0CDA 900000      R     MOV     DPTR,#first_imu_parameter
0CDD E0                MOVX    A,@DPTR
0CDE FA                MOV     R2,A
0CDF A3                INC     DPTR
0CE0 E0                MOVX    A,@DPTR
0CE1 FB                MOV     R3,A
0CE2 2F                ADD     A,R7
0CE3 FF                MOV     R7,A
0CE4 EE                MOV     A,R6
0CE5 3A                ADDC    A,R2
0CE6 FE                MOV     R6,A
0CE7 ED                MOV     A,R5
0CE8 B5070D            CJNE    A,AR7,?C0081
0CEB EC                MOV     A,R4
0CEC B50609            CJNE    A,AR6,?C0081
                                           ; SOURCE LINE # 420
0CEF 900000      E     MOV     DPTR,#g_rx+03H
0CF2 E0                MOVX    A,@DPTR
0CF3 900000      E     MOV     DPTR,#g_mem+03H
0CF6 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 421
0CF7 22                RET     
                                           ; SOURCE LINE # 422
0CF8         ?C0081:
                                           ; SOURCE LINE # 424
0CF8 EB                MOV     A,R3
0CF9 24FF              ADD     A,#0FFH
0CFB FF                MOV     R7,A
0CFC EA                MOV     A,R2
0CFD 34FF              ADDC    A,#0FFH
0CFF FE                MOV     R6,A
0D00 900000      R     MOV     DPTR,#index
0D03 E0                MOVX    A,@DPTR
0D04 FC                MOV     R4,A
0D05 A3                INC     DPTR
0D06 E0                MOVX    A,@DPTR
0D07 FD                MOV     R5,A
0D08 B5070D            CJNE    A,AR7,?C0082
0D0B EC                MOV     A,R4
0D0C B50609            CJNE    A,AR6,?C0082
                                           ; SOURCE LINE # 425
0D0F 900000      E     MOV     DPTR,#g_rx+03H
0D12 E0                MOVX    A,@DPTR
0D13 900000      E     MOV     DPTR,#g_mem+01H
0D16 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 426
0D17 22                RET     
0D18         ?C0082:
                                           ; SOURCE LINE # 427
                                           ; SOURCE LINE # 430
0D18 900000      E     MOV     DPTR,#g_rx+03H
0D1B E0                MOVX    A,@DPTR
0D1C FF                MOV     R7,A
0D1D 900000      R     MOV     DPTR,#first_imu_parameter
0D20 E0                MOVX    A,@DPTR
0D21 FA                MOV     R2,A
0D22 A3                INC     DPTR
0D23 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 56  

0D24 FB                MOV     R3,A
0D25 C3                CLR     C
0D26 ED                MOV     A,R5
0D27 9B                SUBB    A,R3
0D28 FD                MOV     R5,A
0D29 EC                MOV     A,R4
0D2A 9A                SUBB    A,R2
0D2B FC                MOV     R4,A
0D2C 7400        E     MOV     A,#LOW IMU_connected
0D2E 2D                ADD     A,R5
0D2F F582              MOV     DPL,A
0D31 7400        E     MOV     A,#HIGH IMU_connected
0D33 3C                ADDC    A,R4
0D34 F583              MOV     DPH,A
0D36 E0                MOVX    A,@DPTR
0D37 75F005            MOV     B,#05H
0D3A A4                MUL     AB
0D3B 2400        E     ADD     A,#LOW g_mem+04H
0D3D F582              MOV     DPL,A
0D3F E4                CLR     A
0D40 3400        E     ADDC    A,#HIGH g_mem+04H
0D42 F583              MOV     DPH,A
0D44 EF                MOV     A,R7
0D45 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 431
0D46 900000      E     MOV     DPTR,#g_rx+04H
0D49 E0                MOVX    A,@DPTR
0D4A FF                MOV     R7,A
0D4B 7400        E     MOV     A,#LOW IMU_connected
0D4D 2D                ADD     A,R5
0D4E F582              MOV     DPL,A
0D50 7400        E     MOV     A,#HIGH IMU_connected
0D52 3C                ADDC    A,R4
0D53 F583              MOV     DPH,A
0D55 E0                MOVX    A,@DPTR
0D56 75F005            MOV     B,#05H
0D59 A4                MUL     AB
0D5A 2400        E     ADD     A,#LOW g_mem+05H
0D5C F582              MOV     DPL,A
0D5E E4                CLR     A
0D5F 3400        E     ADDC    A,#HIGH g_mem+05H
0D61 F583              MOV     DPH,A
0D63 EF                MOV     A,R7
0D64 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 432
0D65 900000      E     MOV     DPTR,#g_rx+05H
0D68 E0                MOVX    A,@DPTR
0D69 FF                MOV     R7,A
0D6A 7400        E     MOV     A,#LOW IMU_connected
0D6C 2D                ADD     A,R5
0D6D F582              MOV     DPL,A
0D6F 7400        E     MOV     A,#HIGH IMU_connected
0D71 3C                ADDC    A,R4
0D72 F583              MOV     DPH,A
0D74 E0                MOVX    A,@DPTR
0D75 75F005            MOV     B,#05H
0D78 A4                MUL     AB
0D79 2400        E     ADD     A,#LOW g_mem+06H
0D7B F582              MOV     DPL,A
0D7D E4                CLR     A
0D7E 3400        E     ADDC    A,#HIGH g_mem+06H
0D80 F583              MOV     DPH,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 57  

0D82 EF                MOV     A,R7
0D83 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 433
0D84 900000      E     MOV     DPTR,#g_rx+06H
0D87 E0                MOVX    A,@DPTR
0D88 FF                MOV     R7,A
0D89 7400        E     MOV     A,#LOW IMU_connected
0D8B 2D                ADD     A,R5
0D8C F582              MOV     DPL,A
0D8E 7400        E     MOV     A,#HIGH IMU_connected
0D90 3C                ADDC    A,R4
0D91 F583              MOV     DPH,A
0D93 E0                MOVX    A,@DPTR
0D94 75F005            MOV     B,#05H
0D97 A4                MUL     AB
0D98 2400        E     ADD     A,#LOW g_mem+07H
0D9A F582              MOV     DPL,A
0D9C E4                CLR     A
0D9D 3400        E     ADDC    A,#HIGH g_mem+07H
0D9F F583              MOV     DPH,A
0DA1 EF                MOV     A,R7
0DA2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 434
0DA3 900000      E     MOV     DPTR,#g_rx+07H
0DA6 E0                MOVX    A,@DPTR
0DA7 FF                MOV     R7,A
0DA8 7400        E     MOV     A,#LOW IMU_connected
0DAA 2D                ADD     A,R5
0DAB F582              MOV     DPL,A
0DAD 7400        E     MOV     A,#HIGH IMU_connected
0DAF 3C                ADDC    A,R4
0DB0 F583              MOV     DPH,A
0DB2 E0                MOVX    A,@DPTR
0DB3 75F005            MOV     B,#05H
0DB6 A4                MUL     AB
0DB7 2400        E     ADD     A,#LOW g_mem+08H
0DB9 F582              MOV     DPL,A
0DBB E4                CLR     A
0DBC 3400        E     ADDC    A,#HIGH g_mem+08H
0DBE F583              MOV     DPH,A
0DC0 EF                MOV     A,R7
0DC1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 437
0DC2 900000      E     MOV     DPTR,#imus_data_size
0DC5 E4                CLR     A
0DC6 F0                MOVX    @DPTR,A
0DC7 A3                INC     DPTR
0DC8 04                INC     A
0DC9 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 438
0DCA E4                CLR     A
0DCB F500        R     MOV     i,A
0DCD F500        R     MOV     i+01H,A
0DCF         ?C0084:
0DCF 900000      E     MOV     DPTR,#N_IMU_Connected
0DD2 E0                MOVX    A,@DPTR
0DD3 FF                MOV     R7,A
0DD4 C3                CLR     C
0DD5 E500        R     MOV     A,i+01H
0DD7 9F                SUBB    A,R7
0DD8 E500        R     MOV     A,i
0DDA 9400              SUBB    A,#00H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 58  

0DDC 4003              JC      $ + 5H
0DDE 020000      R     LJMP    ?C0085
                                           ; SOURCE LINE # 439
                                           ; SOURCE LINE # 440
0DE1 7400        E     MOV     A,#LOW IMU_connected
0DE3 2500        R     ADD     A,i+01H
0DE5 F582              MOV     DPL,A
0DE7 7400        E     MOV     A,#HIGH IMU_connected
0DE9 3500        R     ADDC    A,i
0DEB F583              MOV     DPH,A
0DED E0                MOVX    A,@DPTR
0DEE FF                MOV     R7,A
0DEF 75F005            MOV     B,#05H
0DF2 A4                MUL     AB
0DF3 2400        E     ADD     A,#LOW g_mem+05H
0DF5 F582              MOV     DPL,A
0DF7 E4                CLR     A
0DF8 3400        E     ADDC    A,#HIGH g_mem+05H
0DFA F583              MOV     DPH,A
0DFC E0                MOVX    A,@DPTR
0DFD 75F006            MOV     B,#06H
0E00 A4                MUL     AB
0E01 FE                MOV     R6,A
0E02 EF                MOV     A,R7
0E03 75F005            MOV     B,#05H
0E06 A4                MUL     AB
0E07 2400        E     ADD     A,#LOW g_mem+04H
0E09 F582              MOV     DPL,A
0E0B E4                CLR     A
0E0C 3400        E     ADDC    A,#HIGH g_mem+04H
0E0E F583              MOV     DPH,A
0E10 E0                MOVX    A,@DPTR
0E11 75F006            MOV     B,#06H
0E14 A4                MUL     AB
0E15 2E                ADD     A,R6
0E16 FF                MOV     R7,A
0E17 7400        E     MOV     A,#LOW IMU_connected
0E19 2500        R     ADD     A,i+01H
0E1B F582              MOV     DPL,A
0E1D 7400        E     MOV     A,#HIGH IMU_connected
0E1F 3500        R     ADDC    A,i
0E21 F583              MOV     DPH,A
0E23 E0                MOVX    A,@DPTR
0E24 FE                MOV     R6,A
0E25 75F005            MOV     B,#05H
0E28 A4                MUL     AB
0E29 2400        E     ADD     A,#LOW g_mem+06H
0E2B F582              MOV     DPL,A
0E2D E4                CLR     A
0E2E 3400        E     ADDC    A,#HIGH g_mem+06H
0E30 F583              MOV     DPH,A
0E32 E0                MOVX    A,@DPTR
0E33 75F006            MOV     B,#06H
0E36 A4                MUL     AB
0E37 2F                ADD     A,R7
0E38 FF                MOV     R7,A
0E39 EE                MOV     A,R6
0E3A 75F005            MOV     B,#05H
0E3D A4                MUL     AB
0E3E 2400        E     ADD     A,#LOW g_mem+07H
0E40 F582              MOV     DPL,A
0E42 E4                CLR     A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 59  

0E43 3400        E     ADDC    A,#HIGH g_mem+07H
0E45 F583              MOV     DPH,A
0E47 E0                MOVX    A,@DPTR
0E48 C4                SWAP    A
0E49 54F0              ANL     A,#0F0H
0E4B 2F                ADD     A,R7
0E4C FF                MOV     R7,A
0E4D 7400        E     MOV     A,#LOW IMU_connected
0E4F 2500        R     ADD     A,i+01H
0E51 F582              MOV     DPL,A
0E53 7400        E     MOV     A,#HIGH IMU_connected
0E55 3500        R     ADDC    A,i
0E57 F583              MOV     DPH,A
0E59 E0                MOVX    A,@DPTR
0E5A FE                MOV     R6,A
0E5B 75F005            MOV     B,#05H
0E5E A4                MUL     AB
0E5F 2400        E     ADD     A,#LOW g_mem+08H
0E61 F582              MOV     DPL,A
0E63 E4                CLR     A
0E64 3400        E     ADDC    A,#HIGH g_mem+08H
0E66 F583              MOV     DPH,A
0E68 E0                MOVX    A,@DPTR
0E69 25E0              ADD     A,ACC
0E6B 2F                ADD     A,R7
0E6C 2402              ADD     A,#02H
0E6E FD                MOV     R5,A
0E6F EE                MOV     A,R6
0E70 25E0              ADD     A,ACC
0E72 2400        E     ADD     A,#LOW single_imu_size
0E74 F582              MOV     DPL,A
0E76 E4                CLR     A
0E77 3400        E     ADDC    A,#HIGH single_imu_size
0E79 F583              MOV     DPH,A
0E7B E4                CLR     A
0E7C F0                MOVX    @DPTR,A
0E7D A3                INC     DPTR
0E7E ED                MOV     A,R5
0E7F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 441
0E80 7400        E     MOV     A,#LOW IMU_connected
0E82 2500        R     ADD     A,i+01H
0E84 F582              MOV     DPL,A
0E86 7400        E     MOV     A,#HIGH IMU_connected
0E88 3500        R     ADDC    A,i
0E8A F583              MOV     DPH,A
0E8C E0                MOVX    A,@DPTR
0E8D 25E0              ADD     A,ACC
0E8F 2400        E     ADD     A,#LOW single_imu_size
0E91 F582              MOV     DPL,A
0E93 E4                CLR     A
0E94 3400        E     ADDC    A,#HIGH single_imu_size
0E96 F583              MOV     DPH,A
0E98 E0                MOVX    A,@DPTR
0E99 FE                MOV     R6,A
0E9A A3                INC     DPTR
0E9B E0                MOVX    A,@DPTR
0E9C FF                MOV     R7,A
0E9D 900000      E     MOV     DPTR,#imus_data_size+01H
0EA0 E0                MOVX    A,@DPTR
0EA1 2F                ADD     A,R7
0EA2 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 60  

0EA3 900000      E     MOV     DPTR,#imus_data_size
0EA6 E0                MOVX    A,@DPTR
0EA7 3E                ADDC    A,R6
0EA8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 442
0EA9 0500        R     INC     i+01H
0EAB E500        R     MOV     A,i+01H
0EAD 7002              JNZ     ?C0185
0EAF 0500        R     INC     i
0EB1         ?C0185:
0EB1 020000      R     LJMP    ?C0084
0EB4         ?C0085:
                                           ; SOURCE LINE # 443
0EB4 900000      E     MOV     DPTR,#imus_data_size+01H
0EB7 E0                MOVX    A,@DPTR
0EB8 04                INC     A
0EB9 F0                MOVX    @DPTR,A
0EBA 7006              JNZ     ?C0186
0EBC 900000      E     MOV     DPTR,#imus_data_size
0EBF E0                MOVX    A,@DPTR
0EC0 04                INC     A
0EC1 F0                MOVX    @DPTR,A
0EC2         ?C0186:
                                           ; SOURCE LINE # 445
                                           ; SOURCE LINE # 447
                                           ; SOURCE LINE # 448
                                           ; SOURCE LINE # 449
0EC2         ?C0087:
0EC2 22                RET     
             ; FUNCTION _get_param_list (END)

             ; FUNCTION _infoPrepare (BEGIN)
                                           ; SOURCE LINE # 456
0000 900000      R     MOV     DPTR,#info_string
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 457
                                           ; SOURCE LINE # 460
000B 900000      E     MOV     DPTR,#c_mem+01H
000E E0                MOVX    A,@DPTR
000F 64FA              XRL     A,#0FAH
0011 7003              JNZ     $ + 5H
0013 020000      R     LJMP    ?C0102
                                           ; SOURCE LINE # 461
0016 900000      R     MOV     DPTR,#info_string
0019 E0                MOVX    A,@DPTR
001A FB                MOV     R3,A
001B A3                INC     DPTR
001C E0                MOVX    A,@DPTR
001D FA                MOV     R2,A
001E A3                INC     DPTR
001F E0                MOVX    A,@DPTR
0020 F8                MOV     R0,A
0021 AC02              MOV     R4,AR2
0023 AD03              MOV     R5,AR3
0025 7BFF              MOV     R3,#0FFH
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 61  

0027 7A00        R     MOV     R2,#HIGH ?SC_209
0029 7900        R     MOV     R1,#LOW ?SC_209
002B 120000      E     LCALL   ?C?STRCPYAMD
                                           ; SOURCE LINE # 462
002E 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0031 74FF              MOV     A,#0FFH
0033 F0                MOVX    @DPTR,A
0034 A3                INC     DPTR
0035 7400        R     MOV     A,#HIGH ?SC_210
0037 F0                MOVX    @DPTR,A
0038 A3                INC     DPTR
0039 7400        R     MOV     A,#LOW ?SC_210
003B F0                MOVX    @DPTR,A
003C 900000      R     MOV     DPTR,#info_string
003F E0                MOVX    A,@DPTR
0040 FB                MOV     R3,A
0041 A3                INC     DPTR
0042 E0                MOVX    A,@DPTR
0043 FA                MOV     R2,A
0044 A3                INC     DPTR
0045 E0                MOVX    A,@DPTR
0046 F9                MOV     R1,A
0047 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 463
004A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
004D 74FF              MOV     A,#0FFH
004F F0                MOVX    @DPTR,A
0050 A3                INC     DPTR
0051 7400        R     MOV     A,#HIGH ?SC_213
0053 F0                MOVX    @DPTR,A
0054 A3                INC     DPTR
0055 7400        R     MOV     A,#LOW ?SC_213
0057 F0                MOVX    @DPTR,A
0058 900000      R     MOV     DPTR,#info_string
005B E0                MOVX    A,@DPTR
005C FB                MOV     R3,A
005D A3                INC     DPTR
005E E0                MOVX    A,@DPTR
005F FA                MOV     R2,A
0060 A3                INC     DPTR
0061 E0                MOVX    A,@DPTR
0062 F9                MOV     R1,A
0063 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 467
0066 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0069 74FF              MOV     A,#0FFH
006B F0                MOVX    @DPTR,A
006C A3                INC     DPTR
006D 7400        R     MOV     A,#HIGH ?SC_232
006F F0                MOVX    @DPTR,A
0070 A3                INC     DPTR
0071 7400        R     MOV     A,#LOW ?SC_232
0073 F0                MOVX    @DPTR,A
0074 900000      R     MOV     DPTR,#info_string
0077 E0                MOVX    A,@DPTR
0078 FB                MOV     R3,A
0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FA                MOV     R2,A
007C A3                INC     DPTR
007D E0                MOVX    A,@DPTR
007E F9                MOV     R1,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 62  

007F 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 469
0082 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0085 74FF              MOV     A,#0FFH
0087 F0                MOVX    @DPTR,A
0088 A3                INC     DPTR
0089 7400        R     MOV     A,#HIGH ?SC_247
008B F0                MOVX    @DPTR,A
008C A3                INC     DPTR
008D 7400        R     MOV     A,#LOW ?SC_247
008F F0                MOVX    @DPTR,A
0090 900000      R     MOV     DPTR,#info_string
0093 E0                MOVX    A,@DPTR
0094 FB                MOV     R3,A
0095 A3                INC     DPTR
0096 E0                MOVX    A,@DPTR
0097 FA                MOV     R2,A
0098 A3                INC     DPTR
0099 E0                MOVX    A,@DPTR
009A F9                MOV     R1,A
009B 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 471
009E 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
00A1 74FF              MOV     A,#0FFH
00A3 F0                MOVX    @DPTR,A
00A4 A3                INC     DPTR
00A5 7400        R     MOV     A,#HIGH ?SC_252
00A7 F0                MOVX    @DPTR,A
00A8 A3                INC     DPTR
00A9 7400        R     MOV     A,#LOW ?SC_252
00AB F0                MOVX    @DPTR,A
00AC 900000      R     MOV     DPTR,#info_string
00AF E0                MOVX    A,@DPTR
00B0 FB                MOV     R3,A
00B1 A3                INC     DPTR
00B2 E0                MOVX    A,@DPTR
00B3 FA                MOV     R2,A
00B4 A3                INC     DPTR
00B5 E0                MOVX    A,@DPTR
00B6 F9                MOV     R1,A
00B7 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 472
00BA 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
00BD 74FF              MOV     A,#0FFH
00BF F0                MOVX    @DPTR,A
00C0 A3                INC     DPTR
00C1 7400        R     MOV     A,#HIGH ?SC_266
00C3 F0                MOVX    @DPTR,A
00C4 A3                INC     DPTR
00C5 7400        R     MOV     A,#LOW ?SC_266
00C7 F0                MOVX    @DPTR,A
00C8 900000      E     MOV     DPTR,#c_mem+01H
00CB E0                MOVX    A,@DPTR
00CC FF                MOV     R7,A
00CD 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
00D0 E4                CLR     A
00D1 F0                MOVX    @DPTR,A
00D2 A3                INC     DPTR
00D3 EF                MOV     A,R7
00D4 F0                MOVX    @DPTR,A
00D5 7B01              MOV     R3,#01H
00D7 7A00        R     MOV     R2,#HIGH str
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 63  

00D9 7900        R     MOV     R1,#LOW str
00DB 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 473
00DE 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
00E1 7401              MOV     A,#01H
00E3 F0                MOVX    @DPTR,A
00E4 A3                INC     DPTR
00E5 7400        R     MOV     A,#HIGH str
00E7 F0                MOVX    @DPTR,A
00E8 A3                INC     DPTR
00E9 7400        R     MOV     A,#LOW str
00EB F0                MOVX    @DPTR,A
00EC 900000      R     MOV     DPTR,#info_string
00EF E0                MOVX    A,@DPTR
00F0 FB                MOV     R3,A
00F1 A3                INC     DPTR
00F2 E0                MOVX    A,@DPTR
00F3 FA                MOV     R2,A
00F4 A3                INC     DPTR
00F5 E0                MOVX    A,@DPTR
00F6 F9                MOV     R1,A
00F7 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 478
00FA 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
00FD 74FF              MOV     A,#0FFH
00FF F0                MOVX    @DPTR,A
0100 A3                INC     DPTR
0101 7400        R     MOV     A,#HIGH ?SC_275
0103 F0                MOVX    @DPTR,A
0104 A3                INC     DPTR
0105 7400        R     MOV     A,#LOW ?SC_275
0107 F0                MOVX    @DPTR,A
0108 900000      R     MOV     DPTR,#info_string
010B E0                MOVX    A,@DPTR
010C FB                MOV     R3,A
010D A3                INC     DPTR
010E E0                MOVX    A,@DPTR
010F FA                MOV     R2,A
0110 A3                INC     DPTR
0111 E0                MOVX    A,@DPTR
0112 F9                MOV     R1,A
0113 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 481
0116 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0119 74FF              MOV     A,#0FFH
011B F0                MOVX    @DPTR,A
011C A3                INC     DPTR
011D 7400        R     MOV     A,#HIGH ?SC_329
011F F0                MOVX    @DPTR,A
0120 A3                INC     DPTR
0121 7400        R     MOV     A,#LOW ?SC_329
0123 F0                MOVX    @DPTR,A
0124 900000      E     MOV     DPTR,#N_IMU_Connected
0127 E0                MOVX    A,@DPTR
0128 FF                MOV     R7,A
0129 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
012C E4                CLR     A
012D F0                MOVX    @DPTR,A
012E A3                INC     DPTR
012F EF                MOV     A,R7
0130 F0                MOVX    @DPTR,A
0131 7B01              MOV     R3,#01H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 64  

0133 7A00        R     MOV     R2,#HIGH str
0135 7900        R     MOV     R1,#LOW str
0137 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 482
013A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
013D 7401              MOV     A,#01H
013F F0                MOVX    @DPTR,A
0140 A3                INC     DPTR
0141 7400        R     MOV     A,#HIGH str
0143 F0                MOVX    @DPTR,A
0144 A3                INC     DPTR
0145 7400        R     MOV     A,#LOW str
0147 F0                MOVX    @DPTR,A
0148 900000      R     MOV     DPTR,#info_string
014B E0                MOVX    A,@DPTR
014C FB                MOV     R3,A
014D A3                INC     DPTR
014E E0                MOVX    A,@DPTR
014F FA                MOV     R2,A
0150 A3                INC     DPTR
0151 E0                MOVX    A,@DPTR
0152 F9                MOV     R1,A
0153 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 484
0156 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0159 74FF              MOV     A,#0FFH
015B F0                MOVX    @DPTR,A
015C A3                INC     DPTR
015D 7400        R     MOV     A,#HIGH ?SC_210
015F F0                MOVX    @DPTR,A
0160 A3                INC     DPTR
0161 7400        R     MOV     A,#LOW ?SC_210
0163 F0                MOVX    @DPTR,A
0164 900000      R     MOV     DPTR,#info_string
0167 E0                MOVX    A,@DPTR
0168 FB                MOV     R3,A
0169 A3                INC     DPTR
016A E0                MOVX    A,@DPTR
016B FA                MOV     R2,A
016C A3                INC     DPTR
016D E0                MOVX    A,@DPTR
016E F9                MOV     R1,A
016F 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 486
0172 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0175 74FF              MOV     A,#0FFH
0177 F0                MOVX    @DPTR,A
0178 A3                INC     DPTR
0179 7400        R     MOV     A,#HIGH ?SC_349
017B F0                MOVX    @DPTR,A
017C A3                INC     DPTR
017D 7400        R     MOV     A,#LOW ?SC_349
017F F0                MOVX    @DPTR,A
0180 900000      R     MOV     DPTR,#info_string
0183 E0                MOVX    A,@DPTR
0184 FB                MOV     R3,A
0185 A3                INC     DPTR
0186 E0                MOVX    A,@DPTR
0187 FA                MOV     R2,A
0188 A3                INC     DPTR
0189 E0                MOVX    A,@DPTR
018A F9                MOV     R1,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 65  

018B 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 487
018E E4                CLR     A
018F 900000      R     MOV     DPTR,#i
0192 F0                MOVX    @DPTR,A
0193 A3                INC     DPTR
0194 F0                MOVX    @DPTR,A
0195         ?C0089:
0195 900000      E     MOV     DPTR,#N_IMU_Connected
0198 E0                MOVX    A,@DPTR
0199 FF                MOV     R7,A
019A C3                CLR     C
019B 900000      R     MOV     DPTR,#i+01H
019E E0                MOVX    A,@DPTR
019F 9F                SUBB    A,R7
01A0 7480              MOV     A,#080H
01A2 F8                MOV     R0,A
01A3 900000      R     MOV     DPTR,#i
01A6 E0                MOVX    A,@DPTR
01A7 6480              XRL     A,#080H
01A9 98                SUBB    A,R0
01AA 4003              JC      $ + 5H
01AC 020000      R     LJMP    ?C0090
                                           ; SOURCE LINE # 488
01AF 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
01B2 74FF              MOV     A,#0FFH
01B4 F0                MOVX    @DPTR,A
01B5 A3                INC     DPTR
01B6 7400        R     MOV     A,#HIGH ?SC_370
01B8 F0                MOVX    @DPTR,A
01B9 A3                INC     DPTR
01BA 7400        R     MOV     A,#LOW ?SC_370
01BC F0                MOVX    @DPTR,A
01BD 900000      R     MOV     DPTR,#i
01C0 E0                MOVX    A,@DPTR
01C1 FE                MOV     R6,A
01C2 A3                INC     DPTR
01C3 E0                MOVX    A,@DPTR
01C4 FF                MOV     R7,A
01C5 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
01C8 EE                MOV     A,R6
01C9 F0                MOVX    @DPTR,A
01CA A3                INC     DPTR
01CB EF                MOV     A,R7
01CC F0                MOVX    @DPTR,A
01CD 2400        E     ADD     A,#LOW IMU_connected
01CF F582              MOV     DPL,A
01D1 7400        E     MOV     A,#HIGH IMU_connected
01D3 3E                ADDC    A,R6
01D4 F583              MOV     DPH,A
01D6 E0                MOVX    A,@DPTR
01D7 FF                MOV     R7,A
01D8 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
01DB E4                CLR     A
01DC F0                MOVX    @DPTR,A
01DD A3                INC     DPTR
01DE EF                MOV     A,R7
01DF F0                MOVX    @DPTR,A
01E0 7B01              MOV     R3,#01H
01E2 7A00        R     MOV     R2,#HIGH str
01E4 7900        R     MOV     R1,#LOW str
01E6 120000      E     LCALL   _sprintf
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 66  

                                           ; SOURCE LINE # 489
01E9 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
01EC 7401              MOV     A,#01H
01EE F0                MOVX    @DPTR,A
01EF A3                INC     DPTR
01F0 7400        R     MOV     A,#HIGH str
01F2 F0                MOVX    @DPTR,A
01F3 A3                INC     DPTR
01F4 7400        R     MOV     A,#LOW str
01F6 F0                MOVX    @DPTR,A
01F7 900000      R     MOV     DPTR,#info_string
01FA E0                MOVX    A,@DPTR
01FB FB                MOV     R3,A
01FC A3                INC     DPTR
01FD E0                MOVX    A,@DPTR
01FE FA                MOV     R2,A
01FF A3                INC     DPTR
0200 E0                MOVX    A,@DPTR
0201 F9                MOV     R1,A
0202 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 491
0205 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0208 74FF              MOV     A,#0FFH
020A F0                MOVX    @DPTR,A
020B A3                INC     DPTR
020C 7400        R     MOV     A,#HIGH ?SC_389
020E F0                MOVX    @DPTR,A
020F A3                INC     DPTR
0210 7400        R     MOV     A,#LOW ?SC_389
0212 F0                MOVX    @DPTR,A
0213 7B01              MOV     R3,#01H
0215 7A00        R     MOV     R2,#HIGH str
0217 7900        R     MOV     R1,#LOW str
0219 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 492
021C 900000      R     MOV     DPTR,#i
021F E0                MOVX    A,@DPTR
0220 FE                MOV     R6,A
0221 A3                INC     DPTR
0222 E0                MOVX    A,@DPTR
0223 2400        E     ADD     A,#LOW IMU_connected
0225 F582              MOV     DPL,A
0227 7400        E     MOV     A,#HIGH IMU_connected
0229 3E                ADDC    A,R6
022A F583              MOV     DPH,A
022C E0                MOVX    A,@DPTR
022D 75F005            MOV     B,#05H
0230 A4                MUL     AB
0231 2400        E     ADD     A,#LOW c_mem+04H
0233 F582              MOV     DPL,A
0235 E4                CLR     A
0236 3400        E     ADDC    A,#HIGH c_mem+04H
0238 F583              MOV     DPH,A
023A E0                MOVX    A,@DPTR
023B 6019              JZ      ?C0092
                                           ; SOURCE LINE # 493
023D 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0240 74FF              MOV     A,#0FFH
0242 F0                MOVX    @DPTR,A
0243 A3                INC     DPTR
0244 7400        R     MOV     A,#HIGH ?SC_407
0246 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 67  

0247 A3                INC     DPTR
0248 7400        R     MOV     A,#LOW ?SC_407
024A F0                MOVX    @DPTR,A
024B 7B01              MOV     R3,#01H
024D 7A00        R     MOV     R2,#HIGH str
024F 7900        R     MOV     R1,#LOW str
0251 120000      E     LCALL   _strcat
0254 8017              SJMP    ?C0093
0256         ?C0092:
                                           ; SOURCE LINE # 495
0256 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0259 74FF              MOV     A,#0FFH
025B F0                MOVX    @DPTR,A
025C A3                INC     DPTR
025D 7400        R     MOV     A,#HIGH ?SC_413
025F F0                MOVX    @DPTR,A
0260 A3                INC     DPTR
0261 7400        R     MOV     A,#LOW ?SC_413
0263 F0                MOVX    @DPTR,A
0264 7B01              MOV     R3,#01H
0266 7A00        R     MOV     R2,#HIGH str
0268 7900        R     MOV     R1,#LOW str
026A 120000      E     LCALL   _strcat
026D         ?C0093:
                                           ; SOURCE LINE # 496
026D 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0270 74FF              MOV     A,#0FFH
0272 F0                MOVX    @DPTR,A
0273 A3                INC     DPTR
0274 7400        R     MOV     A,#HIGH ?SC_418
0276 F0                MOVX    @DPTR,A
0277 A3                INC     DPTR
0278 7400        R     MOV     A,#LOW ?SC_418
027A F0                MOVX    @DPTR,A
027B 7B01              MOV     R3,#01H
027D 7A00        R     MOV     R2,#HIGH str
027F 7900        R     MOV     R1,#LOW str
0281 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 497
0284 900000      R     MOV     DPTR,#i
0287 E0                MOVX    A,@DPTR
0288 FE                MOV     R6,A
0289 A3                INC     DPTR
028A E0                MOVX    A,@DPTR
028B 2400        E     ADD     A,#LOW IMU_connected
028D F582              MOV     DPL,A
028F 7400        E     MOV     A,#HIGH IMU_connected
0291 3E                ADDC    A,R6
0292 F583              MOV     DPH,A
0294 E0                MOVX    A,@DPTR
0295 75F005            MOV     B,#05H
0298 A4                MUL     AB
0299 2400        E     ADD     A,#LOW c_mem+05H
029B F582              MOV     DPL,A
029D E4                CLR     A
029E 3400        E     ADDC    A,#HIGH c_mem+05H
02A0 F583              MOV     DPH,A
02A2 E0                MOVX    A,@DPTR
02A3 6019              JZ      ?C0094
                                           ; SOURCE LINE # 498
02A5 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
02A8 74FF              MOV     A,#0FFH
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 68  

02AA F0                MOVX    @DPTR,A
02AB A3                INC     DPTR
02AC 7400        R     MOV     A,#HIGH ?SC_407
02AE F0                MOVX    @DPTR,A
02AF A3                INC     DPTR
02B0 7400        R     MOV     A,#LOW ?SC_407
02B2 F0                MOVX    @DPTR,A
02B3 7B01              MOV     R3,#01H
02B5 7A00        R     MOV     R2,#HIGH str
02B7 7900        R     MOV     R1,#LOW str
02B9 120000      E     LCALL   _strcat
02BC 8017              SJMP    ?C0095
02BE         ?C0094:
                                           ; SOURCE LINE # 500
02BE 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
02C1 74FF              MOV     A,#0FFH
02C3 F0                MOVX    @DPTR,A
02C4 A3                INC     DPTR
02C5 7400        R     MOV     A,#HIGH ?SC_413
02C7 F0                MOVX    @DPTR,A
02C8 A3                INC     DPTR
02C9 7400        R     MOV     A,#LOW ?SC_413
02CB F0                MOVX    @DPTR,A
02CC 7B01              MOV     R3,#01H
02CE 7A00        R     MOV     R2,#HIGH str
02D0 7900        R     MOV     R1,#LOW str
02D2 120000      E     LCALL   _strcat
02D5         ?C0095:
                                           ; SOURCE LINE # 501
02D5 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
02D8 74FF              MOV     A,#0FFH
02DA F0                MOVX    @DPTR,A
02DB A3                INC     DPTR
02DC 7400        R     MOV     A,#HIGH ?SC_432
02DE F0                MOVX    @DPTR,A
02DF A3                INC     DPTR
02E0 7400        R     MOV     A,#LOW ?SC_432
02E2 F0                MOVX    @DPTR,A
02E3 7B01              MOV     R3,#01H
02E5 7A00        R     MOV     R2,#HIGH str
02E7 7900        R     MOV     R1,#LOW str
02E9 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 502
02EC 900000      R     MOV     DPTR,#i
02EF E0                MOVX    A,@DPTR
02F0 FE                MOV     R6,A
02F1 A3                INC     DPTR
02F2 E0                MOVX    A,@DPTR
02F3 2400        E     ADD     A,#LOW IMU_connected
02F5 F582              MOV     DPL,A
02F7 7400        E     MOV     A,#HIGH IMU_connected
02F9 3E                ADDC    A,R6
02FA F583              MOV     DPH,A
02FC E0                MOVX    A,@DPTR
02FD 75F005            MOV     B,#05H
0300 A4                MUL     AB
0301 2400        E     ADD     A,#LOW c_mem+06H
0303 F582              MOV     DPL,A
0305 E4                CLR     A
0306 3400        E     ADDC    A,#HIGH c_mem+06H
0308 F583              MOV     DPH,A
030A E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 69  

030B 6019              JZ      ?C0096
                                           ; SOURCE LINE # 503
030D 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0310 74FF              MOV     A,#0FFH
0312 F0                MOVX    @DPTR,A
0313 A3                INC     DPTR
0314 7400        R     MOV     A,#HIGH ?SC_407
0316 F0                MOVX    @DPTR,A
0317 A3                INC     DPTR
0318 7400        R     MOV     A,#LOW ?SC_407
031A F0                MOVX    @DPTR,A
031B 7B01              MOV     R3,#01H
031D 7A00        R     MOV     R2,#HIGH str
031F 7900        R     MOV     R1,#LOW str
0321 120000      E     LCALL   _strcat
0324 8017              SJMP    ?C0097
0326         ?C0096:
                                           ; SOURCE LINE # 505
0326 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0329 74FF              MOV     A,#0FFH
032B F0                MOVX    @DPTR,A
032C A3                INC     DPTR
032D 7400        R     MOV     A,#HIGH ?SC_413
032F F0                MOVX    @DPTR,A
0330 A3                INC     DPTR
0331 7400        R     MOV     A,#LOW ?SC_413
0333 F0                MOVX    @DPTR,A
0334 7B01              MOV     R3,#01H
0336 7A00        R     MOV     R2,#HIGH str
0338 7900        R     MOV     R1,#LOW str
033A 120000      E     LCALL   _strcat
033D         ?C0097:
                                           ; SOURCE LINE # 506
033D 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0340 74FF              MOV     A,#0FFH
0342 F0                MOVX    @DPTR,A
0343 A3                INC     DPTR
0344 7400        R     MOV     A,#HIGH ?SC_449
0346 F0                MOVX    @DPTR,A
0347 A3                INC     DPTR
0348 7400        R     MOV     A,#LOW ?SC_449
034A F0                MOVX    @DPTR,A
034B 7B01              MOV     R3,#01H
034D 7A00        R     MOV     R2,#HIGH str
034F 7900        R     MOV     R1,#LOW str
0351 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 507
0354 900000      R     MOV     DPTR,#i
0357 E0                MOVX    A,@DPTR
0358 FE                MOV     R6,A
0359 A3                INC     DPTR
035A E0                MOVX    A,@DPTR
035B 2400        E     ADD     A,#LOW IMU_connected
035D F582              MOV     DPL,A
035F 7400        E     MOV     A,#HIGH IMU_connected
0361 3E                ADDC    A,R6
0362 F583              MOV     DPH,A
0364 E0                MOVX    A,@DPTR
0365 75F005            MOV     B,#05H
0368 A4                MUL     AB
0369 2400        E     ADD     A,#LOW c_mem+07H
036B F582              MOV     DPL,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 70  

036D E4                CLR     A
036E 3400        E     ADDC    A,#HIGH c_mem+07H
0370 F583              MOV     DPH,A
0372 E0                MOVX    A,@DPTR
0373 6019              JZ      ?C0098
                                           ; SOURCE LINE # 508
0375 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0378 74FF              MOV     A,#0FFH
037A F0                MOVX    @DPTR,A
037B A3                INC     DPTR
037C 7400        R     MOV     A,#HIGH ?SC_407
037E F0                MOVX    @DPTR,A
037F A3                INC     DPTR
0380 7400        R     MOV     A,#LOW ?SC_407
0382 F0                MOVX    @DPTR,A
0383 7B01              MOV     R3,#01H
0385 7A00        R     MOV     R2,#HIGH str
0387 7900        R     MOV     R1,#LOW str
0389 120000      E     LCALL   _strcat
038C 8017              SJMP    ?C0099
038E         ?C0098:
                                           ; SOURCE LINE # 510
038E 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0391 74FF              MOV     A,#0FFH
0393 F0                MOVX    @DPTR,A
0394 A3                INC     DPTR
0395 7400        R     MOV     A,#HIGH ?SC_413
0397 F0                MOVX    @DPTR,A
0398 A3                INC     DPTR
0399 7400        R     MOV     A,#LOW ?SC_413
039B F0                MOVX    @DPTR,A
039C 7B01              MOV     R3,#01H
039E 7A00        R     MOV     R2,#HIGH str
03A0 7900        R     MOV     R1,#LOW str
03A2 120000      E     LCALL   _strcat
03A5         ?C0099:
                                           ; SOURCE LINE # 511
03A5 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
03A8 74FF              MOV     A,#0FFH
03AA F0                MOVX    @DPTR,A
03AB A3                INC     DPTR
03AC 7400        R     MOV     A,#HIGH ?SC_463
03AE F0                MOVX    @DPTR,A
03AF A3                INC     DPTR
03B0 7400        R     MOV     A,#LOW ?SC_463
03B2 F0                MOVX    @DPTR,A
03B3 7B01              MOV     R3,#01H
03B5 7A00        R     MOV     R2,#HIGH str
03B7 7900        R     MOV     R1,#LOW str
03B9 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 512
03BC 900000      R     MOV     DPTR,#i
03BF E0                MOVX    A,@DPTR
03C0 FE                MOV     R6,A
03C1 A3                INC     DPTR
03C2 E0                MOVX    A,@DPTR
03C3 2400        E     ADD     A,#LOW IMU_connected
03C5 F582              MOV     DPL,A
03C7 7400        E     MOV     A,#HIGH IMU_connected
03C9 3E                ADDC    A,R6
03CA F583              MOV     DPH,A
03CC E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 71  

03CD 75F005            MOV     B,#05H
03D0 A4                MUL     AB
03D1 2400        E     ADD     A,#LOW c_mem+08H
03D3 F582              MOV     DPL,A
03D5 E4                CLR     A
03D6 3400        E     ADDC    A,#HIGH c_mem+08H
03D8 F583              MOV     DPH,A
03DA E0                MOVX    A,@DPTR
03DB 6019              JZ      ?C0100
                                           ; SOURCE LINE # 513
03DD 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
03E0 74FF              MOV     A,#0FFH
03E2 F0                MOVX    @DPTR,A
03E3 A3                INC     DPTR
03E4 7400        R     MOV     A,#HIGH ?SC_407
03E6 F0                MOVX    @DPTR,A
03E7 A3                INC     DPTR
03E8 7400        R     MOV     A,#LOW ?SC_407
03EA F0                MOVX    @DPTR,A
03EB 7B01              MOV     R3,#01H
03ED 7A00        R     MOV     R2,#HIGH str
03EF 7900        R     MOV     R1,#LOW str
03F1 120000      E     LCALL   _strcat
03F4 8017              SJMP    ?C0101
03F6         ?C0100:
                                           ; SOURCE LINE # 515
03F6 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
03F9 74FF              MOV     A,#0FFH
03FB F0                MOVX    @DPTR,A
03FC A3                INC     DPTR
03FD 7400        R     MOV     A,#HIGH ?SC_413
03FF F0                MOVX    @DPTR,A
0400 A3                INC     DPTR
0401 7400        R     MOV     A,#LOW ?SC_413
0403 F0                MOVX    @DPTR,A
0404 7B01              MOV     R3,#01H
0406 7A00        R     MOV     R2,#HIGH str
0408 7900        R     MOV     R1,#LOW str
040A 120000      E     LCALL   _strcat
040D         ?C0101:
                                           ; SOURCE LINE # 517
040D 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0410 7401              MOV     A,#01H
0412 F0                MOVX    @DPTR,A
0413 A3                INC     DPTR
0414 7400        R     MOV     A,#HIGH str
0416 F0                MOVX    @DPTR,A
0417 A3                INC     DPTR
0418 7400        R     MOV     A,#LOW str
041A F0                MOVX    @DPTR,A
041B 900000      R     MOV     DPTR,#info_string
041E E0                MOVX    A,@DPTR
041F FB                MOV     R3,A
0420 A3                INC     DPTR
0421 E0                MOVX    A,@DPTR
0422 FA                MOV     R2,A
0423 A3                INC     DPTR
0424 E0                MOVX    A,@DPTR
0425 F9                MOV     R1,A
0426 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 518
0429 900000      R     MOV     DPTR,#i+01H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 72  

042C E0                MOVX    A,@DPTR
042D 04                INC     A
042E F0                MOVX    @DPTR,A
042F 7006              JNZ     ?C0187
0431 900000      R     MOV     DPTR,#i
0434 E0                MOVX    A,@DPTR
0435 04                INC     A
0436 F0                MOVX    @DPTR,A
0437         ?C0187:
0437 020000      R     LJMP    ?C0089
043A         ?C0090:
                                           ; SOURCE LINE # 520
043A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
043D 74FF              MOV     A,#0FFH
043F F0                MOVX    @DPTR,A
0440 A3                INC     DPTR
0441 7400        R     MOV     A,#HIGH ?SC_210
0443 F0                MOVX    @DPTR,A
0444 A3                INC     DPTR
0445 7400        R     MOV     A,#LOW ?SC_210
0447 F0                MOVX    @DPTR,A
0448 900000      R     MOV     DPTR,#info_string
044B E0                MOVX    A,@DPTR
044C FB                MOV     R3,A
044D A3                INC     DPTR
044E E0                MOVX    A,@DPTR
044F FA                MOV     R2,A
0450 A3                INC     DPTR
0451 E0                MOVX    A,@DPTR
0452 F9                MOV     R1,A
0453 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 522
0456 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0459 74FF              MOV     A,#0FFH
045B F0                MOVX    @DPTR,A
045C A3                INC     DPTR
045D 7400        R     MOV     A,#HIGH ?SC_478
045F F0                MOVX    @DPTR,A
0460 A3                INC     DPTR
0461 7400        R     MOV     A,#LOW ?SC_478
0463 F0                MOVX    @DPTR,A
0464 900000      E     MOV     DPTR,#timer_value
0467 E0                MOVX    A,@DPTR
0468 F8                MOV     R0,A
0469 A3                INC     DPTR
046A E0                MOVX    A,@DPTR
046B F9                MOV     R1,A
046C A3                INC     DPTR
046D E0                MOVX    A,@DPTR
046E FA                MOV     R2,A
046F A3                INC     DPTR
0470 E0                MOVX    A,@DPTR
0471 FB                MOV     R3,A
0472 900000      E     MOV     DPTR,#timer_value0
0475 E0                MOVX    A,@DPTR
0476 FC                MOV     R4,A
0477 A3                INC     DPTR
0478 E0                MOVX    A,@DPTR
0479 FD                MOV     R5,A
047A A3                INC     DPTR
047B E0                MOVX    A,@DPTR
047C FE                MOV     R6,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 73  

047D A3                INC     DPTR
047E E0                MOVX    A,@DPTR
047F C3                CLR     C
0480 9B                SUBB    A,R3
0481 FF                MOV     R7,A
0482 EE                MOV     A,R6
0483 9A                SUBB    A,R2
0484 FE                MOV     R6,A
0485 ED                MOV     A,R5
0486 99                SUBB    A,R1
0487 FD                MOV     R5,A
0488 EC                MOV     A,R4
0489 98                SUBB    A,R0
048A FC                MOV     R4,A
048B E4                CLR     A
048C 120000      E     LCALL   ?C?FCASTL
048F E4                CLR     A
0490 FB                MOV     R3,A
0491 FA                MOV     R2,A
0492 797A              MOV     R1,#07AH
0494 7844              MOV     R0,#044H
0496 120000      E     LCALL   ?C?FPDIV
0499 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
049C 120000      E     LCALL   ?C?LSTXDATA
049F 7B01              MOV     R3,#01H
04A1 7A00        R     MOV     R2,#HIGH str
04A3 7900        R     MOV     R1,#LOW str
04A5 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 523
04A8 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
04AB 7401              MOV     A,#01H
04AD F0                MOVX    @DPTR,A
04AE A3                INC     DPTR
04AF 7400        R     MOV     A,#HIGH str
04B1 F0                MOVX    @DPTR,A
04B2 A3                INC     DPTR
04B3 7400        R     MOV     A,#LOW str
04B5 F0                MOVX    @DPTR,A
04B6 900000      R     MOV     DPTR,#info_string
04B9 E0                MOVX    A,@DPTR
04BA FB                MOV     R3,A
04BB A3                INC     DPTR
04BC E0                MOVX    A,@DPTR
04BD FA                MOV     R2,A
04BE A3                INC     DPTR
04BF E0                MOVX    A,@DPTR
04C0 F9                MOV     R1,A
04C1 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 524
04C4 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
04C7 74FF              MOV     A,#0FFH
04C9 F0                MOVX    @DPTR,A
04CA A3                INC     DPTR
04CB 7400        R     MOV     A,#HIGH ?SC_210
04CD F0                MOVX    @DPTR,A
04CE A3                INC     DPTR
04CF 7400        R     MOV     A,#LOW ?SC_210
04D1 F0                MOVX    @DPTR,A
04D2 900000      R     MOV     DPTR,#info_string
04D5 E0                MOVX    A,@DPTR
04D6 FB                MOV     R3,A
04D7 A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 74  

04D8 E0                MOVX    A,@DPTR
04D9 FA                MOV     R2,A
04DA A3                INC     DPTR
04DB E0                MOVX    A,@DPTR
04DC F9                MOV     R1,A
04DD 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 525
04E0 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
04E3 74FF              MOV     A,#0FFH
04E5 F0                MOVX    @DPTR,A
04E6 A3                INC     DPTR
04E7 7400        R     MOV     A,#HIGH ?SC_210
04E9 F0                MOVX    @DPTR,A
04EA A3                INC     DPTR
04EB 7400        R     MOV     A,#LOW ?SC_210
04ED F0                MOVX    @DPTR,A
04EE 900000      R     MOV     DPTR,#info_string
04F1 E0                MOVX    A,@DPTR
04F2 FB                MOV     R3,A
04F3 A3                INC     DPTR
04F4 E0                MOVX    A,@DPTR
04F5 FA                MOV     R2,A
04F6 A3                INC     DPTR
04F7 E0                MOVX    A,@DPTR
04F8 F9                MOV     R1,A
04F9 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 527
04FC 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
04FF 74FF              MOV     A,#0FFH
0501 F0                MOVX    @DPTR,A
0502 A3                INC     DPTR
0503 7400        R     MOV     A,#HIGH ?SC_519
0505 F0                MOVX    @DPTR,A
0506 A3                INC     DPTR
0507 7400        R     MOV     A,#LOW ?SC_519
0509 F0                MOVX    @DPTR,A
050A 900000      E     MOV     DPTR,#timer_value
050D E0                MOVX    A,@DPTR
050E F8                MOV     R0,A
050F A3                INC     DPTR
0510 E0                MOVX    A,@DPTR
0511 F9                MOV     R1,A
0512 A3                INC     DPTR
0513 E0                MOVX    A,@DPTR
0514 FA                MOV     R2,A
0515 A3                INC     DPTR
0516 E0                MOVX    A,@DPTR
0517 FB                MOV     R3,A
0518 900000      E     MOV     DPTR,#timer_value0
051B E0                MOVX    A,@DPTR
051C FC                MOV     R4,A
051D A3                INC     DPTR
051E E0                MOVX    A,@DPTR
051F FD                MOV     R5,A
0520 A3                INC     DPTR
0521 E0                MOVX    A,@DPTR
0522 FE                MOV     R6,A
0523 A3                INC     DPTR
0524 E0                MOVX    A,@DPTR
0525 C3                CLR     C
0526 9B                SUBB    A,R3
0527 FF                MOV     R7,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 75  

0528 EE                MOV     A,R6
0529 9A                SUBB    A,R2
052A FE                MOV     R6,A
052B ED                MOV     A,R5
052C 99                SUBB    A,R1
052D FD                MOV     R5,A
052E EC                MOV     A,R4
052F 98                SUBB    A,R0
0530 FC                MOV     R4,A
0531 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0534 120000      E     LCALL   ?C?LSTXDATA
0537 7B01              MOV     R3,#01H
0539 7A00        R     MOV     R2,#HIGH str
053B 7900        R     MOV     R1,#LOW str
053D 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 528
0540 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0543 7401              MOV     A,#01H
0545 F0                MOVX    @DPTR,A
0546 A3                INC     DPTR
0547 7400        R     MOV     A,#HIGH str
0549 F0                MOVX    @DPTR,A
054A A3                INC     DPTR
054B 7400        R     MOV     A,#LOW str
054D F0                MOVX    @DPTR,A
054E 900000      R     MOV     DPTR,#info_string
0551 E0                MOVX    A,@DPTR
0552 FB                MOV     R3,A
0553 A3                INC     DPTR
0554 E0                MOVX    A,@DPTR
0555 FA                MOV     R2,A
0556 A3                INC     DPTR
0557 E0                MOVX    A,@DPTR
0558 F9                MOV     R1,A
0559 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 529
055C 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
055F 74FF              MOV     A,#0FFH
0561 F0                MOVX    @DPTR,A
0562 A3                INC     DPTR
0563 7400        R     MOV     A,#HIGH ?SC_210
0565 F0                MOVX    @DPTR,A
0566 A3                INC     DPTR
0567 7400        R     MOV     A,#LOW ?SC_210
0569 F0                MOVX    @DPTR,A
056A 900000      R     MOV     DPTR,#info_string
056D E0                MOVX    A,@DPTR
056E FB                MOV     R3,A
056F A3                INC     DPTR
0570 E0                MOVX    A,@DPTR
0571 FA                MOV     R2,A
0572 A3                INC     DPTR
0573 E0                MOVX    A,@DPTR
0574 F9                MOV     R1,A
0575 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 530
0578 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
057B 74FF              MOV     A,#0FFH
057D F0                MOVX    @DPTR,A
057E A3                INC     DPTR
057F 7400        R     MOV     A,#HIGH ?SC_210
0581 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 76  

0582 A3                INC     DPTR
0583 7400        R     MOV     A,#LOW ?SC_210
0585 F0                MOVX    @DPTR,A
0586 900000      R     MOV     DPTR,#info_string
0589 E0                MOVX    A,@DPTR
058A FB                MOV     R3,A
058B A3                INC     DPTR
058C E0                MOVX    A,@DPTR
058D FA                MOV     R2,A
058E A3                INC     DPTR
058F E0                MOVX    A,@DPTR
0590 F9                MOV     R1,A
0591 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 531
                                           ; SOURCE LINE # 532
0594         ?C0102:
0594 22                RET     
             ; FUNCTION _infoPrepare (END)

             ; FUNCTION _infoReading (BEGIN)
                                           ; SOURCE LINE # 535
0000 900000      R     MOV     DPTR,#info_string
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 536
                                           ; SOURCE LINE # 540
000B 900000      R     MOV     DPTR,#info_string
000E E0                MOVX    A,@DPTR
000F FB                MOV     R3,A
0010 A3                INC     DPTR
0011 E0                MOVX    A,@DPTR
0012 FA                MOV     R2,A
0013 A3                INC     DPTR
0014 E0                MOVX    A,@DPTR
0015 F8                MOV     R0,A
0016 AC02              MOV     R4,AR2
0018 AD03              MOV     R5,AR3
001A 7BFF              MOV     R3,#0FFH
001C 7A00        R     MOV     R2,#HIGH ?SC_209
001E 7900        R     MOV     R1,#LOW ?SC_209
0020 120000      E     LCALL   ?C?STRCPYAMD
                                           ; SOURCE LINE # 541
0023 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0026 74FF              MOV     A,#0FFH
0028 F0                MOVX    @DPTR,A
0029 A3                INC     DPTR
002A 7400        R     MOV     A,#HIGH ?SC_210
002C F0                MOVX    @DPTR,A
002D A3                INC     DPTR
002E 7400        R     MOV     A,#LOW ?SC_210
0030 F0                MOVX    @DPTR,A
0031 900000      R     MOV     DPTR,#info_string
0034 E0                MOVX    A,@DPTR
0035 FB                MOV     R3,A
0036 A3                INC     DPTR
0037 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 77  

0038 FA                MOV     R2,A
0039 A3                INC     DPTR
003A E0                MOVX    A,@DPTR
003B F9                MOV     R1,A
003C 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 542
003F 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0042 74FF              MOV     A,#0FFH
0044 F0                MOVX    @DPTR,A
0045 A3                INC     DPTR
0046 7400        R     MOV     A,#HIGH ?SC_530
0048 F0                MOVX    @DPTR,A
0049 A3                INC     DPTR
004A 7400        R     MOV     A,#LOW ?SC_530
004C F0                MOVX    @DPTR,A
004D 900000      R     MOV     DPTR,#info_string
0050 E0                MOVX    A,@DPTR
0051 FB                MOV     R3,A
0052 A3                INC     DPTR
0053 E0                MOVX    A,@DPTR
0054 FA                MOV     R2,A
0055 A3                INC     DPTR
0056 E0                MOVX    A,@DPTR
0057 F9                MOV     R1,A
0058 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 543
005B E4                CLR     A
005C 900000      R     MOV     DPTR,#i
005F F0                MOVX    @DPTR,A
0060 A3                INC     DPTR
0061 F0                MOVX    @DPTR,A
0062         ?C0103:
0062 900000      E     MOV     DPTR,#N_IMU_Connected
0065 E0                MOVX    A,@DPTR
0066 FF                MOV     R7,A
0067 C3                CLR     C
0068 900000      R     MOV     DPTR,#i+01H
006B E0                MOVX    A,@DPTR
006C 9F                SUBB    A,R7
006D 7480              MOV     A,#080H
006F F8                MOV     R0,A
0070 900000      R     MOV     DPTR,#i
0073 E0                MOVX    A,@DPTR
0074 6480              XRL     A,#080H
0076 98                SUBB    A,R0
0077 4003              JC      $ + 5H
0079 020000      R     LJMP    ?C0111
                                           ; SOURCE LINE # 544
007C 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
007F 74FF              MOV     A,#0FFH
0081 F0                MOVX    @DPTR,A
0082 A3                INC     DPTR
0083 7400        R     MOV     A,#HIGH ?SC_370
0085 F0                MOVX    @DPTR,A
0086 A3                INC     DPTR
0087 7400        R     MOV     A,#LOW ?SC_370
0089 F0                MOVX    @DPTR,A
008A 900000      R     MOV     DPTR,#i
008D E0                MOVX    A,@DPTR
008E FE                MOV     R6,A
008F A3                INC     DPTR
0090 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 78  

0091 FF                MOV     R7,A
0092 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0095 EE                MOV     A,R6
0096 F0                MOVX    @DPTR,A
0097 A3                INC     DPTR
0098 EF                MOV     A,R7
0099 F0                MOVX    @DPTR,A
009A 2400        E     ADD     A,#LOW IMU_connected
009C F582              MOV     DPL,A
009E 7400        E     MOV     A,#HIGH IMU_connected
00A0 3E                ADDC    A,R6
00A1 F583              MOV     DPH,A
00A3 E0                MOVX    A,@DPTR
00A4 FF                MOV     R7,A
00A5 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
00A8 E4                CLR     A
00A9 F0                MOVX    @DPTR,A
00AA A3                INC     DPTR
00AB EF                MOV     A,R7
00AC F0                MOVX    @DPTR,A
00AD 7B01              MOV     R3,#01H
00AF 7A00        R     MOV     R2,#HIGH str
00B1 7900        R     MOV     R1,#LOW str
00B3 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 545
00B6 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
00B9 7401              MOV     A,#01H
00BB F0                MOVX    @DPTR,A
00BC A3                INC     DPTR
00BD 7400        R     MOV     A,#HIGH str
00BF F0                MOVX    @DPTR,A
00C0 A3                INC     DPTR
00C1 7400        R     MOV     A,#LOW str
00C3 F0                MOVX    @DPTR,A
00C4 900000      R     MOV     DPTR,#info_string
00C7 E0                MOVX    A,@DPTR
00C8 FB                MOV     R3,A
00C9 A3                INC     DPTR
00CA E0                MOVX    A,@DPTR
00CB FA                MOV     R2,A
00CC A3                INC     DPTR
00CD E0                MOVX    A,@DPTR
00CE F9                MOV     R1,A
00CF 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 547
00D2 900000      R     MOV     DPTR,#i
00D5 E0                MOVX    A,@DPTR
00D6 FE                MOV     R6,A
00D7 A3                INC     DPTR
00D8 E0                MOVX    A,@DPTR
00D9 FF                MOV     R7,A
00DA 2400        E     ADD     A,#LOW IMU_connected
00DC F582              MOV     DPL,A
00DE 7400        E     MOV     A,#HIGH IMU_connected
00E0 3E                ADDC    A,R6
00E1 F583              MOV     DPH,A
00E3 E0                MOVX    A,@DPTR
00E4 75F005            MOV     B,#05H
00E7 A4                MUL     AB
00E8 2400        E     ADD     A,#LOW c_mem+04H
00EA F582              MOV     DPL,A
00EC E4                CLR     A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 79  

00ED 3400        E     ADDC    A,#HIGH c_mem+04H
00EF F583              MOV     DPH,A
00F1 E0                MOVX    A,@DPTR
00F2 7003              JNZ     $ + 5H
00F4 020000      R     LJMP    ?C0106
                                           ; SOURCE LINE # 548
00F7 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
00FA 74FF              MOV     A,#0FFH
00FC F0                MOVX    @DPTR,A
00FD A3                INC     DPTR
00FE 7400        R     MOV     A,#HIGH ?SC_545
0100 F0                MOVX    @DPTR,A
0101 A3                INC     DPTR
0102 7400        R     MOV     A,#LOW ?SC_545
0104 F0                MOVX    @DPTR,A
0105 900000      E     MOV     DPTR,#g_imu+01H
0108 75F025            MOV     B,#025H
010B EF                MOV     A,R7
010C 120000      E     LCALL   ?C?OFFXADD
010F EE                MOV     A,R6
0110 75F025            MOV     B,#025H
0113 A4                MUL     AB
0114 2583              ADD     A,DPH
0116 F583              MOV     DPH,A
0118 E0                MOVX    A,@DPTR
0119 FD                MOV     R5,A
011A A3                INC     DPTR
011B E0                MOVX    A,@DPTR
011C 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
011F CD                XCH     A,R5
0120 F0                MOVX    @DPTR,A
0121 A3                INC     DPTR
0122 ED                MOV     A,R5
0123 F0                MOVX    @DPTR,A
0124 900000      E     MOV     DPTR,#g_imu+03H
0127 75F025            MOV     B,#025H
012A EF                MOV     A,R7
012B 120000      E     LCALL   ?C?OFFXADD
012E EE                MOV     A,R6
012F 75F025            MOV     B,#025H
0132 A4                MUL     AB
0133 2583              ADD     A,DPH
0135 F583              MOV     DPH,A
0137 E0                MOVX    A,@DPTR
0138 FF                MOV     R7,A
0139 A3                INC     DPTR
013A E0                MOVX    A,@DPTR
013B 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
013E CF                XCH     A,R7
013F F0                MOVX    @DPTR,A
0140 A3                INC     DPTR
0141 EF                MOV     A,R7
0142 F0                MOVX    @DPTR,A
0143 900000      R     MOV     DPTR,#i
0146 E0                MOVX    A,@DPTR
0147 A3                INC     DPTR
0148 E0                MOVX    A,@DPTR
0149 900000      E     MOV     DPTR,#g_imu+05H
014C 75F025            MOV     B,#025H
014F 120000      E     LCALL   ?C?OFFXADD
0152 EE                MOV     A,R6
0153 75F025            MOV     B,#025H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 80  

0156 A4                MUL     AB
0157 2583              ADD     A,DPH
0159 F583              MOV     DPH,A
015B E0                MOVX    A,@DPTR
015C FF                MOV     R7,A
015D A3                INC     DPTR
015E E0                MOVX    A,@DPTR
015F 900000      E     MOV     DPTR,#?_sprintf?BYTE+0AH
0162 CF                XCH     A,R7
0163 F0                MOVX    @DPTR,A
0164 A3                INC     DPTR
0165 EF                MOV     A,R7
0166 F0                MOVX    @DPTR,A
0167 7B01              MOV     R3,#01H
0169 7A00        R     MOV     R2,#HIGH str
016B 7900        R     MOV     R1,#LOW str
016D 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 549
0170 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0173 7401              MOV     A,#01H
0175 F0                MOVX    @DPTR,A
0176 A3                INC     DPTR
0177 7400        R     MOV     A,#HIGH str
0179 F0                MOVX    @DPTR,A
017A A3                INC     DPTR
017B 7400        R     MOV     A,#LOW str
017D F0                MOVX    @DPTR,A
017E 900000      R     MOV     DPTR,#info_string
0181 E0                MOVX    A,@DPTR
0182 FB                MOV     R3,A
0183 A3                INC     DPTR
0184 E0                MOVX    A,@DPTR
0185 FA                MOV     R2,A
0186 A3                INC     DPTR
0187 E0                MOVX    A,@DPTR
0188 F9                MOV     R1,A
0189 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 550
018C         ?C0106:
                                           ; SOURCE LINE # 552
018C 900000      R     MOV     DPTR,#i
018F E0                MOVX    A,@DPTR
0190 FE                MOV     R6,A
0191 A3                INC     DPTR
0192 E0                MOVX    A,@DPTR
0193 FF                MOV     R7,A
0194 2400        E     ADD     A,#LOW IMU_connected
0196 F582              MOV     DPL,A
0198 7400        E     MOV     A,#HIGH IMU_connected
019A 3E                ADDC    A,R6
019B F583              MOV     DPH,A
019D E0                MOVX    A,@DPTR
019E 75F005            MOV     B,#05H
01A1 A4                MUL     AB
01A2 2400        E     ADD     A,#LOW c_mem+05H
01A4 F582              MOV     DPL,A
01A6 E4                CLR     A
01A7 3400        E     ADDC    A,#HIGH c_mem+05H
01A9 F583              MOV     DPH,A
01AB E0                MOVX    A,@DPTR
01AC 7003              JNZ     $ + 5H
01AE 020000      R     LJMP    ?C0107
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 81  

                                           ; SOURCE LINE # 553
01B1 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
01B4 74FF              MOV     A,#0FFH
01B6 F0                MOVX    @DPTR,A
01B7 A3                INC     DPTR
01B8 7400        R     MOV     A,#HIGH ?SC_562
01BA F0                MOVX    @DPTR,A
01BB A3                INC     DPTR
01BC 7400        R     MOV     A,#LOW ?SC_562
01BE F0                MOVX    @DPTR,A
01BF 900000      E     MOV     DPTR,#g_imu+07H
01C2 75F025            MOV     B,#025H
01C5 EF                MOV     A,R7
01C6 120000      E     LCALL   ?C?OFFXADD
01C9 EE                MOV     A,R6
01CA 75F025            MOV     B,#025H
01CD A4                MUL     AB
01CE 2583              ADD     A,DPH
01D0 F583              MOV     DPH,A
01D2 E0                MOVX    A,@DPTR
01D3 FD                MOV     R5,A
01D4 A3                INC     DPTR
01D5 E0                MOVX    A,@DPTR
01D6 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
01D9 CD                XCH     A,R5
01DA F0                MOVX    @DPTR,A
01DB A3                INC     DPTR
01DC ED                MOV     A,R5
01DD F0                MOVX    @DPTR,A
01DE 900000      E     MOV     DPTR,#g_imu+09H
01E1 75F025            MOV     B,#025H
01E4 EF                MOV     A,R7
01E5 120000      E     LCALL   ?C?OFFXADD
01E8 EE                MOV     A,R6
01E9 75F025            MOV     B,#025H
01EC A4                MUL     AB
01ED 2583              ADD     A,DPH
01EF F583              MOV     DPH,A
01F1 E0                MOVX    A,@DPTR
01F2 FF                MOV     R7,A
01F3 A3                INC     DPTR
01F4 E0                MOVX    A,@DPTR
01F5 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
01F8 CF                XCH     A,R7
01F9 F0                MOVX    @DPTR,A
01FA A3                INC     DPTR
01FB EF                MOV     A,R7
01FC F0                MOVX    @DPTR,A
01FD 900000      R     MOV     DPTR,#i
0200 E0                MOVX    A,@DPTR
0201 A3                INC     DPTR
0202 E0                MOVX    A,@DPTR
0203 900000      E     MOV     DPTR,#g_imu+0BH
0206 75F025            MOV     B,#025H
0209 120000      E     LCALL   ?C?OFFXADD
020C EE                MOV     A,R6
020D 75F025            MOV     B,#025H
0210 A4                MUL     AB
0211 2583              ADD     A,DPH
0213 F583              MOV     DPH,A
0215 E0                MOVX    A,@DPTR
0216 FF                MOV     R7,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 82  

0217 A3                INC     DPTR
0218 E0                MOVX    A,@DPTR
0219 900000      E     MOV     DPTR,#?_sprintf?BYTE+0AH
021C CF                XCH     A,R7
021D F0                MOVX    @DPTR,A
021E A3                INC     DPTR
021F EF                MOV     A,R7
0220 F0                MOVX    @DPTR,A
0221 7B01              MOV     R3,#01H
0223 7A00        R     MOV     R2,#HIGH str
0225 7900        R     MOV     R1,#LOW str
0227 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 554
022A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
022D 7401              MOV     A,#01H
022F F0                MOVX    @DPTR,A
0230 A3                INC     DPTR
0231 7400        R     MOV     A,#HIGH str
0233 F0                MOVX    @DPTR,A
0234 A3                INC     DPTR
0235 7400        R     MOV     A,#LOW str
0237 F0                MOVX    @DPTR,A
0238 900000      R     MOV     DPTR,#info_string
023B E0                MOVX    A,@DPTR
023C FB                MOV     R3,A
023D A3                INC     DPTR
023E E0                MOVX    A,@DPTR
023F FA                MOV     R2,A
0240 A3                INC     DPTR
0241 E0                MOVX    A,@DPTR
0242 F9                MOV     R1,A
0243 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 555
0246         ?C0107:
                                           ; SOURCE LINE # 557
0246 900000      R     MOV     DPTR,#i
0249 E0                MOVX    A,@DPTR
024A FE                MOV     R6,A
024B A3                INC     DPTR
024C E0                MOVX    A,@DPTR
024D FF                MOV     R7,A
024E 2400        E     ADD     A,#LOW IMU_connected
0250 F582              MOV     DPL,A
0252 7400        E     MOV     A,#HIGH IMU_connected
0254 3E                ADDC    A,R6
0255 F583              MOV     DPH,A
0257 E0                MOVX    A,@DPTR
0258 75F005            MOV     B,#05H
025B A4                MUL     AB
025C 2400        E     ADD     A,#LOW c_mem+06H
025E F582              MOV     DPL,A
0260 E4                CLR     A
0261 3400        E     ADDC    A,#HIGH c_mem+06H
0263 F583              MOV     DPH,A
0265 E0                MOVX    A,@DPTR
0266 7003              JNZ     $ + 5H
0268 020000      R     LJMP    ?C0108
                                           ; SOURCE LINE # 558
026B 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
026E 74FF              MOV     A,#0FFH
0270 F0                MOVX    @DPTR,A
0271 A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 83  

0272 7400        R     MOV     A,#HIGH ?SC_580
0274 F0                MOVX    @DPTR,A
0275 A3                INC     DPTR
0276 7400        R     MOV     A,#LOW ?SC_580
0278 F0                MOVX    @DPTR,A
0279 900000      E     MOV     DPTR,#g_imu+0DH
027C 75F025            MOV     B,#025H
027F EF                MOV     A,R7
0280 120000      E     LCALL   ?C?OFFXADD
0283 EE                MOV     A,R6
0284 75F025            MOV     B,#025H
0287 A4                MUL     AB
0288 2583              ADD     A,DPH
028A F583              MOV     DPH,A
028C E0                MOVX    A,@DPTR
028D FD                MOV     R5,A
028E A3                INC     DPTR
028F E0                MOVX    A,@DPTR
0290 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0293 CD                XCH     A,R5
0294 F0                MOVX    @DPTR,A
0295 A3                INC     DPTR
0296 ED                MOV     A,R5
0297 F0                MOVX    @DPTR,A
0298 900000      E     MOV     DPTR,#g_imu+0FH
029B 75F025            MOV     B,#025H
029E EF                MOV     A,R7
029F 120000      E     LCALL   ?C?OFFXADD
02A2 EE                MOV     A,R6
02A3 75F025            MOV     B,#025H
02A6 A4                MUL     AB
02A7 2583              ADD     A,DPH
02A9 F583              MOV     DPH,A
02AB E0                MOVX    A,@DPTR
02AC FF                MOV     R7,A
02AD A3                INC     DPTR
02AE E0                MOVX    A,@DPTR
02AF 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
02B2 CF                XCH     A,R7
02B3 F0                MOVX    @DPTR,A
02B4 A3                INC     DPTR
02B5 EF                MOV     A,R7
02B6 F0                MOVX    @DPTR,A
02B7 900000      R     MOV     DPTR,#i
02BA E0                MOVX    A,@DPTR
02BB A3                INC     DPTR
02BC E0                MOVX    A,@DPTR
02BD 900000      E     MOV     DPTR,#g_imu+011H
02C0 75F025            MOV     B,#025H
02C3 120000      E     LCALL   ?C?OFFXADD
02C6 EE                MOV     A,R6
02C7 75F025            MOV     B,#025H
02CA A4                MUL     AB
02CB 2583              ADD     A,DPH
02CD F583              MOV     DPH,A
02CF E0                MOVX    A,@DPTR
02D0 FF                MOV     R7,A
02D1 A3                INC     DPTR
02D2 E0                MOVX    A,@DPTR
02D3 900000      E     MOV     DPTR,#?_sprintf?BYTE+0AH
02D6 CF                XCH     A,R7
02D7 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 84  

02D8 A3                INC     DPTR
02D9 EF                MOV     A,R7
02DA F0                MOVX    @DPTR,A
02DB 7B01              MOV     R3,#01H
02DD 7A00        R     MOV     R2,#HIGH str
02DF 7900        R     MOV     R1,#LOW str
02E1 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 559
02E4 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
02E7 7401              MOV     A,#01H
02E9 F0                MOVX    @DPTR,A
02EA A3                INC     DPTR
02EB 7400        R     MOV     A,#HIGH str
02ED F0                MOVX    @DPTR,A
02EE A3                INC     DPTR
02EF 7400        R     MOV     A,#LOW str
02F1 F0                MOVX    @DPTR,A
02F2 900000      R     MOV     DPTR,#info_string
02F5 E0                MOVX    A,@DPTR
02F6 FB                MOV     R3,A
02F7 A3                INC     DPTR
02F8 E0                MOVX    A,@DPTR
02F9 FA                MOV     R2,A
02FA A3                INC     DPTR
02FB E0                MOVX    A,@DPTR
02FC F9                MOV     R1,A
02FD 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 560
0300         ?C0108:
                                           ; SOURCE LINE # 562
0300 900000      R     MOV     DPTR,#i
0303 E0                MOVX    A,@DPTR
0304 FE                MOV     R6,A
0305 A3                INC     DPTR
0306 E0                MOVX    A,@DPTR
0307 2400        E     ADD     A,#LOW IMU_connected
0309 F582              MOV     DPL,A
030B 7400        E     MOV     A,#HIGH IMU_connected
030D 3E                ADDC    A,R6
030E F583              MOV     DPH,A
0310 E0                MOVX    A,@DPTR
0311 75F005            MOV     B,#05H
0314 A4                MUL     AB
0315 2400        E     ADD     A,#LOW c_mem+07H
0317 F582              MOV     DPL,A
0319 E4                CLR     A
031A 3400        E     ADDC    A,#HIGH c_mem+07H
031C F583              MOV     DPH,A
031E E0                MOVX    A,@DPTR
031F 7003              JNZ     $ + 5H
0321 020000      R     LJMP    ?C0109
                                           ; SOURCE LINE # 563
0324 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0327 74FF              MOV     A,#0FFH
0329 F0                MOVX    @DPTR,A
032A A3                INC     DPTR
032B 7400        R     MOV     A,#HIGH ?SC_597
032D F0                MOVX    @DPTR,A
032E A3                INC     DPTR
032F 7400        R     MOV     A,#LOW ?SC_597
0331 F0                MOVX    @DPTR,A
0332 900000      R     MOV     DPTR,#i
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 85  

0335 E0                MOVX    A,@DPTR
0336 FA                MOV     R2,A
0337 A3                INC     DPTR
0338 E0                MOVX    A,@DPTR
0339 FB                MOV     R3,A
033A 900000      E     MOV     DPTR,#g_imu+013H
033D 75F025            MOV     B,#025H
0340 120000      E     LCALL   ?C?OFFXADD
0343 EA                MOV     A,R2
0344 75F025            MOV     B,#025H
0347 A4                MUL     AB
0348 2583              ADD     A,DPH
034A F583              MOV     DPH,A
034C E0                MOVX    A,@DPTR
034D FC                MOV     R4,A
034E A3                INC     DPTR
034F E0                MOVX    A,@DPTR
0350 FD                MOV     R5,A
0351 A3                INC     DPTR
0352 E0                MOVX    A,@DPTR
0353 FE                MOV     R6,A
0354 A3                INC     DPTR
0355 E0                MOVX    A,@DPTR
0356 FF                MOV     R7,A
0357 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
035A 120000      E     LCALL   ?C?LSTXDATA
035D 900000      E     MOV     DPTR,#g_imu+017H
0360 75F025            MOV     B,#025H
0363 EB                MOV     A,R3
0364 120000      E     LCALL   ?C?OFFXADD
0367 EA                MOV     A,R2
0368 75F025            MOV     B,#025H
036B A4                MUL     AB
036C 2583              ADD     A,DPH
036E F583              MOV     DPH,A
0370 E0                MOVX    A,@DPTR
0371 FC                MOV     R4,A
0372 A3                INC     DPTR
0373 E0                MOVX    A,@DPTR
0374 FD                MOV     R5,A
0375 A3                INC     DPTR
0376 E0                MOVX    A,@DPTR
0377 FE                MOV     R6,A
0378 A3                INC     DPTR
0379 E0                MOVX    A,@DPTR
037A FF                MOV     R7,A
037B 900000      E     MOV     DPTR,#?_sprintf?BYTE+0AH
037E 120000      E     LCALL   ?C?LSTXDATA
0381 900000      R     MOV     DPTR,#i
0384 E0                MOVX    A,@DPTR
0385 FA                MOV     R2,A
0386 A3                INC     DPTR
0387 E0                MOVX    A,@DPTR
0388 FB                MOV     R3,A
0389 900000      E     MOV     DPTR,#g_imu+01BH
038C 75F025            MOV     B,#025H
038F 120000      E     LCALL   ?C?OFFXADD
0392 EA                MOV     A,R2
0393 75F025            MOV     B,#025H
0396 A4                MUL     AB
0397 2583              ADD     A,DPH
0399 F583              MOV     DPH,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 86  

039B E0                MOVX    A,@DPTR
039C FC                MOV     R4,A
039D A3                INC     DPTR
039E E0                MOVX    A,@DPTR
039F FD                MOV     R5,A
03A0 A3                INC     DPTR
03A1 E0                MOVX    A,@DPTR
03A2 FE                MOV     R6,A
03A3 A3                INC     DPTR
03A4 E0                MOVX    A,@DPTR
03A5 FF                MOV     R7,A
03A6 900000      E     MOV     DPTR,#?_sprintf?BYTE+0EH
03A9 120000      E     LCALL   ?C?LSTXDATA
03AC 900000      E     MOV     DPTR,#g_imu+01FH
03AF 75F025            MOV     B,#025H
03B2 EB                MOV     A,R3
03B3 120000      E     LCALL   ?C?OFFXADD
03B6 EA                MOV     A,R2
03B7 75F025            MOV     B,#025H
03BA A4                MUL     AB
03BB 2583              ADD     A,DPH
03BD F583              MOV     DPH,A
03BF E0                MOVX    A,@DPTR
03C0 FC                MOV     R4,A
03C1 A3                INC     DPTR
03C2 E0                MOVX    A,@DPTR
03C3 FD                MOV     R5,A
03C4 A3                INC     DPTR
03C5 E0                MOVX    A,@DPTR
03C6 FE                MOV     R6,A
03C7 A3                INC     DPTR
03C8 E0                MOVX    A,@DPTR
03C9 FF                MOV     R7,A
03CA 900000      E     MOV     DPTR,#?_sprintf?BYTE+012H
03CD 120000      E     LCALL   ?C?LSTXDATA
03D0 7B01              MOV     R3,#01H
03D2 7A00        R     MOV     R2,#HIGH str
03D4 7900        R     MOV     R1,#LOW str
03D6 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 564
03D9 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
03DC 7401              MOV     A,#01H
03DE F0                MOVX    @DPTR,A
03DF A3                INC     DPTR
03E0 7400        R     MOV     A,#HIGH str
03E2 F0                MOVX    @DPTR,A
03E3 A3                INC     DPTR
03E4 7400        R     MOV     A,#LOW str
03E6 F0                MOVX    @DPTR,A
03E7 900000      R     MOV     DPTR,#info_string
03EA E0                MOVX    A,@DPTR
03EB FB                MOV     R3,A
03EC A3                INC     DPTR
03ED E0                MOVX    A,@DPTR
03EE FA                MOV     R2,A
03EF A3                INC     DPTR
03F0 E0                MOVX    A,@DPTR
03F1 F9                MOV     R1,A
03F2 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 565
03F5         ?C0109:
                                           ; SOURCE LINE # 567
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 87  

03F5 900000      R     MOV     DPTR,#i
03F8 E0                MOVX    A,@DPTR
03F9 FE                MOV     R6,A
03FA A3                INC     DPTR
03FB E0                MOVX    A,@DPTR
03FC FF                MOV     R7,A
03FD 2400        E     ADD     A,#LOW IMU_connected
03FF F582              MOV     DPL,A
0401 7400        E     MOV     A,#HIGH IMU_connected
0403 3E                ADDC    A,R6
0404 F583              MOV     DPH,A
0406 E0                MOVX    A,@DPTR
0407 75F005            MOV     B,#05H
040A A4                MUL     AB
040B 2400        E     ADD     A,#LOW c_mem+08H
040D F582              MOV     DPL,A
040F E4                CLR     A
0410 3400        E     ADDC    A,#HIGH c_mem+08H
0412 F583              MOV     DPH,A
0414 E0                MOVX    A,@DPTR
0415 6052              JZ      ?C0105
                                           ; SOURCE LINE # 568
0417 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
041A 74FF              MOV     A,#0FFH
041C F0                MOVX    @DPTR,A
041D A3                INC     DPTR
041E 7400        R     MOV     A,#HIGH ?SC_626
0420 F0                MOVX    @DPTR,A
0421 A3                INC     DPTR
0422 7400        R     MOV     A,#LOW ?SC_626
0424 F0                MOVX    @DPTR,A
0425 900000      E     MOV     DPTR,#g_imu+023H
0428 75F025            MOV     B,#025H
042B EF                MOV     A,R7
042C 120000      E     LCALL   ?C?OFFXADD
042F EE                MOV     A,R6
0430 75F025            MOV     B,#025H
0433 A4                MUL     AB
0434 2583              ADD     A,DPH
0436 F583              MOV     DPH,A
0438 E0                MOVX    A,@DPTR
0439 FF                MOV     R7,A
043A A3                INC     DPTR
043B E0                MOVX    A,@DPTR
043C 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
043F CF                XCH     A,R7
0440 F0                MOVX    @DPTR,A
0441 A3                INC     DPTR
0442 EF                MOV     A,R7
0443 F0                MOVX    @DPTR,A
0444 7B01              MOV     R3,#01H
0446 7A00        R     MOV     R2,#HIGH str
0448 7900        R     MOV     R1,#LOW str
044A 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 569
044D 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0450 7401              MOV     A,#01H
0452 F0                MOVX    @DPTR,A
0453 A3                INC     DPTR
0454 7400        R     MOV     A,#HIGH str
0456 F0                MOVX    @DPTR,A
0457 A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 88  

0458 7400        R     MOV     A,#LOW str
045A F0                MOVX    @DPTR,A
045B 900000      R     MOV     DPTR,#info_string
045E E0                MOVX    A,@DPTR
045F FB                MOV     R3,A
0460 A3                INC     DPTR
0461 E0                MOVX    A,@DPTR
0462 FA                MOV     R2,A
0463 A3                INC     DPTR
0464 E0                MOVX    A,@DPTR
0465 F9                MOV     R1,A
0466 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 570
                                           ; SOURCE LINE # 571
0469         ?C0105:
0469 900000      R     MOV     DPTR,#i+01H
046C E0                MOVX    A,@DPTR
046D 04                INC     A
046E F0                MOVX    @DPTR,A
046F 7006              JNZ     ?C0188
0471 900000      R     MOV     DPTR,#i
0474 E0                MOVX    A,@DPTR
0475 04                INC     A
0476 F0                MOVX    @DPTR,A
0477         ?C0188:
0477 020000      R     LJMP    ?C0103
                                           ; SOURCE LINE # 572
047A         ?C0111:
047A 22                RET     
             ; FUNCTION _infoReading (END)

             ; FUNCTION _commWrite (BEGIN)
                                           ; SOURCE LINE # 577
0000 900000      R     MOV     DPTR,#packet_data
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C EC                MOV     A,R4
000D F0                MOVX    @DPTR,A
000E A3                INC     DPTR
000F ED                MOV     A,R5
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 578
                                           ; SOURCE LINE # 582
0011 7F3A              MOV     R7,#03AH
0013 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 583
0016 7F3A              MOV     R7,#03AH
0018 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 586
001B 900000      E     MOV     DPTR,#g_mem+01H
001E E0                MOVX    A,@DPTR
001F FF                MOV     R7,A
0020 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 589
0023 900000      R     MOV     DPTR,#packet_lenght
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 89  

0026 E0                MOVX    A,@DPTR
0027 A3                INC     DPTR
0028 E0                MOVX    A,@DPTR
0029 FF                MOV     R7,A
002A 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 592
002D E4                CLR     A
002E F500        R     MOV     index,A
0030 F500        R     MOV     index+01H,A
0032         ?C0112:
0032 D3                SETB    C
0033 900000      R     MOV     DPTR,#packet_lenght+01H
0036 E0                MOVX    A,@DPTR
0037 9500        R     SUBB    A,index+01H
0039 900000      R     MOV     DPTR,#packet_lenght
003C E0                MOVX    A,@DPTR
003D 9500        R     SUBB    A,index
003F 4022              JC      ?C0113
                                           ; SOURCE LINE # 593
0041 900000      R     MOV     DPTR,#packet_data
0044 E0                MOVX    A,@DPTR
0045 FB                MOV     R3,A
0046 A3                INC     DPTR
0047 E0                MOVX    A,@DPTR
0048 FA                MOV     R2,A
0049 A3                INC     DPTR
004A E0                MOVX    A,@DPTR
004B 2500        R     ADD     A,index+01H
004D F9                MOV     R1,A
004E EA                MOV     A,R2
004F 3500        R     ADDC    A,index
0051 FA                MOV     R2,A
0052 120000      E     LCALL   ?C?CLDPTR
0055 FF                MOV     R7,A
0056 120000      E     LCALL   _UART_RS485_PutChar
0059 0500        R     INC     index+01H
005B E500        R     MOV     A,index+01H
005D 7002              JNZ     ?C0189
005F 0500        R     INC     index
0061         ?C0189:
0061 80CF              SJMP    ?C0112
0063         ?C0113:
                                           ; SOURCE LINE # 595
0063 E4                CLR     A
0064 F500        R     MOV     index,A
0066 F500        R     MOV     index+01H,A
0068         ?C0115:
                                           ; SOURCE LINE # 597
0068 120000      E     LCALL   UART_RS485_ReadTxStatus
006B EF                MOV     A,R7
006C 20E013            JB      ACC.0,?C0116
006F 0500        R     INC     index+01H
0071 E500        R     MOV     A,index+01H
0073 AE00        R     MOV     R6,index
0075 7002              JNZ     ?C0190
0077 0500        R     INC     index
0079         ?C0190:
0079 14                DEC     A
007A D3                SETB    C
007B 94E8              SUBB    A,#0E8H
007D EE                MOV     A,R6
007E 9403              SUBB    A,#03H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 90  

0080 40E6              JC      ?C0115
0082         ?C0116:
                                           ; SOURCE LINE # 599
0082 7F01              MOV     R7,#01H
0084 120000      E     LCALL   _RS485_CTS_Write
                                           ; SOURCE LINE # 600
0087 E4                CLR     A
0088 FF                MOV     R7,A
0089 120000      E     LCALL   _RS485_CTS_Write
                                           ; SOURCE LINE # 601
008C 22                RET     
             ; FUNCTION _commWrite (END)

             ; FUNCTION _LCRChecksum (BEGIN)
                                           ; SOURCE LINE # 610
0000 900000      R     MOV     DPTR,#data_array
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
;---- Variable 'data_length' assigned to Register 'R5' ----
                                           ; SOURCE LINE # 613
000B E4                CLR     A
000C F500        R     MOV     checksum,A
                                           ; SOURCE LINE # 615
000E F500        R     MOV     i,A
0010         ?C0118:
0010 E500        R     MOV     A,i
0012 C3                CLR     C
0013 9D                SUBB    A,R5
0014 5019              JNC     ?C0119
                                           ; SOURCE LINE # 616
0016 900000      R     MOV     DPTR,#data_array
0019 E0                MOVX    A,@DPTR
001A FB                MOV     R3,A
001B A3                INC     DPTR
001C E0                MOVX    A,@DPTR
001D FA                MOV     R2,A
001E A3                INC     DPTR
001F E0                MOVX    A,@DPTR
0020 2500        R     ADD     A,i
0022 F9                MOV     R1,A
0023 E4                CLR     A
0024 3A                ADDC    A,R2
0025 FA                MOV     R2,A
0026 120000      E     LCALL   ?C?CLDPTR
0029 6200        R     XRL     checksum,A
002B 0500        R     INC     i
002D 80E1              SJMP    ?C0118
002F         ?C0119:
                                           ; SOURCE LINE # 618
002F AF00        R     MOV     R7,checksum
                                           ; SOURCE LINE # 619
0031         ?C0121:
0031 22                RET     
             ; FUNCTION _LCRChecksum (END)

             ; FUNCTION _sendAcknowledgment (BEGIN)
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 91  

                                           ; SOURCE LINE # 625
;---- Variable 'value' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 626
;---- Variable 'packet_lenght' assigned to Register 'R4/R5' ----
0000 7D02              MOV     R5,#02H
0002 7C00              MOV     R4,#00H
                                           ; SOURCE LINE # 629
0004 900000      R     MOV     DPTR,#packet_data
0007 EF                MOV     A,R7
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 630
0009 A3                INC     DPTR
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 632
000B 7B01              MOV     R3,#01H
000D 7A00        R     MOV     R2,#HIGH packet_data
000F 7900        R     MOV     R1,#LOW packet_data
0011 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 633
0014 22                RET     
             ; FUNCTION _sendAcknowledgment (END)

             ; FUNCTION _memStore (BEGIN)
                                           ; SOURCE LINE # 644
0000 900000      R     MOV     DPTR,#displacement
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 645
                                           ; SOURCE LINE # 649
0008 900000      R     MOV     DPTR,#ret_val
000B 7401              MOV     A,#01H
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 652
000E 120000      E     LCALL   ISR_RS485_RX_Disable
                                           ; SOURCE LINE # 656
0011 120000      E     LCALL   CySetTemp
                                           ; SOURCE LINE # 658
0014 7800        E     MOV     R0,#LOW c_mem
0016 7C00        E     MOV     R4,#HIGH c_mem
0018 7D01              MOV     R5,#01H
001A 7B01              MOV     R3,#01H
001C 7A00        E     MOV     R2,#HIGH g_mem
001E 7900        E     MOV     R1,#LOW g_mem
0020 7E00              MOV     R6,#00H
0022 7F59              MOV     R7,#059H
0024 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 660
0027 900000      R     MOV     DPTR,#pages
002A E4                CLR     A
002B F0                MOVX    @DPTR,A
002C A3                INC     DPTR
002D 7406              MOV     A,#06H
002F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 662
0030 E4                CLR     A
0031 900000      R     MOV     DPTR,#i
0034 F0                MOVX    @DPTR,A
0035 A3                INC     DPTR
0036 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 92  

0037         ?C0123:
0037 900000      R     MOV     DPTR,#pages
003A E0                MOVX    A,@DPTR
003B FE                MOV     R6,A
003C A3                INC     DPTR
003D E0                MOVX    A,@DPTR
003E FF                MOV     R7,A
003F 900000      R     MOV     DPTR,#i
0042 E0                MOVX    A,@DPTR
0043 FC                MOV     R4,A
0044 A3                INC     DPTR
0045 E0                MOVX    A,@DPTR
0046 FD                MOV     R5,A
0047 C3                CLR     C
0048 9F                SUBB    A,R7
0049 EE                MOV     A,R6
004A 6480              XRL     A,#080H
004C F8                MOV     R0,A
004D EC                MOV     A,R4
004E 6480              XRL     A,#080H
0050 98                SUBB    A,R0
0051 503F              JNC     ?C0124
                                           ; SOURCE LINE # 663
0053 ED                MOV     A,R5
0054 C4                SWAP    A
0055 F8                MOV     R0,A
0056 540F              ANL     A,#0FH
0058 C8                XCH     A,R0
0059 68                XRL     A,R0
005A FF                MOV     R7,A
005B EC                MOV     A,R4
005C C4                SWAP    A
005D 54F0              ANL     A,#0F0H
005F 48                ORL     A,R0
0060 FE                MOV     R6,A
0061 7B01              MOV     R3,#01H
0063 7400        E     MOV     A,#LOW g_mem
0065 2F                ADD     A,R7
0066 F9                MOV     R1,A
0067 7400        E     MOV     A,#HIGH g_mem
0069 3E                ADDC    A,R6
006A FA                MOV     R2,A
006B 900000      R     MOV     DPTR,#displacement
006E E0                MOVX    A,@DPTR
006F A3                INC     DPTR
0070 E0                MOVX    A,@DPTR
0071 FF                MOV     R7,A
0072 ED                MOV     A,R5
0073 2F                ADD     A,R7
0074 FD                MOV     R5,A
0075 120000      E     LCALL   _EEPROM_Write
;---- Variable 'writeStatus' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 664
0078 EF                MOV     A,R7
0079 6007              JZ      ?C0125
                                           ; SOURCE LINE # 665
007B E4                CLR     A
007C 900000      R     MOV     DPTR,#ret_val
007F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 666
0080 8010              SJMP    ?C0124
                                           ; SOURCE LINE # 667
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 93  

                                           ; SOURCE LINE # 668
0082         ?C0125:
0082 900000      R     MOV     DPTR,#i+01H
0085 E0                MOVX    A,@DPTR
0086 04                INC     A
0087 F0                MOVX    @DPTR,A
0088 7006              JNZ     ?C0191
008A 900000      R     MOV     DPTR,#i
008D E0                MOVX    A,@DPTR
008E 04                INC     A
008F F0                MOVX    @DPTR,A
0090         ?C0191:
0090 80A5              SJMP    ?C0123
0092         ?C0124:
                                           ; SOURCE LINE # 670
0092 7800        E     MOV     R0,#LOW g_mem
0094 7C00        E     MOV     R4,#HIGH g_mem
0096 7D01              MOV     R5,#01H
0098 7B01              MOV     R3,#01H
009A 7A00        E     MOV     R2,#HIGH c_mem
009C 7900        E     MOV     R1,#LOW c_mem
009E 7E00              MOV     R6,#00H
00A0 7F59              MOV     R7,#059H
00A2 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 673
00A5 120000      E     LCALL   ISR_RS485_RX_Enable
                                           ; SOURCE LINE # 675
00A8 900000      R     MOV     DPTR,#ret_val
00AB E0                MOVX    A,@DPTR
00AC FF                MOV     R7,A
                                           ; SOURCE LINE # 676
00AD         ?C0127:
00AD 22                RET     
             ; FUNCTION _memStore (END)

             ; FUNCTION memRecall (BEGIN)
                                           ; SOURCE LINE # 687
                                           ; SOURCE LINE # 688
                                           ; SOURCE LINE # 691
;---- Variable 'i' assigned to Register 'R6/R7' ----
0000 E4                CLR     A
0001 FF                MOV     R7,A
0002 FE                MOV     R6,A
0003         ?C0128:
0003 C3                CLR     C
0004 EF                MOV     A,R7
0005 9459              SUBB    A,#059H
0007 EE                MOV     A,R6
0008 9400              SUBB    A,#00H
000A 5023              JNC     ?C0129
                                           ; SOURCE LINE # 692
000C 900000      R     MOV     DPTR,#EEPROM_ADDR
000F E0                MOVX    A,@DPTR
0010 FC                MOV     R4,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 2F                ADD     A,R7
0014 F582              MOV     DPL,A
0016 EC                MOV     A,R4
0017 3E                ADDC    A,R6
0018 F583              MOV     DPH,A
001A E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 94  

001B FD                MOV     R5,A
001C 7400        E     MOV     A,#LOW g_mem
001E 2F                ADD     A,R7
001F F582              MOV     DPL,A
0021 7400        E     MOV     A,#HIGH g_mem
0023 3E                ADDC    A,R6
0024 F583              MOV     DPH,A
0026 ED                MOV     A,R5
0027 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 693
0028 0F                INC     R7
0029 EF                MOV     A,R7
002A 7001              JNZ     ?C0192
002C 0E                INC     R6
002D         ?C0192:
002D 80D4              SJMP    ?C0128
002F         ?C0129:
                                           ; SOURCE LINE # 696
002F 900000      E     MOV     DPTR,#g_mem
0032 E0                MOVX    A,@DPTR
0033 7004              JNZ     ?C0131
                                           ; SOURCE LINE # 697
0035 120000      R     LCALL   memRestore
                                           ; SOURCE LINE # 698
0038 22                RET     
0039         ?C0131:
                                           ; SOURCE LINE # 699
0039 7800        E     MOV     R0,#LOW c_mem
003B 7C00        E     MOV     R4,#HIGH c_mem
003D 7D01              MOV     R5,#01H
003F 7B01              MOV     R3,#01H
0041 7A00        E     MOV     R2,#HIGH g_mem
0043 7900        E     MOV     R1,#LOW g_mem
0045 7E00              MOV     R6,#00H
0047 7F59              MOV     R7,#059H
0049 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 700
                                           ; SOURCE LINE # 701
004C         ?C0133:
004C 22                RET     
             ; FUNCTION memRecall (END)

             ; FUNCTION memRestore (BEGIN)
                                           ; SOURCE LINE # 712
                                           ; SOURCE LINE # 715
;---- Variable 'i' assigned to Register 'R6/R7' ----
0000 E4                CLR     A
0001 FF                MOV     R7,A
0002 FE                MOV     R6,A
0003         ?C0134:
0003 C3                CLR     C
0004 EF                MOV     A,R7
0005 9459              SUBB    A,#059H
0007 EE                MOV     A,R6
0008 9400              SUBB    A,#00H
000A 502B              JNC     ?C0135
                                           ; SOURCE LINE # 716
000C EF                MOV     A,R7
000D 2420              ADD     A,#020H
000F FD                MOV     R5,A
0010 EE                MOV     A,R6
0011 3403              ADDC    A,#03H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 95  

0013 FC                MOV     R4,A
0014 900000      R     MOV     DPTR,#EEPROM_ADDR
0017 E0                MOVX    A,@DPTR
0018 FA                MOV     R2,A
0019 A3                INC     DPTR
001A E0                MOVX    A,@DPTR
001B 2D                ADD     A,R5
001C F582              MOV     DPL,A
001E EA                MOV     A,R2
001F 3C                ADDC    A,R4
0020 F583              MOV     DPH,A
0022 E0                MOVX    A,@DPTR
0023 FD                MOV     R5,A
0024 7400        E     MOV     A,#LOW g_mem
0026 2F                ADD     A,R7
0027 F582              MOV     DPL,A
0029 7400        E     MOV     A,#HIGH g_mem
002B 3E                ADDC    A,R6
002C F583              MOV     DPH,A
002E ED                MOV     A,R5
002F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 717
0030 0F                INC     R7
0031 EF                MOV     A,R7
0032 7001              JNZ     ?C0193
0034 0E                INC     R6
0035         ?C0193:
0035 80CC              SJMP    ?C0134
0037         ?C0135:
                                           ; SOURCE LINE # 720
0037 900000      E     MOV     DPTR,#g_mem
003A E0                MOVX    A,@DPTR
003B 7004              JNZ     ?C0137
                                           ; SOURCE LINE # 721
003D 120000      R     LCALL   memInit
0040 22                RET     
                                           ; SOURCE LINE # 722
0041         ?C0137:
                                           ; SOURCE LINE # 723
0041 E4                CLR     A
0042 FF                MOV     R7,A
0043 FE                MOV     R6,A
0044 120000      R     LCALL   _memStore
                                           ; SOURCE LINE # 724
                                           ; SOURCE LINE # 725
0047         ?C0138:
0047 22                RET     
             ; FUNCTION memRestore (END)

             ; FUNCTION memInit (BEGIN)
                                           ; SOURCE LINE # 735
                                           ; SOURCE LINE # 736
                                           ; SOURCE LINE # 741
0000 900000      E     MOV     DPTR,#g_mem+01H
0003 7401              MOV     A,#01H
0005 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 745
0006 900000      E     MOV     DPTR,#g_mem
0009 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 748
;---- Variable 'i' assigned to Register 'R7' ----
000A E4                CLR     A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 96  

000B FF                MOV     R7,A
000C         ?C0140:
000C EF                MOV     A,R7
000D C3                CLR     C
000E 9411              SUBB    A,#011H
0010 5055              JNC     ?C0141
                                           ; SOURCE LINE # 749
0012 EF                MOV     A,R7
0013 75F005            MOV     B,#05H
0016 A4                MUL     AB
0017 2400        E     ADD     A,#LOW g_mem+04H
0019 F582              MOV     DPL,A
001B E4                CLR     A
001C 3400        E     ADDC    A,#HIGH g_mem+04H
001E F583              MOV     DPH,A
0020 7401              MOV     A,#01H
0022 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 750
0023 EF                MOV     A,R7
0024 75F005            MOV     B,#05H
0027 A4                MUL     AB
0028 2400        E     ADD     A,#LOW g_mem+05H
002A F582              MOV     DPL,A
002C E4                CLR     A
002D 3400        E     ADDC    A,#HIGH g_mem+05H
002F F583              MOV     DPH,A
0031 7401              MOV     A,#01H
0033 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 751
0034 EF                MOV     A,R7
0035 75F005            MOV     B,#05H
0038 A4                MUL     AB
0039 2400        E     ADD     A,#LOW g_mem+06H
003B F582              MOV     DPL,A
003D E4                CLR     A
003E 3400        E     ADDC    A,#HIGH g_mem+06H
0040 F583              MOV     DPH,A
0042 E4                CLR     A
0043 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 752
0044 EF                MOV     A,R7
0045 75F005            MOV     B,#05H
0048 A4                MUL     AB
0049 2400        E     ADD     A,#LOW g_mem+07H
004B F582              MOV     DPL,A
004D E4                CLR     A
004E 3400        E     ADDC    A,#HIGH g_mem+07H
0050 F583              MOV     DPH,A
0052 E4                CLR     A
0053 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 753
0054 EF                MOV     A,R7
0055 75F005            MOV     B,#05H
0058 A4                MUL     AB
0059 2400        E     ADD     A,#LOW g_mem+08H
005B F582              MOV     DPL,A
005D E4                CLR     A
005E 3400        E     ADDC    A,#HIGH g_mem+08H
0060 F583              MOV     DPH,A
0062 E4                CLR     A
0063 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 757
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 97  

0064 0F                INC     R7
0065 80A5              SJMP    ?C0140
0067         ?C0141:
                                           ; SOURCE LINE # 760
0067 E4                CLR     A
0068 FF                MOV     R7,A
0069 FE                MOV     R6,A
006A 120000      R     LCALL   _memStore
006D EF                MOV     A,R7
006E 600E              JZ      ?C0143
0070 7F32              MOV     R7,#032H
0072 7E00              MOV     R6,#00H
0074 120000      R     LCALL   _memStore
0077 EF                MOV     A,R7
0078 6004              JZ      ?C0143
007A 7F01              MOV     R7,#01H
007C 8002              SJMP    ?C0144
007E         ?C0143:
007E 7F00              MOV     R7,#00H
0080         ?C0144:
                                           ; SOURCE LINE # 761
0080         ?C0145:
0080 22                RET     
             ; FUNCTION memInit (END)

             ; FUNCTION cmd_set_baudrate (BEGIN)
                                           ; SOURCE LINE # 770
                                           ; SOURCE LINE # 773
0000 900000      E     MOV     DPTR,#g_rx+01H
0003 E0                MOVX    A,@DPTR
0004 900000      E     MOV     DPTR,#c_mem+02H
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 775
0008 24F3              ADD     A,#0F3H
000A 700A              JNZ     ?C0148
                                           ; SOURCE LINE # 776
000C         ?C0147:
                                           ; SOURCE LINE # 777
000C 7D01              MOV     R5,#01H
000E 7F0C              MOV     R7,#0CH
0010 7E00              MOV     R6,#00H
0012 120000      E     LCALL   _CLOCK_UART_SetDividerRegister
                                           ; SOURCE LINE # 778
0015 22                RET     
                                           ; SOURCE LINE # 779
0016         ?C0148:
                                           ; SOURCE LINE # 780
0016 7D01              MOV     R5,#01H
0018 7F02              MOV     R7,#02H
001A 7E00              MOV     R6,#00H
001C 120000      E     LCALL   _CLOCK_UART_SetDividerRegister
                                           ; SOURCE LINE # 781
                                           ; SOURCE LINE # 782
001F         ?C0149:
001F 22                RET     
             ; FUNCTION cmd_set_baudrate (END)

             ; FUNCTION cmd_ping (BEGIN)
                                           ; SOURCE LINE # 784
                                           ; SOURCE LINE # 789
0000 E4                CLR     A
0001 900000      R     MOV     DPTR,#packet_data
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 98  

0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 792
0005 A3                INC     DPTR
0006 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 795
0007 7B01              MOV     R3,#01H
0009 7A00        R     MOV     R2,#HIGH packet_data
000B 7900        R     MOV     R1,#LOW packet_data
000D 7D02              MOV     R5,#02H
000F FC                MOV     R4,A
0010 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 796
0013 22                RET     
             ; FUNCTION cmd_ping (END)

             ; FUNCTION cmd_store_params (BEGIN)
                                           ; SOURCE LINE # 798
                                           ; SOURCE LINE # 800
0000 E4                CLR     A
0001 FF                MOV     R7,A
0002 FE                MOV     R6,A
0003 120000      R     LCALL   _memStore
0006 EF                MOV     A,R7
0007 6006              JZ      ?C0151
                                           ; SOURCE LINE # 801
0009 7F01              MOV     R7,#01H
000B 120000      R     LCALL   _sendAcknowledgment
000E 22                RET     
000F         ?C0151:
                                           ; SOURCE LINE # 803
000F E4                CLR     A
0010 FF                MOV     R7,A
0011 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 804
0014         ?C0153:
0014 22                RET     
             ; FUNCTION cmd_store_params (END)

             ; FUNCTION cmd_get_imu_readings (BEGIN)
                                           ; SOURCE LINE # 806
                                           ; SOURCE LINE # 810
0000 900000      R     MOV     DPTR,#c
0003 7401              MOV     A,#01H
0005 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 811
0006 E4                CLR     A
0007 A3                INC     DPTR
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 812
0009 A3                INC     DPTR
000A 04                INC     A
000B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 819
000C A3                INC     DPTR
000D 74A1              MOV     A,#0A1H
000F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 821
0010 E4                CLR     A
0011 900000      R     MOV     DPTR,#k_imu
0014 F0                MOVX    @DPTR,A
0015         ?C0154:
0015 900000      E     MOV     DPTR,#N_IMU_Connected
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 99  

0018 E0                MOVX    A,@DPTR
0019 FF                MOV     R7,A
001A 900000      R     MOV     DPTR,#k_imu
001D E0                MOVX    A,@DPTR
001E FE                MOV     R6,A
001F C3                CLR     C
0020 9F                SUBB    A,R7
0021 4003              JC      $ + 5H
0023 020000      R     LJMP    ?C0155
                                           ; SOURCE LINE # 822
                                           ; SOURCE LINE # 824
0026 900000      R     MOV     DPTR,#single_packet
0029 743A              MOV     A,#03AH
002B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 825
002C 7400        E     MOV     A,#LOW IMU_connected
002E 2E                ADD     A,R6
002F F582              MOV     DPL,A
0031 E4                CLR     A
0032 3400        E     ADDC    A,#HIGH IMU_connected
0034 F583              MOV     DPH,A
0036 E0                MOVX    A,@DPTR
0037 75F005            MOV     B,#05H
003A A4                MUL     AB
003B 2400        E     ADD     A,#LOW c_mem+04H
003D F582              MOV     DPL,A
003F E4                CLR     A
0040 3400        E     ADDC    A,#HIGH c_mem+04H
0042 F583              MOV     DPH,A
0044 E0                MOVX    A,@DPTR
0045 607B              JZ      ?C0157
                                           ; SOURCE LINE # 826
0047 900000      R     MOV     DPTR,#k_imu
004A E0                MOVX    A,@DPTR
004B FF                MOV     R7,A
004C 75F025            MOV     B,#025H
004F A4                MUL     AB
0050 2400        E     ADD     A,#LOW g_imu+01H
0052 F582              MOV     DPL,A
0054 E5F0              MOV     A,B
0056 3400        E     ADDC    A,#HIGH g_imu+01H
0058 F583              MOV     DPH,A
005A E0                MOVX    A,@DPTR
005B FC                MOV     R4,A
005C A3                INC     DPTR
005D E0                MOVX    A,@DPTR
005E FD                MOV     R5,A
005F 900000      R     MOV     DPTR,#c
0062 E0                MOVX    A,@DPTR
0063 FE                MOV     R6,A
0064 2400        R     ADD     A,#LOW single_packet
0066 F582              MOV     DPL,A
0068 E4                CLR     A
0069 3400        R     ADDC    A,#HIGH single_packet
006B F583              MOV     DPH,A
006D EC                MOV     A,R4
006E F0                MOVX    @DPTR,A
006F A3                INC     DPTR
0070 ED                MOV     A,R5
0071 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 827
0072 75F025            MOV     B,#025H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 100 

0075 EF                MOV     A,R7
0076 A4                MUL     AB
0077 2400        E     ADD     A,#LOW g_imu+03H
0079 F582              MOV     DPL,A
007B E5F0              MOV     A,B
007D 3400        E     ADDC    A,#HIGH g_imu+03H
007F F583              MOV     DPH,A
0081 E0                MOVX    A,@DPTR
0082 FC                MOV     R4,A
0083 A3                INC     DPTR
0084 E0                MOVX    A,@DPTR
0085 FD                MOV     R5,A
0086 7400        R     MOV     A,#LOW single_packet+02H
0088 2E                ADD     A,R6
0089 F582              MOV     DPL,A
008B E4                CLR     A
008C 3400        R     ADDC    A,#HIGH single_packet+02H
008E F583              MOV     DPH,A
0090 EC                MOV     A,R4
0091 F0                MOVX    @DPTR,A
0092 A3                INC     DPTR
0093 ED                MOV     A,R5
0094 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 828
0095 900000      R     MOV     DPTR,#k_imu
0098 E0                MOVX    A,@DPTR
0099 75F025            MOV     B,#025H
009C A4                MUL     AB
009D 2400        E     ADD     A,#LOW g_imu+05H
009F F582              MOV     DPL,A
00A1 E5F0              MOV     A,B
00A3 3400        E     ADDC    A,#HIGH g_imu+05H
00A5 F583              MOV     DPH,A
00A7 E0                MOVX    A,@DPTR
00A8 FC                MOV     R4,A
00A9 A3                INC     DPTR
00AA E0                MOVX    A,@DPTR
00AB FD                MOV     R5,A
00AC 7400        R     MOV     A,#LOW single_packet+04H
00AE 2E                ADD     A,R6
00AF F582              MOV     DPL,A
00B1 E4                CLR     A
00B2 3400        R     ADDC    A,#HIGH single_packet+04H
00B4 F583              MOV     DPH,A
00B6 EC                MOV     A,R4
00B7 F0                MOVX    @DPTR,A
00B8 A3                INC     DPTR
00B9 ED                MOV     A,R5
00BA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 829
00BB 900000      R     MOV     DPTR,#c
00BE E0                MOVX    A,@DPTR
00BF 2406              ADD     A,#06H
00C1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 830
00C2         ?C0157:
                                           ; SOURCE LINE # 831
00C2 900000      R     MOV     DPTR,#k_imu
00C5 E0                MOVX    A,@DPTR
00C6 FF                MOV     R7,A
00C7 2400        E     ADD     A,#LOW IMU_connected
00C9 F582              MOV     DPL,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 101 

00CB E4                CLR     A
00CC 3400        E     ADDC    A,#HIGH IMU_connected
00CE F583              MOV     DPH,A
00D0 E0                MOVX    A,@DPTR
00D1 75F005            MOV     B,#05H
00D4 A4                MUL     AB
00D5 2400        E     ADD     A,#LOW c_mem+05H
00D7 F582              MOV     DPL,A
00D9 E4                CLR     A
00DA 3400        E     ADDC    A,#HIGH c_mem+05H
00DC F583              MOV     DPH,A
00DE E0                MOVX    A,@DPTR
00DF 6078              JZ      ?C0158
                                           ; SOURCE LINE # 832
00E1 900000      R     MOV     DPTR,#k_imu
00E4 E0                MOVX    A,@DPTR
00E5 FE                MOV     R6,A
00E6 75F025            MOV     B,#025H
00E9 A4                MUL     AB
00EA 2400        E     ADD     A,#LOW g_imu+07H
00EC F582              MOV     DPL,A
00EE E5F0              MOV     A,B
00F0 3400        E     ADDC    A,#HIGH g_imu+07H
00F2 F583              MOV     DPH,A
00F4 E0                MOVX    A,@DPTR
00F5 FC                MOV     R4,A
00F6 A3                INC     DPTR
00F7 E0                MOVX    A,@DPTR
00F8 FD                MOV     R5,A
00F9 900000      R     MOV     DPTR,#c
00FC E0                MOVX    A,@DPTR
00FD FB                MOV     R3,A
00FE 2400        R     ADD     A,#LOW single_packet
0100 F582              MOV     DPL,A
0102 E4                CLR     A
0103 3400        R     ADDC    A,#HIGH single_packet
0105 F583              MOV     DPH,A
0107 EC                MOV     A,R4
0108 F0                MOVX    @DPTR,A
0109 A3                INC     DPTR
010A ED                MOV     A,R5
010B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 833
010C 75F025            MOV     B,#025H
010F EE                MOV     A,R6
0110 A4                MUL     AB
0111 2400        E     ADD     A,#LOW g_imu+09H
0113 F582              MOV     DPL,A
0115 E5F0              MOV     A,B
0117 3400        E     ADDC    A,#HIGH g_imu+09H
0119 F583              MOV     DPH,A
011B E0                MOVX    A,@DPTR
011C FC                MOV     R4,A
011D A3                INC     DPTR
011E E0                MOVX    A,@DPTR
011F FD                MOV     R5,A
0120 7400        R     MOV     A,#LOW single_packet+02H
0122 2B                ADD     A,R3
0123 F582              MOV     DPL,A
0125 E4                CLR     A
0126 3400        R     ADDC    A,#HIGH single_packet+02H
0128 F583              MOV     DPH,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 102 

012A EC                MOV     A,R4
012B F0                MOVX    @DPTR,A
012C A3                INC     DPTR
012D ED                MOV     A,R5
012E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 834
012F 75F025            MOV     B,#025H
0132 EF                MOV     A,R7
0133 A4                MUL     AB
0134 2400        E     ADD     A,#LOW g_imu+0BH
0136 F582              MOV     DPL,A
0138 E5F0              MOV     A,B
013A 3400        E     ADDC    A,#HIGH g_imu+0BH
013C F583              MOV     DPH,A
013E E0                MOVX    A,@DPTR
013F FE                MOV     R6,A
0140 A3                INC     DPTR
0141 E0                MOVX    A,@DPTR
0142 FF                MOV     R7,A
0143 7400        R     MOV     A,#LOW single_packet+04H
0145 2B                ADD     A,R3
0146 F582              MOV     DPL,A
0148 E4                CLR     A
0149 3400        R     ADDC    A,#HIGH single_packet+04H
014B F583              MOV     DPH,A
014D EE                MOV     A,R6
014E F0                MOVX    @DPTR,A
014F A3                INC     DPTR
0150 EF                MOV     A,R7
0151 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 835
0152 900000      R     MOV     DPTR,#c
0155 E0                MOVX    A,@DPTR
0156 2406              ADD     A,#06H
0158 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 836
0159         ?C0158:
                                           ; SOURCE LINE # 837
0159 900000      R     MOV     DPTR,#k_imu
015C E0                MOVX    A,@DPTR
015D FF                MOV     R7,A
015E 2400        E     ADD     A,#LOW IMU_connected
0160 F582              MOV     DPL,A
0162 E4                CLR     A
0163 3400        E     ADDC    A,#HIGH IMU_connected
0165 F583              MOV     DPH,A
0167 E0                MOVX    A,@DPTR
0168 75F005            MOV     B,#05H
016B A4                MUL     AB
016C 2400        E     ADD     A,#LOW c_mem+06H
016E F582              MOV     DPL,A
0170 E4                CLR     A
0171 3400        E     ADDC    A,#HIGH c_mem+06H
0173 F583              MOV     DPH,A
0175 E0                MOVX    A,@DPTR
0176 6078              JZ      ?C0159
                                           ; SOURCE LINE # 838
0178 900000      R     MOV     DPTR,#k_imu
017B E0                MOVX    A,@DPTR
017C FE                MOV     R6,A
017D 75F025            MOV     B,#025H
0180 A4                MUL     AB
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 103 

0181 2400        E     ADD     A,#LOW g_imu+0DH
0183 F582              MOV     DPL,A
0185 E5F0              MOV     A,B
0187 3400        E     ADDC    A,#HIGH g_imu+0DH
0189 F583              MOV     DPH,A
018B E0                MOVX    A,@DPTR
018C FC                MOV     R4,A
018D A3                INC     DPTR
018E E0                MOVX    A,@DPTR
018F FD                MOV     R5,A
0190 900000      R     MOV     DPTR,#c
0193 E0                MOVX    A,@DPTR
0194 FB                MOV     R3,A
0195 2400        R     ADD     A,#LOW single_packet
0197 F582              MOV     DPL,A
0199 E4                CLR     A
019A 3400        R     ADDC    A,#HIGH single_packet
019C F583              MOV     DPH,A
019E EC                MOV     A,R4
019F F0                MOVX    @DPTR,A
01A0 A3                INC     DPTR
01A1 ED                MOV     A,R5
01A2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 839
01A3 75F025            MOV     B,#025H
01A6 EE                MOV     A,R6
01A7 A4                MUL     AB
01A8 2400        E     ADD     A,#LOW g_imu+0FH
01AA F582              MOV     DPL,A
01AC E5F0              MOV     A,B
01AE 3400        E     ADDC    A,#HIGH g_imu+0FH
01B0 F583              MOV     DPH,A
01B2 E0                MOVX    A,@DPTR
01B3 FC                MOV     R4,A
01B4 A3                INC     DPTR
01B5 E0                MOVX    A,@DPTR
01B6 FD                MOV     R5,A
01B7 7400        R     MOV     A,#LOW single_packet+02H
01B9 2B                ADD     A,R3
01BA F582              MOV     DPL,A
01BC E4                CLR     A
01BD 3400        R     ADDC    A,#HIGH single_packet+02H
01BF F583              MOV     DPH,A
01C1 EC                MOV     A,R4
01C2 F0                MOVX    @DPTR,A
01C3 A3                INC     DPTR
01C4 ED                MOV     A,R5
01C5 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 840
01C6 75F025            MOV     B,#025H
01C9 EF                MOV     A,R7
01CA A4                MUL     AB
01CB 2400        E     ADD     A,#LOW g_imu+011H
01CD F582              MOV     DPL,A
01CF E5F0              MOV     A,B
01D1 3400        E     ADDC    A,#HIGH g_imu+011H
01D3 F583              MOV     DPH,A
01D5 E0                MOVX    A,@DPTR
01D6 FE                MOV     R6,A
01D7 A3                INC     DPTR
01D8 E0                MOVX    A,@DPTR
01D9 FF                MOV     R7,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 104 

01DA 7400        R     MOV     A,#LOW single_packet+04H
01DC 2B                ADD     A,R3
01DD F582              MOV     DPL,A
01DF E4                CLR     A
01E0 3400        R     ADDC    A,#HIGH single_packet+04H
01E2 F583              MOV     DPH,A
01E4 EE                MOV     A,R6
01E5 F0                MOVX    @DPTR,A
01E6 A3                INC     DPTR
01E7 EF                MOV     A,R7
01E8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 841
01E9 900000      R     MOV     DPTR,#c
01EC E0                MOVX    A,@DPTR
01ED 2406              ADD     A,#06H
01EF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 842
01F0         ?C0159:
                                           ; SOURCE LINE # 843
01F0 900000      R     MOV     DPTR,#k_imu
01F3 E0                MOVX    A,@DPTR
01F4 2400        E     ADD     A,#LOW IMU_connected
01F6 F582              MOV     DPL,A
01F8 E4                CLR     A
01F9 3400        E     ADDC    A,#HIGH IMU_connected
01FB F583              MOV     DPH,A
01FD E0                MOVX    A,@DPTR
01FE 75F005            MOV     B,#05H
0201 A4                MUL     AB
0202 2400        E     ADD     A,#LOW c_mem+07H
0204 F582              MOV     DPL,A
0206 E4                CLR     A
0207 3400        E     ADDC    A,#HIGH c_mem+07H
0209 F583              MOV     DPH,A
020B E0                MOVX    A,@DPTR
020C 7003              JNZ     $ + 5H
020E 020000      R     LJMP    ?C0160
                                           ; SOURCE LINE # 844
0211 900000      R     MOV     DPTR,#k_imu
0214 E0                MOVX    A,@DPTR
0215 FB                MOV     R3,A
0216 75F025            MOV     B,#025H
0219 A4                MUL     AB
021A 2400        E     ADD     A,#LOW g_imu+013H
021C F582              MOV     DPL,A
021E E5F0              MOV     A,B
0220 3400        E     ADDC    A,#HIGH g_imu+013H
0222 F583              MOV     DPH,A
0224 E0                MOVX    A,@DPTR
0225 FC                MOV     R4,A
0226 A3                INC     DPTR
0227 E0                MOVX    A,@DPTR
0228 FD                MOV     R5,A
0229 A3                INC     DPTR
022A E0                MOVX    A,@DPTR
022B FE                MOV     R6,A
022C A3                INC     DPTR
022D E0                MOVX    A,@DPTR
022E FF                MOV     R7,A
022F 900000      R     MOV     DPTR,#c
0232 E0                MOVX    A,@DPTR
0233 FA                MOV     R2,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 105 

0234 2400        R     ADD     A,#LOW single_packet
0236 F582              MOV     DPL,A
0238 E4                CLR     A
0239 3400        R     ADDC    A,#HIGH single_packet
023B F583              MOV     DPH,A
023D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 845
0240 75F025            MOV     B,#025H
0243 EB                MOV     A,R3
0244 A4                MUL     AB
0245 2400        E     ADD     A,#LOW g_imu+017H
0247 F582              MOV     DPL,A
0249 E5F0              MOV     A,B
024B 3400        E     ADDC    A,#HIGH g_imu+017H
024D F583              MOV     DPH,A
024F E0                MOVX    A,@DPTR
0250 FC                MOV     R4,A
0251 A3                INC     DPTR
0252 E0                MOVX    A,@DPTR
0253 FD                MOV     R5,A
0254 A3                INC     DPTR
0255 E0                MOVX    A,@DPTR
0256 FE                MOV     R6,A
0257 A3                INC     DPTR
0258 E0                MOVX    A,@DPTR
0259 FF                MOV     R7,A
025A 7400        R     MOV     A,#LOW single_packet+04H
025C 2A                ADD     A,R2
025D F582              MOV     DPL,A
025F E4                CLR     A
0260 3400        R     ADDC    A,#HIGH single_packet+04H
0262 F583              MOV     DPH,A
0264 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 846
0267 900000      R     MOV     DPTR,#k_imu
026A E0                MOVX    A,@DPTR
026B FB                MOV     R3,A
026C 75F025            MOV     B,#025H
026F A4                MUL     AB
0270 2400        E     ADD     A,#LOW g_imu+01BH
0272 F582              MOV     DPL,A
0274 E5F0              MOV     A,B
0276 3400        E     ADDC    A,#HIGH g_imu+01BH
0278 F583              MOV     DPH,A
027A E0                MOVX    A,@DPTR
027B FC                MOV     R4,A
027C A3                INC     DPTR
027D E0                MOVX    A,@DPTR
027E FD                MOV     R5,A
027F A3                INC     DPTR
0280 E0                MOVX    A,@DPTR
0281 FE                MOV     R6,A
0282 A3                INC     DPTR
0283 E0                MOVX    A,@DPTR
0284 FF                MOV     R7,A
0285 7400        R     MOV     A,#LOW single_packet+08H
0287 2A                ADD     A,R2
0288 F582              MOV     DPL,A
028A E4                CLR     A
028B 3400        R     ADDC    A,#HIGH single_packet+08H
028D F583              MOV     DPH,A
028F 120000      E     LCALL   ?C?LSTXDATA
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 106 

                                           ; SOURCE LINE # 847
0292 75F025            MOV     B,#025H
0295 EB                MOV     A,R3
0296 A4                MUL     AB
0297 2400        E     ADD     A,#LOW g_imu+01FH
0299 F582              MOV     DPL,A
029B E5F0              MOV     A,B
029D 3400        E     ADDC    A,#HIGH g_imu+01FH
029F F583              MOV     DPH,A
02A1 E0                MOVX    A,@DPTR
02A2 FC                MOV     R4,A
02A3 A3                INC     DPTR
02A4 E0                MOVX    A,@DPTR
02A5 FD                MOV     R5,A
02A6 A3                INC     DPTR
02A7 E0                MOVX    A,@DPTR
02A8 FE                MOV     R6,A
02A9 A3                INC     DPTR
02AA E0                MOVX    A,@DPTR
02AB FF                MOV     R7,A
02AC 7400        R     MOV     A,#LOW single_packet+0CH
02AE 2A                ADD     A,R2
02AF F582              MOV     DPL,A
02B1 E4                CLR     A
02B2 3400        R     ADDC    A,#HIGH single_packet+0CH
02B4 F583              MOV     DPH,A
02B6 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 848
02B9 900000      R     MOV     DPTR,#c
02BC E0                MOVX    A,@DPTR
02BD 2410              ADD     A,#010H
02BF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 849
02C0         ?C0160:
                                           ; SOURCE LINE # 850
02C0 900000      R     MOV     DPTR,#k_imu
02C3 E0                MOVX    A,@DPTR
02C4 FF                MOV     R7,A
02C5 2400        E     ADD     A,#LOW IMU_connected
02C7 F582              MOV     DPL,A
02C9 E4                CLR     A
02CA 3400        E     ADDC    A,#HIGH IMU_connected
02CC F583              MOV     DPH,A
02CE E0                MOVX    A,@DPTR
02CF 75F005            MOV     B,#05H
02D2 A4                MUL     AB
02D3 2400        E     ADD     A,#LOW c_mem+08H
02D5 F582              MOV     DPL,A
02D7 E4                CLR     A
02D8 3400        E     ADDC    A,#HIGH c_mem+08H
02DA F583              MOV     DPH,A
02DC E0                MOVX    A,@DPTR
02DD 602D              JZ      ?C0161
                                           ; SOURCE LINE # 851
02DF 75F025            MOV     B,#025H
02E2 EF                MOV     A,R7
02E3 A4                MUL     AB
02E4 2400        E     ADD     A,#LOW g_imu+023H
02E6 F582              MOV     DPL,A
02E8 E5F0              MOV     A,B
02EA 3400        E     ADDC    A,#HIGH g_imu+023H
02EC F583              MOV     DPH,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 107 

02EE E0                MOVX    A,@DPTR
02EF FE                MOV     R6,A
02F0 A3                INC     DPTR
02F1 E0                MOVX    A,@DPTR
02F2 FF                MOV     R7,A
02F3 900000      R     MOV     DPTR,#c
02F6 E0                MOVX    A,@DPTR
02F7 2400        R     ADD     A,#LOW single_packet
02F9 F582              MOV     DPL,A
02FB E4                CLR     A
02FC 3400        R     ADDC    A,#HIGH single_packet
02FE F583              MOV     DPH,A
0300 EE                MOV     A,R6
0301 F0                MOVX    @DPTR,A
0302 A3                INC     DPTR
0303 EF                MOV     A,R7
0304 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 852
0305 900000      R     MOV     DPTR,#c
0308 E0                MOVX    A,@DPTR
0309 2402              ADD     A,#02H
030B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 853
030C         ?C0161:
                                           ; SOURCE LINE # 854
030C 900000      R     MOV     DPTR,#k_imu
030F E0                MOVX    A,@DPTR
0310 2400        E     ADD     A,#LOW IMU_connected
0312 F582              MOV     DPL,A
0314 E4                CLR     A
0315 3400        E     ADDC    A,#HIGH IMU_connected
0317 F583              MOV     DPH,A
0319 E0                MOVX    A,@DPTR
031A 25E0              ADD     A,ACC
031C 2400        E     ADD     A,#LOW single_imu_size
031E F582              MOV     DPL,A
0320 E4                CLR     A
0321 3400        E     ADDC    A,#HIGH single_imu_size
0323 F583              MOV     DPH,A
0325 E0                MOVX    A,@DPTR
0326 FE                MOV     R6,A
0327 A3                INC     DPTR
0328 E0                MOVX    A,@DPTR
0329 2400        R     ADD     A,#LOW single_packet+0FFFFH
032B F582              MOV     DPL,A
032D 7400        R     MOV     A,#HIGH single_packet+0FFFFH
032F 3E                ADDC    A,R6
0330 F583              MOV     DPH,A
0332 743A              MOV     A,#03AH
0334 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 855
0335 900000      R     MOV     DPTR,#c
0338 7401              MOV     A,#01H
033A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 857
033B E4                CLR     A
033C A3                INC     DPTR
033D F0                MOVX    @DPTR,A
033E         ?C0162:
033E 900000      R     MOV     DPTR,#k_imu
0341 E0                MOVX    A,@DPTR
0342 2400        E     ADD     A,#LOW IMU_connected
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 108 

0344 F582              MOV     DPL,A
0346 E4                CLR     A
0347 3400        E     ADDC    A,#HIGH IMU_connected
0349 F583              MOV     DPH,A
034B E0                MOVX    A,@DPTR
034C F9                MOV     R1,A
034D 25E0              ADD     A,ACC
034F 2400        E     ADD     A,#LOW single_imu_size
0351 F582              MOV     DPL,A
0353 E4                CLR     A
0354 3400        E     ADDC    A,#HIGH single_imu_size
0356 F583              MOV     DPH,A
0358 E0                MOVX    A,@DPTR
0359 FE                MOV     R6,A
035A A3                INC     DPTR
035B E0                MOVX    A,@DPTR
035C FF                MOV     R7,A
035D 900000      R     MOV     DPTR,#k
0360 E0                MOVX    A,@DPTR
0361 FD                MOV     R5,A
0362 D3                SETB    C
0363 EF                MOV     A,R7
0364 9D                SUBB    A,R5
0365 7480              MOV     A,#080H
0367 F8                MOV     R0,A
0368 EE                MOV     A,R6
0369 6480              XRL     A,#080H
036B 98                SUBB    A,R0
036C 402B              JC      ?C0163
                                           ; SOURCE LINE # 858
036E E0                MOVX    A,@DPTR
036F FF                MOV     R7,A
0370 2400        R     ADD     A,#LOW single_packet
0372 F582              MOV     DPL,A
0374 E4                CLR     A
0375 3400        R     ADDC    A,#HIGH single_packet
0377 F583              MOV     DPH,A
0379 E0                MOVX    A,@DPTR
037A FE                MOV     R6,A
037B EF                MOV     A,R7
037C 900000      R     MOV     DPTR,#gl_c
037F E0                MOVX    A,@DPTR
0380 2D                ADD     A,R5
0381 FD                MOV     R5,A
0382 E4                CLR     A
0383 33                RLC     A
0384 FC                MOV     R4,A
0385 7400        R     MOV     A,#LOW packet_data
0387 2D                ADD     A,R5
0388 F582              MOV     DPL,A
038A 7400        R     MOV     A,#HIGH packet_data
038C 3C                ADDC    A,R4
038D F583              MOV     DPH,A
038F EE                MOV     A,R6
0390 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 859
0391 900000      R     MOV     DPTR,#k
0394 E0                MOVX    A,@DPTR
0395 04                INC     A
0396 F0                MOVX    @DPTR,A
0397 80A5              SJMP    ?C0162
0399         ?C0163:
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 109 

                                           ; SOURCE LINE # 860
0399 E9                MOV     A,R1
039A 25E0              ADD     A,ACC
039C 2400        E     ADD     A,#LOW single_imu_size
039E F582              MOV     DPL,A
03A0 E4                CLR     A
03A1 3400        E     ADDC    A,#HIGH single_imu_size
03A3 F583              MOV     DPH,A
03A5 E0                MOVX    A,@DPTR
03A6 A3                INC     DPTR
03A7 E0                MOVX    A,@DPTR
03A8 FF                MOV     R7,A
03A9 900000      R     MOV     DPTR,#gl_c
03AC E0                MOVX    A,@DPTR
03AD 2F                ADD     A,R7
03AE F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 862
03AF 7E00              MOV     R6,#00H
03B1 7F16              MOV     R7,#016H
03B3 7D00              MOV     R5,#00H
03B5 7B01              MOV     R3,#01H
03B7 7A00        R     MOV     R2,#HIGH single_packet
03B9 7900        R     MOV     R1,#LOW single_packet
03BB 120000      E     LCALL   ?C?MEMSET
                                           ; SOURCE LINE # 864
03BE 900000      R     MOV     DPTR,#k_imu
03C1 E0                MOVX    A,@DPTR
03C2 04                INC     A
03C3 F0                MOVX    @DPTR,A
03C4 020000      R     LJMP    ?C0154
03C7         ?C0155:
                                           ; SOURCE LINE # 867
03C7 7B01              MOV     R3,#01H
03C9 7A00        R     MOV     R2,#HIGH packet_data
03CB 7900        R     MOV     R1,#LOW packet_data
03CD 900000      E     MOV     DPTR,#imus_data_size
03D0 E0                MOVX    A,@DPTR
03D1 A3                INC     DPTR
03D2 E0                MOVX    A,@DPTR
03D3 14                DEC     A
03D4 FD                MOV     R5,A
03D5 120000      R     LCALL   _LCRChecksum
03D8 900000      E     MOV     DPTR,#imus_data_size
03DB E0                MOVX    A,@DPTR
03DC FC                MOV     R4,A
03DD A3                INC     DPTR
03DE E0                MOVX    A,@DPTR
03DF FD                MOV     R5,A
03E0 2400        R     ADD     A,#LOW packet_data+0FFFFH
03E2 F582              MOV     DPL,A
03E4 7400        R     MOV     A,#HIGH packet_data+0FFFFH
03E6 3C                ADDC    A,R4
03E7 F583              MOV     DPH,A
03E9 EF                MOV     A,R7
03EA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 868
03EB 7B01              MOV     R3,#01H
03ED 7A00        R     MOV     R2,#HIGH packet_data
03EF 7900        R     MOV     R1,#LOW packet_data
03F1 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 869
03F4 22                RET     
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 110 

             ; FUNCTION cmd_get_imu_readings (END)

             ; FUNCTION cmd_get_sensors (BEGIN)
                                           ; SOURCE LINE # 871
                                           ; SOURCE LINE # 876
0000 900000      R     MOV     DPTR,#packet_data
0003 74A6              MOV     A,#0A6H
0005 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 878
0006 900000      E     MOV     DPTR,#sensor_value_1
0009 E0                MOVX    A,@DPTR
000A FF                MOV     R7,A
000B A3                INC     DPTR
000C E0                MOVX    A,@DPTR
000D 900000      R     MOV     DPTR,#packet_data+01H
0010 CF                XCH     A,R7
0011 F0                MOVX    @DPTR,A
0012 A3                INC     DPTR
0013 EF                MOV     A,R7
0014 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 879
0015 900000      E     MOV     DPTR,#sensor_value_2
0018 E0                MOVX    A,@DPTR
0019 FF                MOV     R7,A
001A A3                INC     DPTR
001B E0                MOVX    A,@DPTR
001C 900000      R     MOV     DPTR,#packet_data+03H
001F CF                XCH     A,R7
0020 F0                MOVX    @DPTR,A
0021 A3                INC     DPTR
0022 EF                MOV     A,R7
0023 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 881
0024 7B01              MOV     R3,#01H
0026 7A00        R     MOV     R2,#HIGH packet_data
0028 7900        R     MOV     R1,#LOW packet_data
002A 7D05              MOV     R5,#05H
002C 120000      R     LCALL   _LCRChecksum
002F 900000      R     MOV     DPTR,#packet_data+05H
0032 EF                MOV     A,R7
0033 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 883
0034 7B01              MOV     R3,#01H
0036 7A00        R     MOV     R2,#HIGH packet_data
0038 7900        R     MOV     R1,#LOW packet_data
003A 0D                INC     R5
003B 7C00              MOV     R4,#00H
003D 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 885
0040 22                RET     
             ; FUNCTION cmd_get_sensors (END)



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   8485    ----
   CONSTANT SIZE    =   2855    ----
   XDATA SIZE       =   1102    3933
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      20
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    02/25/2019 07:53:22 PAGE 111 

   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
